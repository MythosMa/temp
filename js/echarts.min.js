(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports):typeof define==="function"&&define.amd?define(["exports"],e):e(t.echarts={})})(this,function(t){"use strict";var e=2311;var r=function(){return e++};var i={};if(typeof navigator==="undefined"){i={browser:{},os:{},node:true,canvasSupported:true,svgSupported:true}}else{i=a(navigator.userAgent)}var n=i;function a(t){var e={};var r={};var i=t.match(/Firefox\/([\d.]+)/);var n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/);var a=t.match(/Edge\/([\d.]+)/);var o=/micromessenger/i.test(t);if(i){r.firefox=true;r.version=i[1]}if(n){r.ie=true;r.version=n[1]}if(a){r.edge=true;r.version=a[1]}if(o){r.weChat=true}return{browser:r,os:e,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11)}}var o={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var s={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var l=Object.prototype.toString;var h=Array.prototype;var u=h.forEach;var f=h.filter;var c=h.slice;var v=h.map;var d=h.reduce;var p={};function g(t,e){p[t]=e}function m(t){if(t==null||typeof t!="object"){return t}var e=t;var r=l.call(t);if(r==="[object Array]"){e=[];for(var i=0,n=t.length;i<n;i++){e[i]=m(t[i])}}else if(s[r]){var a=t.constructor;if(t.constructor.from){e=a.from(t)}else{e=new a(t.length);for(var i=0,n=t.length;i<n;i++){e[i]=m(t[i])}}}else if(!o[r]&&!$(t)&&!W(t)){e={};for(var h in t){if(t.hasOwnProperty(h)){e[h]=m(t[h])}}}return e}function y(t,e,r){if(!N(e)||!N(t)){return r?m(e):t}for(var i in e){if(e.hasOwnProperty(i)){var n=t[i];var a=e[i];if(N(a)&&N(n)&&!B(a)&&!B(n)&&!W(a)&&!W(n)&&!F(a)&&!F(n)&&!$(a)&&!$(n)){y(n,a,r)}else if(r||!(i in t)){t[i]=m(e[i],true)}}}return t}function _(t,e){var r=t[0];for(var i=1,n=t.length;i<n;i++){r=y(r,t[i],e)}return r}function x(t,e){for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}return t}function w(t,e,r){for(var i in e){if(e.hasOwnProperty(i)&&(r?e[i]!=null:t[i]==null)){t[i]=e[i]}}return t}var b=function(){return p.createCanvas()};p.createCanvas=function(){return document.createElement("canvas")};var S;function M(){if(!S){S=b().getContext("2d")}return S}function T(t,e){if(t){if(t.indexOf){return t.indexOf(e)}for(var r=0,i=t.length;r<i;r++){if(t[r]===e){return r}}}return-1}function C(t,e){var r=t.prototype;function i(){}i.prototype=e.prototype;t.prototype=new i;for(var n in r){t.prototype[n]=r[n]}t.prototype.constructor=t;t.superClass=e}function k(t,e,r){t="prototype"in t?t.prototype:t;e="prototype"in e?e.prototype:e;w(t,e,r)}function I(t){if(!t){return}if(typeof t=="string"){return false}return typeof t.length=="number"}function A(t,e,r){if(!(t&&e)){return}if(t.forEach&&t.forEach===u){t.forEach(e,r)}else if(t.length===+t.length){for(var i=0,n=t.length;i<n;i++){e.call(r,t[i],i,t)}}else{for(var a in t){if(t.hasOwnProperty(a)){e.call(r,t[a],a,t)}}}}function L(t,e,r){if(!(t&&e)){return}if(t.map&&t.map===v){return t.map(e,r)}else{var i=[];for(var n=0,a=t.length;n<a;n++){i.push(e.call(r,t[n],n,t))}return i}}function P(t,e,r,i){if(!(t&&e)){return}if(t.reduce&&t.reduce===d){return t.reduce(e,r,i)}else{for(var n=0,a=t.length;n<a;n++){r=e.call(i,r,t[n],n,t)}return r}}function D(t,e,r){if(!(t&&e)){return}if(t.filter&&t.filter===f){return t.filter(e,r)}else{var i=[];for(var n=0,a=t.length;n<a;n++){if(e.call(r,t[n],n,t)){i.push(t[n])}}return i}}function O(t,e){var r=c.call(arguments,2);return function(){return t.apply(e,r.concat(c.call(arguments)))}}function z(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}}function B(t){return l.call(t)==="[object Array]"}function E(t){return typeof t==="function"}function R(t){return l.call(t)==="[object String]"}function N(t){var e=typeof t;return e==="function"||!!t&&e=="object"}function F(t){return!!o[l.call(t)]}function W(t){return typeof t==="object"&&typeof t.nodeType==="number"&&typeof t.ownerDocument==="object"}function H(t){return t!==t}function G(t){for(var e=0,r=arguments.length;e<r;e++){if(arguments[e]!=null){return arguments[e]}}}function V(t,e){return t!=null?t:e}function q(t,e,r){return t!=null?t:e!=null?e:r}function X(){return Function.call.apply(c,arguments)}function Z(t){if(typeof t==="number"){return[t,t,t,t]}var e=t.length;if(e===2){return[t[0],t[1],t[0],t[1]]}else if(e===3){return[t[0],t[1],t[2],t[1]]}return t}function Y(t,e){if(!t){throw new Error(e)}}var U="__ec_primitive__";function j(t){t[U]=true}function $(t){return t[U]}function Q(t){t&&A(t,function(t,e){this.set(e,t)},this)}var K="_ec_";var J=4;Q.prototype={constructor:Q,get:function(t){return this[K+t]},set:function(t,e){this[K+t]=e;return e},each:function(t,e){e!==void 0&&(t=O(t,e));for(var r in this){this.hasOwnProperty(r)&&t(this[r],r.slice(J))}},removeKey:function(t){delete this[K+t]}};function tt(t){return new Q(t)}function et(){}var rt=typeof Float32Array==="undefined"?Array:Float32Array;function it(t,e){var r=new rt(2);if(t==null){t=0}if(e==null){e=0}r[0]=t;r[1]=e;return r}function nt(t,e){t[0]=e[0];t[1]=e[1];return t}function at(t){var e=new rt(2);e[0]=t[0];e[1]=t[1];return e}function ot(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];return t}function st(t,e,r,i){t[0]=e[0]+r[0]*i;t[1]=e[1]+r[1]*i;return t}function lt(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];return t}function ht(t){return Math.sqrt(ut(t))}function ut(t){return t[0]*t[0]+t[1]*t[1]}function ft(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;return t}function ct(t,e){var r=ht(e);if(r===0){t[0]=0;t[1]=0}else{t[0]=e[0]/r;t[1]=e[1]/r}return t}function vt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var dt=vt;function pt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var gt=pt;function mt(t,e,r){var i=e[0];var n=e[1];t[0]=r[0]*i+r[2]*n+r[4];t[1]=r[1]*i+r[3]*n+r[5];return t}function yt(t,e,r){t[0]=Math.min(e[0],r[0]);t[1]=Math.min(e[1],r[1]);return t}function _t(t,e,r){t[0]=Math.max(e[0],r[0]);t[1]=Math.max(e[1],r[1]);return t}function xt(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}xt.prototype={constructor:xt,_dragStart:function(t){var e=t.target;if(e&&e.draggable){this._draggingTarget=e;e.dragging=true;this._x=t.offsetX;this._y=t.offsetY;this.dispatchToElement(wt(e,t),"dragstart",t.event)}},_drag:function(t){var e=this._draggingTarget;if(e){var r=t.offsetX;var i=t.offsetY;var n=r-this._x;var a=i-this._y;this._x=r;this._y=i;e.drift(n,a,t);this.dispatchToElement(wt(e,t),"drag",t.event);var o=this.findHover(r,i,e).target;var s=this._dropTarget;this._dropTarget=o;if(e!==o){if(s&&o!==s){this.dispatchToElement(wt(s,t),"dragleave",t.event)}if(o&&o!==s){this.dispatchToElement(wt(o,t),"dragenter",t.event)}}}},_dragEnd:function(t){var e=this._draggingTarget;if(e){e.dragging=false}this.dispatchToElement(wt(e,t),"dragend",t.event);if(this._dropTarget){this.dispatchToElement(wt(this._dropTarget,t),"drop",t.event)}this._draggingTarget=null;this._dropTarget=null}};function wt(t,e){return{target:t,topTarget:e&&e.topTarget}}var bt=Array.prototype.slice;var St=function(){this._$handlers={}};St.prototype={constructor:St,one:function(t,e,r){var i=this._$handlers;if(!e||!t){return this}if(!i[t]){i[t]=[]}for(var n=0;n<i[t].length;n++){if(i[t][n].h===e){return this}}i[t].push({h:e,one:true,ctx:r||this});return this},on:function(t,e,r){var i=this._$handlers;if(!e||!t){return this}if(!i[t]){i[t]=[]}for(var n=0;n<i[t].length;n++){if(i[t][n].h===e){return this}}i[t].push({h:e,one:false,ctx:r||this});return this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var r=this._$handlers;if(!t){this._$handlers={};return this}if(e){if(r[t]){var i=[];for(var n=0,a=r[t].length;n<a;n++){if(r[t][n]["h"]!=e){i.push(r[t][n])}}r[t]=i}if(r[t]&&r[t].length===0){delete r[t]}}else{delete r[t]}return this},trigger:function(t){if(this._$handlers[t]){var e=arguments;var r=e.length;if(r>3){e=bt.call(e,1)}var i=this._$handlers[t];var n=i.length;for(var a=0;a<n;){switch(r){case 1:i[a]["h"].call(i[a]["ctx"]);break;case 2:i[a]["h"].call(i[a]["ctx"],e[1]);break;case 3:i[a]["h"].call(i[a]["ctx"],e[1],e[2]);break;default:i[a]["h"].apply(i[a]["ctx"],e);break}if(i[a]["one"]){i.splice(a,1);n--}else{a++}}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments;var r=e.length;if(r>4){e=bt.call(e,1,e.length-1)}var i=e[e.length-1];var n=this._$handlers[t];var a=n.length;for(var o=0;o<a;){switch(r){case 1:n[o]["h"].call(i);break;case 2:n[o]["h"].call(i,e[1]);break;case 3:n[o]["h"].call(i,e[1],e[2]);break;default:n[o]["h"].apply(i,e);break}if(n[o]["one"]){n.splice(o,1);a--}else{o++}}}return this}};var Mt="silent";function Tt(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:false,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which}}function Ct(){}Ct.prototype.dispose=function(){};var kt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var It=function(t,e,r,i){St.call(this);this.storage=t;this.painter=e;this.painterRoot=i;r=r||new Ct;this.proxy=r;r.handler=this;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;xt.call(this);A(kt,function(t){r.on&&r.on(t,this[t],this)},this)};It.prototype={constructor:It,mousemove:function(t){var e=t.zrX;var r=t.zrY;var i=this._hovered;var n=i.target;if(n&&!n.__zr){i=this.findHover(i.x,i.y);n=i.target}var a=this._hovered=this.findHover(e,r);var o=a.target;var s=this.proxy;s.setCursor&&s.setCursor(o?o.cursor:"default");if(n&&o!==n){this.dispatchToElement(i,"mouseout",t)}this.dispatchToElement(a,"mousemove",t);if(o&&o!==n){this.dispatchToElement(a,"mouseover",t)}},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e=t.toElement||t.relatedTarget;var r;do{e=e&&e.parentNode}while(e&&e.nodeType!=9&&!(r=e===this.painterRoot));!r&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var r=this[t];r&&r.call(this,e)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,r){t=t||{};var i=t.target;if(i&&i.silent){return}var n="on"+e;var a=Tt(e,t,r);while(i){i[n]&&(a.cancelBubble=i[n].call(i,a));i.trigger(e,a);i=i.parent;if(a.cancelBubble){break}}if(!a.cancelBubble){this.trigger(e,a);this.painter&&this.painter.eachOtherLayer(function(t){if(typeof t[n]=="function"){t[n].call(t,a)}if(t.trigger){t.trigger(e,a)}})}},findHover:function(t,e,r){var i=this.storage.getDisplayList();var n={x:t,y:e};for(var a=i.length-1;a>=0;a--){var o;if(i[a]!==r&&!i[a].ignore&&(o=At(i[a],t,e))){!n.topTarget&&(n.topTarget=i[a]);if(o!==Mt){n.target=i[a];break}}}return n}};A(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){It.prototype[t]=function(e){var r=this.findHover(e.zrX,e.zrY);var i=r.target;if(t==="mousedown"){this._downEl=i;this._downPoint=[e.zrX,e.zrY];this._upEl=i}else if(t==="mosueup"){this._upEl=i}else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||dt(this._downPoint,[e.zrX,e.zrY])>4){return}this._downPoint=null}this.dispatchToElement(r,t,e)}});function At(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){var i=t;var n;while(i){if(i.clipPath&&!i.clipPath.contain(e,r)){return false}if(i.silent){n=true}i=i.parent}return n?Mt:true}return false}k(It,St);k(It,xt);var Lt=typeof Float32Array==="undefined"?Array:Float32Array;function Pt(){var t=new Lt(6);Dt(t);return t}function Dt(t){t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return t}function Ot(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t}function zt(t,e,r){var i=e[0]*r[0]+e[2]*r[1];var n=e[1]*r[0]+e[3]*r[1];var a=e[0]*r[2]+e[2]*r[3];var o=e[1]*r[2]+e[3]*r[3];var s=e[0]*r[4]+e[2]*r[5]+e[4];var l=e[1]*r[4]+e[3]*r[5]+e[5];t[0]=i;t[1]=n;t[2]=a;t[3]=o;t[4]=s;t[5]=l;return t}function Bt(t,e,r){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4]+r[0];t[5]=e[5]+r[1];return t}function Et(t,e,r){var i=e[0];var n=e[2];var a=e[4];var o=e[1];var s=e[3];var l=e[5];var h=Math.sin(r);var u=Math.cos(r);t[0]=i*u+o*h;t[1]=-i*h+o*u;t[2]=n*u+s*h;t[3]=-n*h+u*s;t[4]=u*a+h*l;t[5]=u*l-h*a;return t}function Rt(t,e,r){var i=r[0];var n=r[1];t[0]=e[0]*i;t[1]=e[1]*n;t[2]=e[2]*i;t[3]=e[3]*n;t[4]=e[4]*i;t[5]=e[5]*n;return t}function Nt(t,e){var r=e[0];var i=e[2];var n=e[4];var a=e[1];var o=e[3];var s=e[5];var l=r*o-a*i;if(!l){return null}l=1/l;t[0]=o*l;t[1]=-a*l;t[2]=-i*l;t[3]=r*l;t[4]=(i*s-o*n)*l;t[5]=(a*n-r*s)*l;return t}var Ft=Dt;var Wt=5e-5;function Ht(t){return t>Wt||t<-Wt}var Gt=function(t){t=t||{};if(!t.position){this.position=[0,0]}if(t.rotation==null){this.rotation=0}if(!t.scale){this.scale=[1,1]}this.origin=this.origin||null};var Vt=Gt.prototype;Vt.transform=null;Vt.needLocalTransform=function(){return Ht(this.rotation)||Ht(this.position[0])||Ht(this.position[1])||Ht(this.scale[0]-1)||Ht(this.scale[1]-1)};Vt.updateTransform=function(){var t=this.parent;var e=t&&t.transform;var r=this.needLocalTransform();var i=this.transform;if(!(r||e)){i&&Ft(i);return}i=i||Pt();if(r){this.getLocalTransform(i)}else{Ft(i)}if(e){if(r){zt(i,t.transform,i)}else{Ot(i,t.transform)}}this.transform=i;this.invTransform=this.invTransform||Pt();Nt(this.invTransform,i)};Vt.getLocalTransform=function(t){return Gt.getLocalTransform(this,t)};Vt.setTransform=function(t){var e=this.transform;var r=t.dpr||1;if(e){t.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5])}else{t.setTransform(r,0,0,r,0,0)}};Vt.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var qt=[];Vt.decomposeTransform=function(){if(!this.transform){return}var t=this.parent;var e=this.transform;if(t&&t.transform){zt(qt,t.invTransform,e);e=qt}var r=e[0]*e[0]+e[1]*e[1];var i=e[2]*e[2]+e[3]*e[3];var n=this.position;var a=this.scale;if(Ht(r-1)){r=Math.sqrt(r)}if(Ht(i-1)){i=Math.sqrt(i)}if(e[0]<0){r=-r}if(e[3]<0){i=-i}n[0]=e[4];n[1]=e[5];a[0]=r;a[1]=i;this.rotation=Math.atan2(-e[1]/i,e[0]/r)};Vt.getGlobalScale=function(){var t=this.transform;if(!t){return[1,1]}var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);var r=Math.sqrt(t[2]*t[2]+t[3]*t[3]);if(t[0]<0){e=-e}if(t[3]<0){r=-r}return[e,r]};Vt.transformCoordToLocal=function(t,e){var r=[t,e];var i=this.invTransform;if(i){mt(r,r,i)}return r};Vt.transformCoordToGlobal=function(t,e){var r=[t,e];var i=this.transform;if(i){mt(r,r,i)}return r};Gt.getLocalTransform=function(t,e){e=e||[];Ft(e);var r=t.origin;var i=t.scale||[1,1];var n=t.rotation||0;var a=t.position||[0,0];if(r){e[4]-=r[0];e[5]-=r[1]}Rt(e,e,i);if(n){Et(e,e,n)}if(r){e[4]+=r[0];e[5]+=r[1]}e[4]+=a[0];e[5]+=a[1];return e};var Xt={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},elasticOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1},elasticInOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}if((t*=2)<1){return-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))}return r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Xt.bounceOut(1-t)},bounceOut:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},bounceInOut:function(t){if(t<.5){return Xt.bounceIn(t*2)*.5}return Xt.bounceOut(t*2-1)*.5+.5}};function Zt(t){this._target=t.target;this._life=t.life||1e3;this._delay=t.delay||0;this._initialized=false;this.loop=t.loop==null?false:t.loop;this.gap=t.gap||0;this.easing=t.easing||"Linear";this.onframe=t.onframe;this.ondestroy=t.ondestroy;this.onrestart=t.onrestart;this._pausedTime=0;this._paused=false}Zt.prototype={constructor:Zt,step:function(t,e){if(!this._initialized){this._startTime=t+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=e;return}var r=(t-this._startTime-this._pausedTime)/this._life;if(r<0){return}r=Math.min(r,1);var i=this.easing;var n=typeof i=="string"?Xt[i]:i;var a=typeof n==="function"?n(r):r;this.fire("frame",a);if(r==1){if(this.loop){this.restart(t);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(t,e){t="on"+t;if(this[t]){this[t](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var Yt=function(){this.head=null;this.tail=null;this._len=0};var Ut=Yt.prototype;Ut.insert=function(t){var e=new jt(t);this.insertEntry(e);return e};Ut.insertEntry=function(t){if(!this.head){this.head=this.tail=t}else{this.tail.next=t;t.prev=this.tail;t.next=null;this.tail=t}this._len++};Ut.remove=function(t){var e=t.prev;var r=t.next;if(e){e.next=r}else{this.head=r}if(r){r.prev=e}else{this.tail=e}t.next=t.prev=null;this._len--};Ut.len=function(){return this._len};Ut.clear=function(){this.head=this.tail=null;this._len=0};var jt=function(t){this.value=t;this.next;this.prev};var $t=function(t){this._list=new Yt;this._map={};this._maxSize=t||10;this._lastRemovedEntry=null};var Qt=$t.prototype;Qt.put=function(t,e){var r=this._list;var i=this._map;var n=null;if(i[t]==null){var a=r.len();var o=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var s=r.head;r.remove(s);delete i[s.key];n=s.value;this._lastRemovedEntry=s}if(o){o.value=e}else{o=new jt(e)}o.key=t;r.insertEntry(o);i[t]=o}return n};Qt.get=function(t){var e=this._map[t];var r=this._list;if(e!=null){if(e!==r.tail){r.remove(e);r.insertEntry(e)}return e.value}};Qt.clear=function(){this._list.clear();this._map={}};var Kt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Jt(t){t=Math.round(t);return t<0?0:t>255?255:t}function te(t){return t<0?0:t>1?1:t}function ee(t){if(t.length&&t.charAt(t.length-1)==="%"){return Jt(parseFloat(t)/100*255)}return Jt(parseInt(t,10))}function re(t){if(t.length&&t.charAt(t.length-1)==="%"){return te(parseFloat(t)/100)}return te(parseFloat(t))}function ie(t,e,r){if(r<0){r+=1}else if(r>1){r-=1}if(r*6<1){return t+(e-t)*r*6}if(r*2<1){return e}if(r*3<2){return t+(e-t)*(2/3-r)*6}return t}function ne(t,e,r,i,n){t[0]=e;t[1]=r;t[2]=i;t[3]=n;return t}function ae(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}var oe=new $t(20);var se=null;function le(t,e){if(se){ae(se,e)}se=oe.put(t,se||e.slice())}function he(t,e){if(!t){return}e=e||[];var r=oe.get(t);if(r){return ae(e,r)}t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in Kt){ae(e,Kt[i]);le(t,e);return e}if(i.charAt(0)==="#"){if(i.length===4){var n=parseInt(i.substr(1),16);if(!(n>=0&&n<=4095)){ne(e,0,0,0,1);return}ne(e,(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,1);le(t,e);return e}else if(i.length===7){var n=parseInt(i.substr(1),16);if(!(n>=0&&n<=16777215)){ne(e,0,0,0,1);return}ne(e,(n&16711680)>>16,(n&65280)>>8,n&255,1);le(t,e);return e}return}var a=i.indexOf("("),o=i.indexOf(")");if(a!==-1&&o+1===i.length){var s=i.substr(0,a);var l=i.substr(a+1,o-(a+1)).split(",");var h=1;switch(s){case"rgba":if(l.length!==4){ne(e,0,0,0,1);return}h=re(l.pop());case"rgb":if(l.length!==3){ne(e,0,0,0,1);return}ne(e,ee(l[0]),ee(l[1]),ee(l[2]),h);le(t,e);return e;case"hsla":if(l.length!==4){ne(e,0,0,0,1);return}l[3]=re(l[3]);ue(l,e);le(t,e);return e;case"hsl":if(l.length!==3){ne(e,0,0,0,1);return}ue(l,e);le(t,e);return e;default:return}}ne(e,0,0,0,1);return}function ue(t,e){var r=(parseFloat(t[0])%360+360)%360/360;var i=re(t[1]);var n=re(t[2]);var a=n<=.5?n*(i+1):n+i-n*i;var o=n*2-a;e=e||[];ne(e,Jt(ie(o,a,r+1/3)*255),Jt(ie(o,a,r)*255),Jt(ie(o,a,r-1/3)*255),1);if(t.length===4){e[3]=t[3]}return e}function fe(t,e){var r=he(t);if(r){for(var i=0;i<3;i++){if(e<0){r[i]=r[i]*(1-e)|0}else{r[i]=(255-r[i])*e+r[i]|0}}return ce(r,r.length===4?"rgba":"rgb")}}function ce(t,e){if(!t||!t.length){return}var r=t[0]+","+t[1]+","+t[2];if(e==="rgba"||e==="hsva"||e==="hsla"){r+=","+t[3]}return e+"("+r+")"}var ve=Array.prototype.slice;function de(t,e){return t[e]}function pe(t,e,r){t[e]=r}function ge(t,e,r){return(e-t)*r+t}function me(t,e,r){return r>.5?e:t}function ye(t,e,r,i,n){var a=t.length;if(n==1){for(var o=0;o<a;o++){i[o]=ge(t[o],e[o],r)}}else{var s=a&&t[0].length;for(var o=0;o<a;o++){for(var l=0;l<s;l++){i[o][l]=ge(t[o][l],e[o][l],r)}}}}function _e(t,e,r){var i=t.length;var n=e.length;if(i!==n){var a=i>n;if(a){t.length=n}else{for(var o=i;o<n;o++){t.push(r===1?e[o]:ve.call(e[o]))}}}var s=t[0]&&t[0].length;for(var o=0;o<t.length;o++){if(r===1){if(isNaN(t[o])){t[o]=e[o]}}else{for(var l=0;l<s;l++){if(isNaN(t[o][l])){t[o][l]=e[o][l]}}}}}function xe(t,e,r){if(t===e){return true}var i=t.length;if(i!==e.length){return false}if(r===1){for(var n=0;n<i;n++){if(t[n]!==e[n]){return false}}}else{var a=t[0].length;for(var n=0;n<i;n++){for(var o=0;o<a;o++){if(t[n][o]!==e[n][o]){return false}}}}return true}function we(t,e,r,i,n,a,o,s,l){var h=t.length;if(l==1){for(var u=0;u<h;u++){s[u]=be(t[u],e[u],r[u],i[u],n,a,o)}}else{var f=t[0].length;for(var u=0;u<h;u++){for(var c=0;c<f;c++){s[u][c]=be(t[u][c],e[u][c],r[u][c],i[u][c],n,a,o)}}}}function be(t,e,r,i,n,a,o){var s=(r-t)*.5;var l=(i-e)*.5;return(2*(e-r)+s+l)*o+(-3*(e-r)-2*s-l)*a+s*n+e}function Se(t){if(I(t)){var e=t.length;if(I(t[0])){var r=[];for(var i=0;i<e;i++){r.push(ve.call(t[i]))}return r}return ve.call(t)}return t}function Me(t){t[0]=Math.floor(t[0]);t[1]=Math.floor(t[1]);t[2]=Math.floor(t[2]);return"rgba("+t.join(",")+")"}function Te(t){var e=t[t.length-1].value;return I(e&&e[0])?2:1}function Ce(t,e,r,i,n,a){var o=t._getter;var s=t._setter;var l=e==="spline";var h=i.length;if(!h){return}var u=i[0].value;var f=I(u);var c=false;var v=false;var d=f?Te(i):0;var p;i.sort(function(t,e){return t.time-e.time});p=i[h-1].time;var g=[];var m=[];var y=i[0].value;var _=true;for(var x=0;x<h;x++){g.push(i[x].time/p);var w=i[x].value;if(!(f&&xe(w,y,d)||!f&&w===y)){_=false}y=w;if(typeof w=="string"){var b=he(w);if(b){w=b;c=true}else{v=true}}m.push(w)}if(!a&&_){return}var S=m[h-1];for(var x=0;x<h-1;x++){if(f){_e(m[x],S,d)}else{if(isNaN(m[x])&&!isNaN(S)&&!v&&!c){m[x]=S}}}f&&_e(o(t._target,n),S,d);var M=0;var T=0;var C;var k;var A;var L;var P;var D;if(c){var O=[0,0,0,0]}var z=function(t,e){var r;if(e<0){r=0}else if(e<T){C=Math.min(M+1,h-1);for(r=C;r>=0;r--){if(g[r]<=e){break}}r=Math.min(r,h-2)}else{for(r=M;r<h;r++){if(g[r]>e){break}}r=Math.min(r-1,h-2)}M=r;T=e;var i=g[r+1]-g[r];if(i===0){return}else{k=(e-g[r])/i}if(l){L=m[r];A=m[r===0?r:r-1];P=m[r>h-2?h-1:r+1];D=m[r>h-3?h-1:r+2];if(f){we(A,L,P,D,k,k*k,k*k*k,o(t,n),d)}else{var a;if(c){a=we(A,L,P,D,k,k*k,k*k*k,O,1);a=Me(O)}else if(v){return me(L,P,k)}else{a=be(A,L,P,D,k,k*k,k*k*k)}s(t,n,a)}}else{if(f){ye(m[r],m[r+1],k,o(t,n),d)}else{var a;if(c){ye(m[r],m[r+1],k,O,1);a=Me(O)}else if(v){return me(m[r],m[r+1],k)}else{a=ge(m[r],m[r+1],k)}s(t,n,a)}}};var B=new Zt({target:t._target,life:p,loop:t._loop,delay:t._delay,onframe:z,ondestroy:r});if(e&&e!=="spline"){B.easing=e}return B}var ke=function(t,e,r,i){this._tracks={};this._target=t;this._loop=e||false;this._getter=r||de;this._setter=i||pe;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};ke.prototype={when:function(t,e){var r=this._tracks;for(var i in e){if(!e.hasOwnProperty(i)){continue}if(!r[i]){r[i]=[];var n=this._getter(this._target,i);if(n==null){continue}if(t!==0){r[i].push({time:0,value:Se(n)})}}r[i].push({time:t,value:e[i]})}return this},during:function(t){this._onframeList.push(t);return this},pause:function(){for(var t=0;t<this._clipList.length;t++){this._clipList[t].pause()}this._paused=true},resume:function(){for(var t=0;t<this._clipList.length;t++){this._clipList[t].resume()}this._paused=false},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var t=this._doneList;var e=t.length;for(var r=0;r<e;r++){t[r].call(this)}},start:function(t,e){var r=this;var i=0;var n=function(){i--;if(!i){r._doneCallback()}};var a;for(var o in this._tracks){if(!this._tracks.hasOwnProperty(o)){continue}var s=Ce(this,t,n,this._tracks[o],o,e);if(s){this._clipList.push(s);i++;if(this.animation){this.animation.addClip(s)}a=s}}if(a){var l=a.onframe;a.onframe=function(t,e){l(t,e);for(var i=0;i<r._onframeList.length;i++){r._onframeList[i](t,e)}}}if(!i){this._doneCallback()}return this},stop:function(t){var e=this._clipList;var r=this.animation;for(var i=0;i<e.length;i++){var n=e[i];if(t){n.onframe(this._target,1)}r&&r.removeClip(n)}e.length=0},delay:function(t){this._delay=t;return this},done:function(t){if(t){this._doneList.push(t)}return this},getClips:function(){return this._clipList}};var Ie=1;if(typeof window!=="undefined"){Ie=Math.max(window.devicePixelRatio||1,1)}var Ae=0;var Le=Ie;var Pe=function(){};if(Ae===1){Pe=function(){for(var t in arguments){throw new Error(arguments[t])}}}else if(Ae>1){Pe=function(){for(var t in arguments){console.log(arguments[t])}}}var De=Pe;var Oe=function(){this.animators=[]};Oe.prototype={constructor:Oe,animate:function(t,e){var r;var i=false;var n=this;var a=this.__zr;if(t){var o=t.split(".");var s=n;i=o[0]==="shape";for(var l=0,h=o.length;l<h;l++){if(!s){continue}s=s[o[l]]}if(s){r=s}}else{r=n}if(!r){De('Property "'+t+'" is not existed in element '+n.id);return}var u=n.animators;var f=new ke(r,e);f.during(function(t){n.dirty(i)}).done(function(){u.splice(T(u,f),1)});u.push(f);if(a){a.animation.addAnimator(f)}return f},stopAnimation:function(t){var e=this.animators;var r=e.length;for(var i=0;i<r;i++){e[i].stop(t)}e.length=0;return this},animateTo:function(t,e,r,i,n,a){if(R(r)){n=i;i=r;r=0}else if(E(i)){n=i;i="linear";r=0}else if(E(r)){n=r;r=0}else if(E(e)){n=e;e=500}else if(!e){e=500}this.stopAnimation();this._animateToShallow("",this,t,e,r);var o=this.animators.slice();var s=o.length;function l(){s--;if(!s){n&&n()}}if(!s){n&&n()}for(var h=0;h<o.length;h++){o[h].done(l).start(i,a)}},_animateToShallow:function(t,e,r,i,n){var a={};var o=0;for(var s in r){if(!r.hasOwnProperty(s)){continue}if(e[s]!=null){if(N(r[s])&&!I(r[s])){this._animateToShallow(t?t+"."+s:s,e[s],r[s],i,n)}else{a[s]=r[s];o++}}else if(r[s]!=null){if(!t){this.attr(s,r[s])}else{var l={};l[t]={};l[t][s]=r[s];this.attr(l)}}}if(o>0){this.animate(t,false).when(i==null?500:i,a).delay(n||0)}return this}};var ze=function(t){Gt.call(this,t);St.call(this,t);Oe.call(this,t);this.id=t.id||r()};ze.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;if(!r){r=this.transform=[1,0,0,1,0,0]}r[4]+=t;r[5]+=e;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if(t==="position"||t==="scale"||t==="origin"){if(e){var r=this[t];if(!r){r=this[t]=[]}r[0]=e[0];r[1]=e[1]}}else{this[t]=e}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(t,e){if(typeof t==="string"){this.attrKV(t,e)}else if(N(t)){for(var r in t){if(t.hasOwnProperty(r)){this.attrKV(r,t[r])}}}this.dirty(false);return this},setClipPath:function(t){var e=this.__zr;if(e){t.addSelfToZr(e)}if(this.clipPath&&this.clipPath!==t){this.removeClipPath()}this.clipPath=t;t.__zr=e;t.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var t=this.clipPath;if(t){if(t.__zr){t.removeSelfFromZr(t.__zr)}t.__zr=null;t.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.addAnimator(e[r])}}if(this.clipPath){this.clipPath.addSelfToZr(t)}},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.removeAnimator(e[r])}}if(this.clipPath){this.clipPath.removeSelfFromZr(t)}}};k(ze,Oe);k(ze,Gt);k(ze,St);var Be=mt;var Ee=Math.min;var Re=Math.max;function Ne(t,e,r,i){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}this.x=t;this.y=e;this.width=r;this.height=i}Ne.prototype={constructor:Ne,union:function(t){var e=Ee(t.x,this.x);var r=Ee(t.y,this.y);this.width=Re(t.x+t.width,this.x+this.width)-e;this.height=Re(t.y+t.height,this.y+this.height)-r;this.x=e;this.y=r},applyTransform:function(){var t=[];var e=[];var r=[];var i=[];return function(n){if(!n){return}t[0]=r[0]=this.x;t[1]=i[1]=this.y;e[0]=i[0]=this.x+this.width;e[1]=r[1]=this.y+this.height;Be(t,t,n);Be(e,e,n);Be(r,r,n);Be(i,i,n);this.x=Ee(t[0],e[0],r[0],i[0]);this.y=Ee(t[1],e[1],r[1],i[1]);var a=Re(t[0],e[0],r[0],i[0]);var o=Re(t[1],e[1],r[1],i[1]);this.width=a-this.x;this.height=o-this.y}}(),calculateTransform:function(t){var e=this;var r=t.width/e.width;var i=t.height/e.height;var n=Pt();Bt(n,n,[-e.x,-e.y]);Rt(n,n,[r,i]);Bt(n,n,[t.x,t.y]);return n},intersect:function(t){if(!t){return false}if(!(t instanceof Ne)){t=Ne.create(t)}var e=this;var r=e.x;var i=e.x+e.width;var n=e.y;var a=e.y+e.height;var o=t.x;var s=t.x+t.width;var l=t.y;var h=t.y+t.height;return!(i<o||s<r||a<l||h<n)},contain:function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},clone:function(){return new Ne(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x;this.y=t.y;this.width=t.width;this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Ne.create=function(t){return new Ne(t.x,t.y,t.width,t.height)};var Fe=function(t){t=t||{};ze.call(this,t);for(var e in t){if(t.hasOwnProperty(e)){this[e]=t[e]}}this._children=[];this.__storage=null;this.__dirty=true};Fe.prototype={constructor:Fe,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){var e=this._children;for(var r=0;r<e.length;r++){if(e[r].name===t){return e[r]}}},childCount:function(){return this._children.length},add:function(t){if(t&&t!==this&&t.parent!==this){this._children.push(t);this._doAdd(t)}return this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children;var i=r.indexOf(e);if(i>=0){r.splice(i,0,t);this._doAdd(t)}}return this},_doAdd:function(t){if(t.parent){t.parent.remove(t)}t.parent=this;var e=this.__storage;var r=this.__zr;if(e&&e!==t.__storage){e.addToStorage(t);if(t instanceof Fe){t.addChildrenToStorage(e)}}r&&r.refresh()},remove:function(t){var e=this.__zr;var r=this.__storage;var i=this._children;var n=T(i,t);if(n<0){return this}i.splice(n,1);t.parent=null;if(r){r.delFromStorage(t);if(t instanceof Fe){t.delChildrenFromStorage(r)}}e&&e.refresh();return this},removeAll:function(){var t=this._children;var e=this.__storage;var r;var i;for(i=0;i<t.length;i++){r=t[i];if(e){e.delFromStorage(r);if(r instanceof Fe){r.delChildrenFromStorage(e)}}r.parent=null}t.length=0;return this},eachChild:function(t,e){var r=this._children;for(var i=0;i<r.length;i++){var n=r[i];t.call(e,n,i)}return this},traverse:function(t,e){for(var r=0;r<this._children.length;r++){var i=this._children[r];t.call(e,i);if(i.type==="group"){i.traverse(t,e)}}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.addToStorage(r);if(r instanceof Fe){r.addChildrenToStorage(t)}}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.delFromStorage(r);if(r instanceof Fe){r.delChildrenFromStorage(t)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(t){var e=null;var r=new Ne(0,0,0,0);var i=t||this._children;var n=[];for(var a=0;a<i.length;a++){var o=i[a];if(o.ignore||o.invisible){continue}var s=o.getBoundingRect();var l=o.getLocalTransform(n);if(l){r.copy(s);r.applyTransform(l);e=e||r.clone();e.union(r)}else{e=e||s.clone();e.union(s)}}return e||r}};C(Fe,ze);var We=32;var He=7;function Ge(t){var e=0;while(t>=We){e|=t&1;t>>=1}return t+e}function Ve(t,e,r,i){var n=e+1;if(n===r){return 1}if(i(t[n++],t[e])<0){while(n<r&&i(t[n],t[n-1])<0){n++}qe(t,e,n)}else{while(n<r&&i(t[n],t[n-1])>=0){n++}}return n-e}function qe(t,e,r){r--;while(e<r){var i=t[e];t[e++]=t[r];t[r--]=i}}function Xe(t,e,r,i,n){if(i===e){i++}for(;i<r;i++){var a=t[i];var o=e;var s=i;var l;while(o<s){l=o+s>>>1;if(n(a,t[l])<0){s=l}else{o=l+1}}var h=i-o;switch(h){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:while(h>0){t[o+h]=t[o+h-1];h--}}t[o]=a}}function Ze(t,e,r,i,n,a){var o=0;var s=0;var l=1;if(a(t,e[r+n])>0){s=i-n;while(l<s&&a(t,e[r+n+l])>0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=n;l+=n}else{s=n+1;while(l<s&&a(t,e[r+n-l])<=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var h=o;o=n-l;l=n-h}o++;while(o<l){var u=o+(l-o>>>1);if(a(t,e[r+u])>0){o=u+1}else{l=u}}return l}function Ye(t,e,r,i,n,a){var o=0;var s=0;var l=1;if(a(t,e[r+n])<0){s=n+1;while(l<s&&a(t,e[r+n-l])<0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var h=o;o=n-l;l=n-h}else{s=i-n;while(l<s&&a(t,e[r+n+l])>=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=n;l+=n}o++;while(o<l){var u=o+(l-o>>>1);if(a(t,e[r+u])<0){l=u}else{o=u+1}}return l}function Ue(t,e){var r=He;var i;var n;var a=0;var o=[];i=[];n=[];function s(t,e){i[a]=t;n[a]=e;a+=1}function l(){while(a>1){var t=a-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1]){if(n[t-1]<n[t+1]){t--}}else if(n[t]>n[t+1]){break}u(t)}}function h(){while(a>1){var t=a-2;if(t>0&&n[t-1]<n[t+1]){t--}u(t)}}function u(r){var o=i[r];var s=n[r];var l=i[r+1];var h=n[r+1];n[r]=s+h;if(r===a-3){i[r+1]=i[r+2];n[r+1]=n[r+2]}a--;var u=Ye(t[l],t,o,s,0,e);o+=u;s-=u;if(s===0){return}h=Ze(t[o+s-1],t,l,h,h-1,e);if(h===0){return}if(s<=h){f(o,s,l,h)}else{c(o,s,l,h)}}function f(i,n,a,s){var l=0;for(l=0;l<n;l++){o[l]=t[i+l]}var h=0;var u=a;var f=i;t[f++]=t[u++];if(--s===0){for(l=0;l<n;l++){t[f+l]=o[h+l]}return}if(n===1){for(l=0;l<s;l++){t[f+l]=t[u+l]}t[f+s]=o[h];return}var c=r;var v,d,p;while(1){v=0;d=0;p=false;do{if(e(t[u],o[h])<0){t[f++]=t[u++];d++;v=0;if(--s===0){p=true;break}}else{t[f++]=o[h++];v++;d=0;if(--n===1){p=true;break}}}while((v|d)<c);if(p){break}do{v=Ye(t[u],o,h,n,0,e);if(v!==0){for(l=0;l<v;l++){t[f+l]=o[h+l]}f+=v;h+=v;n-=v;if(n<=1){p=true;break}}t[f++]=t[u++];if(--s===0){p=true;break}d=Ze(o[h],t,u,s,0,e);if(d!==0){for(l=0;l<d;l++){t[f+l]=t[u+l]}f+=d;u+=d;s-=d;if(s===0){p=true;break}}t[f++]=o[h++];if(--n===1){p=true;break}c--}while(v>=He||d>=He);if(p){break}if(c<0){c=0}c+=2}r=c;r<1&&(r=1);if(n===1){for(l=0;l<s;l++){t[f+l]=t[u+l]}t[f+s]=o[h]}else if(n===0){throw new Error}else{for(l=0;l<n;l++){t[f+l]=o[h+l]}}}function c(i,n,a,s){var l=0;for(l=0;l<s;l++){o[l]=t[a+l]}var h=i+n-1;var u=s-1;var f=a+s-1;var c=0;var v=0;t[f--]=t[h--];if(--n===0){c=f-(s-1);for(l=0;l<s;l++){t[c+l]=o[l]}return}if(s===1){f-=n;h-=n;v=f+1;c=h+1;for(l=n-1;l>=0;l--){t[v+l]=t[c+l]}t[f]=o[u];return}var d=r;while(true){var p=0;var g=0;var m=false;do{if(e(o[u],t[h])<0){t[f--]=t[h--];p++;g=0;if(--n===0){m=true;break}}else{t[f--]=o[u--];g++;p=0;if(--s===1){m=true;break}}}while((p|g)<d);if(m){break}do{p=n-Ye(o[u],t,i,n,n-1,e);if(p!==0){f-=p;h-=p;n-=p;v=f+1;c=h+1;for(l=p-1;l>=0;l--){t[v+l]=t[c+l]}if(n===0){m=true;break}}t[f--]=o[u--];if(--s===1){m=true;break}g=s-Ze(t[h],o,0,s,s-1,e);if(g!==0){f-=g;u-=g;s-=g;v=f+1;c=u+1;for(l=0;l<g;l++){t[v+l]=o[c+l]}if(s<=1){m=true;break}}t[f--]=t[h--];if(--n===0){m=true;break}d--}while(p>=He||g>=He);if(m){break}if(d<0){d=0}d+=2}r=d;if(r<1){r=1}if(s===1){f-=n;h-=n;v=f+1;c=h+1;for(l=n-1;l>=0;l--){t[v+l]=t[c+l]}t[f]=o[u]}else if(s===0){throw new Error}else{c=f-(s-1);for(l=0;l<s;l++){t[c+l]=o[l]}}}this.mergeRuns=l;this.forceMergeRuns=h;this.pushRun=s}function je(t,e,r,i){if(!r){r=0}if(!i){i=t.length}var n=i-r;if(n<2){return}var a=0;if(n<We){a=Ve(t,r,i,e);Xe(t,r,i,r+a,e);return}var o=new Ue(t,e);var s=Ge(n);do{a=Ve(t,r,i,e);if(a<s){var l=n;if(l>s){l=s}Xe(t,r,r+l,r+a,e);a=l}o.pushRun(r,a);o.mergeRuns();n-=a;r+=a}while(n!==0);o.forceMergeRuns()}function $e(t,e){if(t.zlevel===e.zlevel){if(t.z===e.z){return t.z2-e.z2}return t.z-e.z}return t.zlevel-e.zlevel}var Qe=function(){this._roots=[];this._displayList=[];this._displayListLen=0};Qe.prototype={constructor:Qe,traverse:function(t,e){for(var r=0;r<this._roots.length;r++){this._roots[r].traverse(t,e)}},getDisplayList:function(t,e){e=e||false;if(t){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(t){this._displayListLen=0;var e=this._roots;var r=this._displayList;for(var i=0,a=e.length;i<a;i++){this._updateAndAddDisplayable(e[i],null,t)}r.length=this._displayListLen;n.canvasSupported&&je(r,$e)},_updateAndAddDisplayable:function(t,e,r){if(t.ignore&&!r){return}t.beforeUpdate();if(t.__dirty){t.update()}t.afterUpdate();var i=t.clipPath;if(i){if(e){e=e.slice()}else{e=[]}var n=i;var a=t;while(n){n.parent=a;n.updateTransform();e.push(n);a=n;n=n.clipPath}}if(t.isGroup){var o=t._children;for(var s=0;s<o.length;s++){var l=o[s];if(t.__dirty){l.__dirty=true}this._updateAndAddDisplayable(l,e,r)}t.__dirty=false}else{t.__clipPaths=e;this._displayList[this._displayListLen++]=t}},addRoot:function(t){if(t.__storage===this){return}if(t instanceof Fe){t.addChildrenToStorage(this)}this.addToStorage(t);this._roots.push(t)},delRoot:function(t){if(t==null){for(var e=0;e<this._roots.length;e++){var r=this._roots[e];if(r instanceof Fe){r.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(t instanceof Array){for(var e=0,i=t.length;e<i;e++){this.delRoot(t[e])}return}var n=T(this._roots,t);if(n>=0){this.delFromStorage(t);this._roots.splice(n,1);if(t instanceof Fe){t.delChildrenFromStorage(this)}}},addToStorage:function(t){t.__storage=this;t.dirty(false);return this},delFromStorage:function(t){if(t){t.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:$e};var Ke=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var Je=function(t,e){this.extendFrom(t,false);this.host=e};function tr(t,e,r){var i=e.x==null?0:e.x;var n=e.x2==null?1:e.x2;var a=e.y==null?0:e.y;var o=e.y2==null?0:e.y2;if(!e.global){i=i*r.width+r.x;n=n*r.width+r.x;a=a*r.height+r.y;o=o*r.height+r.y}var s=t.createLinearGradient(i,a,n,o);return s}function er(t,e,r){var i=r.width;var n=r.height;var a=Math.min(i,n);var o=e.x==null?.5:e.x;var s=e.y==null?.5:e.y;var l=e.r==null?.5:e.r;if(!e.global){o=o*i+r.x;s=s*n+r.y;l=l*a}var h=t.createRadialGradient(o,s,0,o,s,l);return h}Je.prototype={constructor:Je,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,r){var i=this;var n=r&&r.style;var a=!n;for(var o=0;o<Ke.length;o++){var s=Ke[o];var l=s[0];if(a||i[l]!==n[l]){t[l]=i[l]||s[1]}}if(a||i.fill!==n.fill){t.fillStyle=i.fill}if(a||i.stroke!==n.stroke){t.strokeStyle=i.stroke}if(a||i.opacity!==n.opacity){t.globalAlpha=i.opacity==null?1:i.opacity}if(a||i.blend!==n.blend){t.globalCompositeOperation=i.blend||"source-over"}if(this.hasStroke()){var h=i.lineWidth;t.lineWidth=h/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return t!=null&&t!=="none"},hasStroke:function(){var t=this.stroke;return t!=null&&t!=="none"&&this.lineWidth>0},extendFrom:function(t,e){if(t){for(var r in t){if(t.hasOwnProperty(r)&&(e===true||(e===false?!this.hasOwnProperty(r):t[r]!=null))){this[r]=t[r]}}}},set:function(t,e){if(typeof t==="string"){this[t]=e}else{this.extendFrom(t,true)}},clone:function(){var t=new this.constructor;t.extendFrom(this,true);return t},getGradient:function(t,e,r){var i=e.type==="radial"?er:tr;var n=i(t,e,r);var a=e.colorStops;for(var o=0;o<a.length;o++){n.addColorStop(a[o].offset,a[o].color)}return n}};var rr=Je.prototype;for(var ir=0;ir<Ke.length;ir++){var nr=Ke[ir];if(!(nr[0]in rr)){rr[nr[0]]=nr[1]}}Je.getGradient=rr.getGradient;var ar=function(t,e){this.image=t;this.repeat=e;this.type="pattern"};ar.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};function or(){return false}function sr(t,e,r){var i=b();var n=e.getWidth();var a=e.getHeight();var o=i.style;o.position="absolute";o.left=0;o.top=0;o.width=n+"px";o.height=a+"px";i.width=n*r;i.height=a*r;i.setAttribute("data-zr-dom-id",t);return i}var lr=function(t,e,r){var i;r=r||Le;if(typeof t==="string"){i=sr(t,e,r)}else if(N(t)){i=t;t=i.id}this.id=t;this.dom=i;var n=i.style;if(n){i.onselectstart=or;n["-webkit-user-select"]="none";n["user-select"]="none";n["-webkit-touch-callout"]="none";n["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";n["padding"]=0;n["margin"]=0;n["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=.7;this.dpr=r};lr.prototype={constructor:lr,elCount:0,__dirty:true,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=sr("back-"+this.id,this.painter,t);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};if(t!=1){this.ctxBack.scale(t,t)}},resize:function(t,e){var r=this.dpr;var i=this.dom;var n=i.style;var a=this.domBack;n.width=t+"px";n.height=e+"px";i.width=t*r;i.height=e*r;if(a){a.width=t*r;a.height=e*r;if(r!=1){this.ctxBack.scale(r,r)}}},clear:function(t){var e=this.dom;var r=this.ctx;var i=e.width;var n=e.height;var a=this.clearColor;var o=this.motionBlur&&!t;var s=this.lastFrameAlpha;var l=this.dpr;if(o){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(e,0,0,i/l,n/l)}r.clearRect(0,0,i,n);if(a){var h;if(a.colorStops){h=a.__canvasGradient||Je.getGradient(r,a,{x:0,y:0,width:i,height:n});a.__canvasGradient=h}else if(a.image){h=ar.prototype.getCanvasPattern.call(a,r)}r.save();r.fillStyle=h||a;r.fillRect(0,0,i,n);r.restore()}if(o){var u=this.domBack;r.save();r.globalAlpha=s;r.drawImage(u,0,0,i,n);r.restore()}}};var hr=typeof window!=="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};var ur=new $t(50);function fr(t){if(typeof t==="string"){var e=ur.get(t);return e&&e.image}else{return t}}function cr(t,e,r,i,n){if(!t){return e}else if(typeof t==="string"){if(e&&e.__zrImageSrc===t||!r){return e}var a=ur.get(t);var o={hostEl:r,cb:i,cbPayload:n};if(a){e=a.image;!dr(e)&&a.pending.push(o)}else{!e&&(e=new Image);e.onload=vr;ur.put(t,e.__cachedImgObj={image:e,pending:[o]});e.src=e.__zrImageSrc=t}return e}else{return t}}function vr(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e];var i=r.cb;i&&i(this,r.cbPayload);r.hostEl.dirty()}t.pending.length=0}function dr(t){return t&&t.width&&t.height}var pr={};var gr=0;var mr=5e3;var yr=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var _r="12px sans-serif";var xr={};function wr(t,e){e=e||_r;var r=t+":"+e;if(pr[r]){return pr[r]}var i=(t+"").split("\n");var n=0;for(var a=0,o=i.length;a<o;a++){n=Math.max(Or(i[a],e).width,n)}if(gr>mr){gr=0;pr={}}gr++;pr[r]=n;return n}function br(t,e,r,i,n,a,o){return a?Mr(t,e,r,i,n,a,o):Sr(t,e,r,i,n,o)}function Sr(t,e,r,i,n,a){var o=zr(t,e,n,a);var s=wr(t,e);if(n){s+=n[1]+n[3]}var l=o.outerHeight;var h=Tr(0,s,r);var u=Cr(0,l,i);var f=new Ne(h,u,s,l);f.lineHeight=o.lineHeight;return f}function Mr(t,e,r,i,n,a,o){var s=Br(t,{rich:a,truncate:o,font:e,textAlign:r,textPadding:n});var l=s.outerWidth;var h=s.outerHeight;var u=Tr(0,l,r);var f=Cr(0,h,i);return new Ne(u,f,l,h)}function Tr(t,e,r){if(r==="right"){t-=e}else if(r==="center"){t-=e/2}return t}function Cr(t,e,r){if(r==="middle"){t-=e/2}else if(r==="bottom"){t-=e}return t}function kr(t,e,r){var i=e.x;var n=e.y;var a=e.height;var o=e.width;var s=a/2;var l="left";var h="top";switch(t){case"left":i-=r;n+=s;l="right";h="middle";break;case"right":i+=r+o;n+=s;h="middle";break;case"top":i+=o/2;n-=r;l="center";h="bottom";break;case"bottom":i+=o/2;n+=a+r;l="center";break;case"inside":i+=o/2;n+=s;l="center";h="middle";break;case"insideLeft":i+=r;n+=s;h="middle";break;case"insideRight":i+=o-r;n+=s;l="right";h="middle";break;case"insideTop":i+=o/2;n+=r;l="center";break;case"insideBottom":i+=o/2;n+=a-r;l="center";h="bottom";break;case"insideTopLeft":i+=r;n+=r;break;case"insideTopRight":i+=o-r;n+=r;l="right";break;case"insideBottomLeft":i+=r;n+=a-r;h="bottom";break;case"insideBottomRight":i+=o-r;n+=a-r;l="right";h="bottom";break}return{x:i,y:n,textAlign:l,textVerticalAlign:h}}function Ir(t,e,r,i,n){if(!e){return""}var a=(t+"").split("\n");n=Ar(e,r,i,n);for(var o=0,s=a.length;o<s;o++){a[o]=Lr(a[o],n)}return a.join("\n")}function Ar(t,e,r,i){i=x({},i);i.font=e;var r=V(r,"...");i.maxIterations=V(i.maxIterations,2);var n=i.minChar=V(i.minChar,0);i.cnCharWidth=wr("",e);var a=i.ascCharWidth=wr("a",e);i.placeholder=V(i.placeholder,"");var o=t=Math.max(0,t-1);for(var s=0;s<n&&o>=a;s++){o-=a}var l=wr(r);if(l>o){r="";l=0}o=t-l;i.ellipsis=r;i.ellipsisWidth=l;i.contentWidth=o;i.containerWidth=t;return i}function Lr(t,e){var r=e.containerWidth;var i=e.font;var n=e.contentWidth;if(!r){return""}var a=wr(t,i);if(a<=r){return t}for(var o=0;;o++){if(a<=n||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?Pr(t,n,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*n/a):0;t=t.substr(0,s);a=wr(t,i)}if(t===""){t=e.placeholder}return t}function Pr(t,e,r,i){var n=0;var a=0;for(var o=t.length;a<o&&n<e;a++){var s=t.charCodeAt(a);n+=0<=s&&s<=127?r:i}return a}function Dr(t){return wr("",t)}function Or(t,e){return xr.measureText(t,e)}xr.measureText=function(t,e){var r=M();r.font=e||_r;return r.measureText(t)};function zr(t,e,r,i){t!=null&&(t+="");var n=Dr(e);var a=t?t.split("\n"):[];var o=a.length*n;var s=o;if(r){s+=r[0]+r[2]}if(t&&i){var l=i.outerHeight;var h=i.outerWidth;if(l!=null&&s>l){t="";a=[]}else if(h!=null){var u=Ar(h-(r?r[1]+r[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder});for(var f=0,c=a.length;f<c;f++){a[f]=Lr(a[f],u)}}}return{lines:a,height:o,outerHeight:s,lineHeight:n}}function Br(t,e){var r={lines:[],width:0,height:0};t!=null&&(t+="");if(!t){return r}var i=yr.lastIndex=0;var n;while((n=yr.exec(t))!=null){var a=n.index;if(a>i){Er(r,t.substring(i,a))}Er(r,n[2],n[1]);i=yr.lastIndex}if(i<t.length){Er(r,t.substring(i,t.length))}var o=r.lines;var s=0;var l=0;var h=[];var u=e.textPadding;var f=e.truncate;var c=f&&f.outerWidth;var v=f&&f.outerHeight;if(u){c!=null&&(c-=u[1]+u[3]);v!=null&&(v-=u[0]+u[2])}for(var d=0;d<o.length;d++){var p=o[d];var g=0;var m=0;for(var y=0;y<p.tokens.length;y++){var _=p.tokens[y];var x=_.styleName&&e.rich[_.styleName]||{};var w=_.textPadding=x.textPadding;var b=_.font=x.font||e.font;var S=_.textHeight=V(x.textHeight,Dr(b));w&&(S+=w[0]+w[2]);_.height=S;_.lineHeight=q(x.textLineHeight,e.textLineHeight,S);_.textAlign=x&&x.textAlign||e.textAlign;_.textVerticalAlign=x&&x.textVerticalAlign||"middle";if(v!=null&&s+_.lineHeight>v){return{lines:[],width:0,height:0}}_.textWidth=wr(_.text,b);var M=x.textWidth;var T=M==null||M==="auto";if(typeof M==="string"&&M.charAt(M.length-1)==="%"){_.percentWidth=M;h.push(_);M=0}else{if(T){M=_.textWidth;var C=x.textBackgroundColor;var k=C&&C.image;if(k){k=fr(k);if(dr(k)){M=Math.max(M,k.width*S/k.height)}}}var I=w?w[1]+w[3]:0;M+=I;var A=c!=null?c-m:null;if(A!=null&&A<M){if(!T||A<I){_.text="";_.textWidth=M=0}else{_.text=Ir(_.text,A-I,b,f.ellipsis,{minChar:f.minChar});_.textWidth=wr(_.text,b);M=_.textWidth+I}}}m+=_.width=M;x&&(g=Math.max(g,_.lineHeight))}p.width=m;p.lineHeight=g;s+=g;l=Math.max(l,m)}r.outerWidth=r.width=V(e.textWidth,l);r.outerHeight=r.height=V(e.textHeight,s);if(u){r.outerWidth+=u[1]+u[3];r.outerHeight+=u[0]+u[2]}for(var d=0;d<h.length;d++){var _=h[d];var L=_.percentWidth;_.width=parseInt(L,10)/100*l}return r}function Er(t,e,r){var i=e==="";var n=e.split("\n");var a=t.lines;for(var o=0;o<n.length;o++){var s=n[o];var l={styleName:r,text:s,isLineHolder:!s&&!i};if(!o){var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens;var u=h.length;u===1&&h[0].isLineHolder?h[0]=l:(s||!u||i)&&h.push(l)}else{a.push({tokens:[l]})}}}function Rr(t){return(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ")||t.textFont||t.font}function Nr(t,e){var r=e.x;var i=e.y;var n=e.width;var a=e.height;var o=e.r;var s;var l;var h;var u;if(n<0){r=r+n;n=-n}if(a<0){i=i+a;a=-a}if(typeof o==="number"){s=l=h=u=o}else if(o instanceof Array){if(o.length===1){s=l=h=u=o[0]}else if(o.length===2){s=h=o[0];l=u=o[1]}else if(o.length===3){s=o[0];l=u=o[1];h=o[2]}else{s=o[0];l=o[1];h=o[2];u=o[3]}}else{s=l=h=u=0}var f;if(s+l>n){f=s+l;s*=n/f;l*=n/f}if(h+u>n){f=h+u;h*=n/f;u*=n/f}if(l+h>a){f=l+h;l*=a/f;h*=a/f}if(s+u>a){f=s+u;s*=a/f;u*=a/f}t.moveTo(r+s,i);t.lineTo(r+n-l,i);l!==0&&t.quadraticCurveTo(r+n,i,r+n,i+l);t.lineTo(r+n,i+a-h);h!==0&&t.quadraticCurveTo(r+n,i+a,r+n-h,i+a);t.lineTo(r+u,i+a);u!==0&&t.quadraticCurveTo(r,i+a,r,i+a-u);t.lineTo(r,i+s);s!==0&&t.quadraticCurveTo(r,i,r+s,i)}var Fr={left:1,right:1,center:1};var Wr={top:1,bottom:1,middle:1};function Hr(t){Gr(t);A(t.rich,Gr);return t}function Gr(t){if(t){t.font=Rr(t);var e=t.textAlign;e==="middle"&&(e="center");t.textAlign=e==null||Fr[e]?e:"left";var r=t.textVerticalAlign||t.textBaseline;r==="center"&&(r="middle");t.textVerticalAlign=r==null||Wr[r]?r:"top";var i=t.textPadding;if(i){t.textPadding=Z(t.textPadding)}}}function Vr(t,e,r,i,n){i.rich?Xr(t,e,r,i,n):qr(t,e,r,i,n)}function qr(t,e,r,i,n){var a=Jr(e,"font",i.font||_r);var o=i.textPadding;var s=t.__textCotentBlock;if(!s||t.__dirty){s=t.__textCotentBlock=zr(r,a,o,i.truncate)}var l=s.outerHeight;var h=s.lines;var u=s.lineHeight;var f=Kr(l,i,n);var c=f.baseX;var v=f.baseY;var d=f.textAlign;var p=f.textVerticalAlign;Yr(e,i,n,c,v);var g=Cr(v,l,p);var m=c;var y=g;var _=jr(i);if(_||o){var x=wr(r,a);var w=x;o&&(w+=o[1]+o[3]);var b=Tr(c,w,d);_&&$r(t,e,i,b,g,w,l);if(o){m=ii(c,d,o);y+=o[0]}}Jr(e,"textAlign",d||"left");Jr(e,"textBaseline","middle");Jr(e,"shadowBlur",i.textShadowBlur||0);Jr(e,"shadowColor",i.textShadowColor||"transparent");Jr(e,"shadowOffsetX",i.textShadowOffsetX||0);Jr(e,"shadowOffsetY",i.textShadowOffsetY||0);y+=u/2;var S=i.textStrokeWidth;var M=ti(i.textStroke,S);var T=ei(i.textFill);if(M){Jr(e,"lineWidth",S);Jr(e,"strokeStyle",M)}if(T){Jr(e,"fillStyle",T)}for(var C=0;C<h.length;C++){M&&e.strokeText(h[C],m,y);T&&e.fillText(h[C],m,y);y+=u}}function Xr(t,e,r,i,n){var a=t.__textCotentBlock;if(!a||t.__dirty){a=t.__textCotentBlock=Br(r,i)}Zr(t,e,a,i,n)}function Zr(t,e,r,i,n){var a=r.width;var o=r.outerWidth;var s=r.outerHeight;var l=i.textPadding;var h=Kr(s,i,n);var u=h.baseX;var f=h.baseY;var c=h.textAlign;var v=h.textVerticalAlign;Yr(e,i,n,u,f);var d=Tr(u,o,c);var p=Cr(f,s,v);var g=d;var m=p;if(l){g+=l[3];m+=l[0]}var y=g+a;jr(i)&&$r(t,e,i,d,p,o,s);for(var _=0;_<r.lines.length;_++){var x=r.lines[_];var w=x.tokens;var b=w.length;var S=x.lineHeight;var M=x.width;var T=0;var C=g;var k=y;var I=b-1;var A;while(T<b&&(A=w[T],!A.textAlign||A.textAlign==="left")){Ur(t,e,A,i,S,m,C,"left");M-=A.width;C+=A.width;T++}while(I>=0&&(A=w[I],A.textAlign==="right")){Ur(t,e,A,i,S,m,k,"right");M-=A.width;k-=A.width;I--}C+=(a-(C-g)-(y-k)-M)/2;while(T<=I){A=w[T];Ur(t,e,A,i,S,m,C+A.width/2,"center");C+=A.width;T++}m+=S}}function Yr(t,e,r,i,n){if(r&&e.textRotation){var a=e.textOrigin;if(a==="center"){i=r.width/2+r.x;n=r.height/2+r.y}else if(a){i=a[0]+r.x;n=a[1]+r.y}t.translate(i,n);t.rotate(-e.textRotation);t.translate(-i,-n)}}function Ur(t,e,r,i,n,a,o,s){var l=i.rich[r.styleName]||{};var h=r.textVerticalAlign;var u=a+n/2;if(h==="top"){u=a+r.height/2}else if(h==="bottom"){u=a+n-r.height/2}!r.isLineHolder&&jr(l)&&$r(t,e,l,s==="right"?o-r.width:s==="center"?o-r.width/2:o,u-r.height/2,r.width,r.height);var f=r.textPadding;if(f){o=ii(o,s,f);u-=r.height/2-f[2]-r.textHeight/2}Jr(e,"shadowBlur",q(l.textShadowBlur,i.textShadowBlur,0));Jr(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent");Jr(e,"shadowOffsetX",q(l.textShadowOffsetX,i.textShadowOffsetX,0));Jr(e,"shadowOffsetY",q(l.textShadowOffsetY,i.textShadowOffsetY,0));Jr(e,"textAlign",s);Jr(e,"textBaseline","middle");Jr(e,"font",r.font||_r);var c=ti(l.textStroke||i.textStroke,d);var v=ei(l.textFill||i.textFill);var d=V(l.textStrokeWidth,i.textStrokeWidth);if(c){Jr(e,"lineWidth",d);Jr(e,"strokeStyle",c);e.strokeText(r.text,o,u)}if(v){Jr(e,"fillStyle",v);e.fillText(r.text,o,u)}}function jr(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function $r(t,e,r,i,n,a,o){var s=r.textBackgroundColor;var l=r.textBorderWidth;var h=r.textBorderColor;var u=R(s);Jr(e,"shadowBlur",r.textBoxShadowBlur||0);Jr(e,"shadowColor",r.textBoxShadowColor||"transparent");Jr(e,"shadowOffsetX",r.textBoxShadowOffsetX||0);Jr(e,"shadowOffsetY",r.textBoxShadowOffsetY||0);if(u||l&&h){e.beginPath();var f=r.textBorderRadius;if(!f){e.rect(i,n,a,o)}else{Nr(e,{x:i,y:n,width:a,height:o,r:f})}e.closePath()}if(u){Jr(e,"fillStyle",s);e.fill()}else if(N(s)){var c=s.image;c=cr(c,null,t,Qr,s);if(c&&dr(c)){e.drawImage(c,i,n,a,o)}}if(l&&h){Jr(e,"lineWidth",l);Jr(e,"strokeStyle",h);e.stroke()}}function Qr(t,e){e.image=t}function Kr(t,e,r){var i=e.x||0;var n=e.y||0;var a=e.textAlign;var o=e.textVerticalAlign;if(r){var s=e.textPosition;if(s instanceof Array){i=r.x+ri(s[0],r.width);n=r.y+ri(s[1],r.height)}else{var l=kr(s,r,e.textDistance);i=l.x;n=l.y;a=a||l.textAlign;o=o||l.textVerticalAlign}var h=e.textOffset;if(h){i+=h[0];n+=h[1]}}return{baseX:i,baseY:n,textAlign:a,textVerticalAlign:o}}function Jr(t,e,r){t[e]=r;return t[e]}function ti(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function ei(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function ri(t,e){if(typeof t==="string"){if(t.lastIndexOf("%")>=0){return parseFloat(t)/100*e}return parseFloat(t)}return t}function ii(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function ni(t,e){return t!=null&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var ai=new Ne;var oi=function(){};oi.prototype={constructor:oi,drawRectText:function(t,e){var r=this.style;e=r.textRect||e;this.__dirty&&Hr(r,true);var i=r.text;i!=null&&(i+="");if(!ni(i,r)){return}t.save();var n=this.transform;if(!r.transformText){if(n){ai.copy(e);ai.applyTransform(n);e=ai}}else{this.setTransform(t)}Vr(this,t,i,r,e);t.restore()}};function si(t){t=t||{};ze.call(this,t);for(var e in t){if(t.hasOwnProperty(e)&&e!=="style"){this[e]=t[e]}}this.style=new Je(t.style,this);this._rect=null;this.__clipPaths=[]}si.prototype={constructor:si,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();return i.contain(r[0],r[1])},dirty:function(){this.__dirty=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){if(t!=="style"){ze.prototype.attrKV.call(this,t,e)}else{this.style.set(e)}},setStyle:function(t,e){this.style.set(t,e);this.dirty(false);return this},useStyle:function(t){this.style=new Je(t,this);this.dirty(false);return this}};C(si,ze);k(si,oi);function li(t){si.call(this,t)}li.prototype={constructor:li,type:"image",brush:function(t,e){var r=this.style;var i=r.image;r.bind(t,this,e);var n=this._image=cr(i,this._image,this,this.onload);if(!n||!dr(n)){return}var a=r.x||0;var o=r.y||0;var s=r.width;var l=r.height;var h=n.width/n.height;if(s==null&&l!=null){s=l*h}else if(l==null&&s!=null){l=s/h}else if(s==null&&l==null){s=n.width;l=n.height}this.setTransform(t);if(r.sWidth&&r.sHeight){var u=r.sx||0;var f=r.sy||0;t.drawImage(n,u,f,r.sWidth,r.sHeight,a,o,s,l)}else if(r.sx&&r.sy){var u=r.sx;var f=r.sy;var c=s-u;var v=l-f;t.drawImage(n,u,f,c,v,a,o,s,l)}else{t.drawImage(n,a,o,s,l)}this.restoreTransform(t);if(r.text!=null){this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var t=this.style;if(!this._rect){this._rect=new Ne(t.x||0,t.y||0,t.width||0,t.height||0)}return this._rect}};C(li,si);var hi=5;function ui(t){return parseInt(t,10)}function fi(t){if(!t){return false}if(t.__builtin__){return true}if(typeof t.resize!=="function"||typeof t.refresh!=="function"){return false}return true}function ci(t){t.__unusedCount++}function vi(t){if(t.__unusedCount==1){t.clear()}}var di=new Ne(0,0,0,0);var pi=new Ne(0,0,0,0);function gi(t,e,r){di.copy(t.getBoundingRect());if(t.transform){di.applyTransform(t.transform)}pi.width=e;pi.height=r;return!di.intersect(pi)}function mi(t,e){if(t==e){return false}if(!t||!e||t.length!==e.length){return true}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return true}}}function yi(t,e){for(var r=0;r<t.length;r++){var i=t[r];i.setTransform(e);e.beginPath();i.buildPath(e,i.shape);e.clip();i.restoreTransform(e)}}function _i(t,e){var r=document.createElement("div");r.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";";return r}var xi=function(t,e,r){this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=x({},r||{});this.dpr=r.devicePixelRatio||Le;this._singleCanvas=i;this.root=t;var n=t.style;if(n){n["-webkit-tap-highlight-color"]="transparent";n["-webkit-user-select"]=n["user-select"]=n["-webkit-touch-callout"]="none";t.innerHTML=""}this.storage=e;var a=this._zlevelList=[];var o=this._layers={};this._layerConfig={};if(!i){this._width=this._getSize(0);this._height=this._getSize(1);var s=this._domRoot=_i(this._width,this._height);t.appendChild(s)}else{if(r.width!=null){t.width=r.width}if(r.height!=null){t.height=r.height}var l=t.width;var h=t.height;this._width=l;this._height=h;var u=new lr(t,this,1);u.initContext();o[0]=u;a.push(0);this._domRoot=t}this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};xi.prototype={constructor:xi,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}},refresh:function(t){var e=this.storage.getDisplayList(true);var r=this._zlevelList;this._paintList(e,t);for(var i=0;i<r.length;i++){var n=r[i];var a=this._layers[n];if(!a.__builtin__&&a.refresh){a.refresh()}}this.refreshHover();if(this._progressiveLayers.length){this._startProgessive()}return this},addHover:function(t,e){if(t.__hoverMir){return}var r=new t.constructor({style:t.style,shape:t.shape});r.__from=t;t.__hoverMir=r;r.setStyle(e);this._hoverElements.push(r)},removeHover:function(t){var e=t.__hoverMir;var r=this._hoverElements;var i=T(r,e);if(i>=0){r.splice(i,1)}t.__hoverMir=null},clearHover:function(t){var e=this._hoverElements;for(var r=0;r<e.length;r++){var i=e[r].__from;if(i){i.__hoverMir=null}}e.length=0},refreshHover:function(){var t=this._hoverElements;var e=t.length;var r=this._hoverlayer;r&&r.clear();if(!e){return}je(t,this.storage.displayableSortFunc);if(!r){r=this._hoverlayer=this.getLayer(1e5)}var i={};r.ctx.save();for(var n=0;n<e;){var a=t[n];var o=a.__from;if(!(o&&o.__zr)){t.splice(n,1);o.__hoverMir=null;e--;continue}n++;if(!o.invisible){a.transform=o.transform;a.invTransform=o.invTransform;a.__clipPaths=o.__clipPaths;this._doPaintEl(a,r,true,i)}}r.ctx.restore()},_startProgessive:function(){var t=this;if(!t._furtherProgressive){return}var e=t._progressiveToken=+new Date;t._progress++;hr(r);function r(){if(e===t._progressiveToken&&t.storage){t._doPaintList(t.storage.getDisplayList());if(t._furtherProgressive){t._progress++;hr(r)}else{t._progressiveToken=-1}}}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;A(this._progressiveLayers,function(t){t.__dirty&&t.clear()})},_paintList:function(t,e){if(e==null){e=false}this._updateLayerStatus(t);this._clearProgressive();this.eachBuiltinLayer(ci);this._doPaintList(t,e);this.eachBuiltinLayer(vi)},_doPaintList:function(t,e){var r;var i;var n;var a;var o=0;var s;var l=this._width;var h=this._height;var u;var f=this._progress;function c(t){var e=n.dpr||1;n.save();n.globalAlpha=1;n.shadowBlur=0;r.__dirty=true;n.setTransform(1,0,0,1,0,0);n.drawImage(t.dom,0,0,l*e,h*e);n.restore()}for(var v=0,d=t.length;v<d;v++){var p=t[v];var g=this._singleCanvas?0:p.zlevel;var m=p.__frame;if(m<0&&s){c(s);s=null}if(i!==g){if(n){n.restore()}a={};i=g;r=this.getLayer(i);if(!r.__builtin__){De("ZLevel "+i+" has been used by unkown layer "+r.id)}n=r.ctx;n.save();r.__unusedCount=0;if(r.__dirty||e){r.clear()}}if(!(r.__dirty||e)){continue}if(m>=0){if(!s){s=this._progressiveLayers[Math.min(o++,hi-1)];s.ctx.save();s.renderScope={};if(s&&s.__progress>s.__maxProgress){v=s.__nextIdxNotProg-1;continue}u=s.__progress;if(!s.__dirty){f=u}s.__progress=f+1}if(m===f){this._doPaintEl(p,s,true,s.renderScope)}}else{this._doPaintEl(p,r,e,a)}p.__dirty=false}if(s){c(s)}n&&n.restore();this._furtherProgressive=false;A(this._progressiveLayers,function(t){if(t.__maxProgress>=t.__progress){this._furtherProgressive=true}},this)},_doPaintEl:function(t,e,r,i){var n=e.ctx;var a=t.transform;if((e.__dirty||r)&&!t.invisible&&t.style.opacity!==0&&!(a&&!a[0]&&!a[3])&&!(t.culling&&gi(t,this._width,this._height))){var o=t.__clipPaths;if(i.prevClipLayer!==e||mi(o,i.prevElClipPaths)){if(i.prevElClipPaths){i.prevClipLayer.ctx.restore();i.prevClipLayer=i.prevElClipPaths=null;i.prevEl=null}if(o){n.save();yi(o,n);i.prevClipLayer=e;i.prevElClipPaths=o}}t.beforeBrush&&t.beforeBrush(n);t.brush(n,i.prevEl||null);i.prevEl=t;t.afterBrush&&t.afterBrush(n)}},getLayer:function(t){if(this._singleCanvas){return this._layers[0]}var e=this._layers[t];if(!e){e=new lr("zr_"+t,this,this.dpr);e.__builtin__=true;if(this._layerConfig[t]){y(e,this._layerConfig[t],true)}this.insertLayer(t,e);e.initContext()}return e},insertLayer:function(t,e){var r=this._layers;var i=this._zlevelList;var n=i.length;var a=null;var o=-1;var s=this._domRoot;if(r[t]){De("ZLevel "+t+" has been used already");return}if(!fi(e)){De("Layer of zlevel "+t+" is not valid");return}if(n>0&&t>i[0]){for(o=0;o<n-1;o++){if(i[o]<t&&i[o+1]>t){break}}a=r[i[o]]}i.splice(o+1,0,t);r[t]=e;if(!e.virtual){if(a){var l=a.dom;if(l.nextSibling){s.insertBefore(e.dom,l.nextSibling)}else{s.appendChild(e.dom)}}else{if(s.firstChild){s.insertBefore(e.dom,s.firstChild)}else{s.appendChild(e.dom)}}}},eachLayer:function(t,e){var r=this._zlevelList;var i;var n;for(n=0;n<r.length;n++){i=r[n];t.call(e,this._layers[i],i)}},eachBuiltinLayer:function(t,e){var r=this._zlevelList;var i;var n;var a;for(a=0;a<r.length;a++){n=r[a];i=this._layers[n];if(i.__builtin__){t.call(e,i,n)}}},eachOtherLayer:function(t,e){var r=this._zlevelList;var i;var n;var a;for(a=0;a<r.length;a++){n=r[a];i=this._layers[n];if(!i.__builtin__){t.call(e,i,n)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers;var r=this._progressiveLayers;var i={};var n={};this.eachBuiltinLayer(function(t,e){i[e]=t.elCount;t.elCount=0;t.__dirty=false});A(r,function(t,e){n[e]=t.elCount;t.elCount=0;t.__dirty=false});var a=0;var o;var s;var l=0;for(var h=0,u=t.length;h<u;h++){var f=t[h];var c=this._singleCanvas?0:f.zlevel;var v=e[c];var d=f.progressive;if(v){v.elCount++;v.__dirty=v.__dirty||f.__dirty}if(d>=0){if(s!==d){s=d;l++}var p=f.__frame=l-1;if(!o){var g=Math.min(a,hi-1);o=r[g];if(!o){o=r[g]=new lr("progressive",this,this.dpr);o.initContext()}o.__maxProgress=0}o.__dirty=o.__dirty||f.__dirty;o.elCount++;o.__maxProgress=Math.max(o.__maxProgress,p);if(o.__maxProgress>=o.__progress){v.__dirty=true}}else{f.__frame=-1;if(o){o.__nextIdxNotProg=h;a++;o=null}}}if(o){a++;o.__nextIdxNotProg=h}this.eachBuiltinLayer(function(t,e){if(i[e]!==t.elCount){t.__dirty=true}});r.length=Math.min(a,hi);A(r,function(t,e){if(n[e]!==t.elCount){f.__dirty=true}if(t.__dirty){t.__progress=0}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var r=this._layerConfig;if(!r[t]){r[t]=e}else{y(r[t],e,true)}var i=this._layers[t];if(i){y(i,r[t],true)}}},delLayer:function(t){var e=this._layers;var r=this._zlevelList;var i=e[t];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete e[t];r.splice(T(r,t),1)},resize:function(t,e){var r=this._domRoot;r.style.display="none";var i=this._opts;t!=null&&(i.width=t);e!=null&&(i.height=e);t=this._getSize(0);e=this._getSize(1);r.style.display="";if(this._width!=t||e!=this._height){r.style.width=t+"px";r.style.height=e+"px";for(var n in this._layers){if(this._layers.hasOwnProperty(n)){this._layers[n].resize(t,e)}}A(this._progressiveLayers,function(r){r.resize(t,e)});this.refresh(true)}this._width=t;this._height=e;return this},clearLayer:function(t){var e=this._layers[t];if(e){e.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){t=t||{};if(this._singleCanvas){return this._layers[0].dom}var e=new lr("image",this,t.pixelRatio||this.dpr);e.initContext();e.clearColor=t.backgroundColor;e.clear();var r=this.storage.getDisplayList(true);var i={};var n;var a=this;function o(t,r){var i=a._zlevelList;if(t==null){t=-Infinity}var n;for(var o=0;o<i.length;o++){var s=i[o];var l=a._layers[s];if(!l.__builtin__&&s>t&&s<r){n=l;break}}if(n&&n.renderToCanvas){e.ctx.save();n.renderToCanvas(e.ctx);e.ctx.restore()}}for(var s=0;s<r.length;s++){var l=r[s];if(l.zlevel!==n){o(n,l.zlevel);n=l.zlevel}this._doPaintEl(l,e,true,i)}o(n,Infinity);return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts;var r=["width","height"][t];var i=["clientWidth","clientHeight"][t];var n=["paddingLeft","paddingTop"][t];var a=["paddingRight","paddingBottom"][t];if(e[r]!=null&&e[r]!=="auto"){return parseFloat(e[r])}var o=this.root;var s=document.defaultView.getComputedStyle(o);return(o[i]||ui(s[r])||ui(o.style[r]))-(ui(s[n])||0)-(ui(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var r=document.createElement("canvas");var i=r.getContext("2d");var n=t.getBoundingRect();var a=t.style;var o=a.shadowBlur;var s=a.shadowOffsetX;var l=a.shadowOffsetY;var h=a.hasStroke()?a.lineWidth:0;var u=Math.max(h/2,-s+o);var f=Math.max(h/2,s+o);var c=Math.max(h/2,-l+o);var v=Math.max(h/2,l+o);var d=n.width+u+f;var p=n.height+c+v;r.width=d*e;r.height=p*e;i.scale(e,e);i.clearRect(0,0,d,p);i.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-n.x,c-n.y];t.rotation=0;t.scale=[1,1];t.updateTransform();if(t){t.brush(i)}var m=li;var y=new m({style:{x:0,y:0,image:r}});if(g.position!=null){y.position=t.position=g.position}if(g.rotation!=null){y.rotation=t.rotation=g.rotation}if(g.scale!=null){y.scale=t.scale=g.scale}return y}};var wi=typeof window!=="undefined"&&!!window.addEventListener;var bi=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function Si(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function Mi(t,e,r,i){r=r||{};if(i||!n.canvasSupported){Ti(t,e,r)}else if(n.browser.firefox&&e.layerX!=null&&e.layerX!==e.offsetX){r.zrX=e.layerX;r.zrY=e.layerY}else if(e.offsetX!=null){r.zrX=e.offsetX;r.zrY=e.offsetY}else{Ti(t,e,r)}return r}function Ti(t,e,r){var i=Si(t);r.zrX=e.clientX-i.left;r.zrY=e.clientY-i.top}function Ci(t,e,r){e=e||window.event;if(e.zrX!=null){return e}var i=e.type;var n=i&&i.indexOf("touch")>=0;if(!n){Mi(t,e,e,r);e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}else{var a=i!="touchend"?e.targetTouches[0]:e.changedTouches[0];a&&Mi(t,a,e,r)}var o=e.button;if(e.which==null&&o!==undefined&&bi.test(e.type)){e.which=o&1?1:o&2?3:o&4?2:0}return e}function ki(t,e,r){if(wi){t.addEventListener(e,r)}else{t.attachEvent("on"+e,r)}}function Ii(t,e,r){if(wi){t.removeEventListener(e,r)}else{t.detachEvent("on"+e,r)}}var Ai=function(t){t=t||{};this.stage=t.stage||{};this.onframe=t.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;St.call(this)};Ai.prototype={constructor:Ai,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;var e=t.getClips();for(var r=0;r<e.length;r++){this.addClip(e[r])}},removeClip:function(t){var e=T(this._clips,t);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(t){var e=t.getClips();for(var r=0;r<e.length;r++){this.removeClip(e[r])}t.animation=null},_update:function(){var t=(new Date).getTime()-this._pausedTime;var e=t-this._time;var r=this._clips;var i=r.length;var n=[];var a=[];for(var o=0;o<i;o++){var s=r[o];var l=s.step(t,e);if(l){n.push(l);a.push(s)}}for(var o=0;o<i;){if(r[o]._needsRemove){r[o]=r[i-1];r.pop();i--}else{o++}}i=n.length;for(var o=0;o<i;o++){a[o].fire(n[o])}this._time=t;this.onframe(e);this.trigger("frame",e);if(this.stage.update){this.stage.update()}},_startLoop:function(){var t=this;this._running=true;function e(){if(t._running){hr(e);!t._paused&&t._update()}}hr(e)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=(new Date).getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date).getTime()-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var r=new ke(t,e.loop,e.getter,e.setter);this.addAnimator(r);return r}};k(Ai,St);var Li=function(){this._track=[]};Li.prototype={constructor:Li,recognize:function(t,e,r){this._doTrack(t,e,r);return this._recognize(t)},clear:function(){this._track.length=0;return this},_doTrack:function(t,e,r){var i=t.touches;if(!i){return}var n={points:[],touches:[],target:e,event:t};for(var a=0,o=i.length;a<o;a++){var s=i[a];var l=Mi(r,s,{});n.points.push([l.zrX,l.zrY]);n.touches.push(s)}this._track.push(n)},_recognize:function(t){for(var e in Oi){if(Oi.hasOwnProperty(e)){var r=Oi[e](this._track,t);if(r){return r}}}}};function Pi(t){var e=t[1][0]-t[0][0];var r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function Di(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var Oi={pinch:function(t,e){var r=t.length;if(!r){return}var i=(t[r-1]||{}).points;var n=(t[r-2]||{}).points||i;if(n&&n.length>1&&i&&i.length>1){var a=Pi(i)/Pi(n);!isFinite(a)&&(a=1);e.pinchScale=a;var o=Di(i);e.pinchX=o[0];e.pinchY=o[1];return{type:"pinch",target:t[0].target,event:e}}}};var zi=300;var Bi=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var Ei=["touchstart","touchend","touchmove"];var Ri={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var Ni=L(Bi,function(t){var e=t.replace("mouse","pointer");return Ri[e]?e:t});function Fi(t){return t==="mousewheel"&&n.browser.firefox?"DOMMouseScroll":t}function Wi(t,e,r){var i=t._gestureMgr;r==="start"&&i.clear();var n=i.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);r==="end"&&i.clear();if(n){var a=n.type;e.gestureEvent=a;t.handler.dispatchToElement({target:n.target},a,n.event)}}function Hi(t){t._touching=true;clearTimeout(t._touchTimer);t._touchTimer=setTimeout(function(){t._touching=false},700)}var Gi={mousemove:function(t){t=Ci(this.dom,t);this.trigger("mousemove",t)},mouseout:function(t){t=Ci(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!=this.dom){while(e&&e.nodeType!=9){if(e===this.dom){return}e=e.parentNode}}this.trigger("mouseout",t)},touchstart:function(t){t=Ci(this.dom,t);t.zrByTouch=true;this._lastTouchMoment=new Date;Wi(this,t,"start");Gi.mousemove.call(this,t);Gi.mousedown.call(this,t);Hi(this)},touchmove:function(t){t=Ci(this.dom,t);t.zrByTouch=true;Wi(this,t,"change");Gi.mousemove.call(this,t);Hi(this)},touchend:function(t){t=Ci(this.dom,t);t.zrByTouch=true;Wi(this,t,"end");Gi.mouseup.call(this,t);if(+new Date-this._lastTouchMoment<zi){Gi.click.call(this,t)}Hi(this)},pointerdown:function(t){Gi.mousedown.call(this,t)},pointermove:function(t){if(!Vi(t)){Gi.mousemove.call(this,t)}},pointerup:function(t){Gi.mouseup.call(this,t)},pointerout:function(t){if(!Vi(t)){Gi.mouseout.call(this,t)}}};function Vi(t){var e=t.pointerType;return e==="pen"||e==="touch"}A(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Gi[t]=function(e){e=Ci(this.dom,e);this.trigger(t,e)}});function qi(t){A(Ei,function(e){t._handlers[e]=O(Gi[e],t)});A(Ni,function(e){t._handlers[e]=O(Gi[e],t)});A(Bi,function(r){t._handlers[r]=e(Gi[r],t)});function e(t,e){return function(){if(e._touching){return}return t.apply(e,arguments)}}}function Xi(t){St.call(this);this.dom=t;this._touching=false;this._touchTimer;this._gestureMgr=new Li;this._handlers={};qi(this);if(n.pointerEventsSupported){e(Ni,this)}else{if(n.touchEventsSupported){e(Ei,this)}e(Bi,this)}function e(e,r){A(e,function(e){ki(t,Fi(e),r._handlers[e])},r)}}var Zi=Xi.prototype;Zi.dispose=function(){var t=Bi.concat(Ei);for(var e=0;e<t.length;e++){var r=t[e];Ii(this.dom,Fi(r),this._handlers[r])}};Zi.setCursor=function(t){this.dom.style.cursor=t||"default"};k(Xi,St);var Yi=!n.canvasSupported;var Ui={canvas:xi};function ji(t,e){var i=new $i(r(),t,e);return i}var $i=function(t,e,r){r=r||{};this.dom=e;this.id=t;var i=this;var a=new Qe;var o=r.renderer;if(Yi){if(!Ui.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}o="vml"}else if(!o||!Ui[o]){o="canvas"}var s=new Ui[o](e,a,r);this.storage=a;this.painter=s;var l=!n.node?new Xi(s.getViewportRoot()):null;this.handler=new It(a,s,l,s.root);this.animation=new Ai({stage:{update:O(this.flush,this)}});this.animation.start();this._needsRefresh;var h=a.delFromStorage;var u=a.addToStorage;a.delFromStorage=function(t){h.call(a,t);t&&t.removeSelfFromZr(i)};a.addToStorage=function(t){u.call(a,t);t.addSelfToZr(i)}};$i.prototype={constructor:$i,getId:function(){return this.id},add:function(t){this.storage.addRoot(t);this._needsRefresh=true},remove:function(t){this.storage.delRoot(t);this._needsRefresh=true},configLayer:function(t,e){this.painter.configLayer(t,e);this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false},refresh:function(){this._needsRefresh=true},flush:function(){if(this._needsRefresh){this.refreshImmediately()}if(this._needsRefreshHover){this.refreshHoverImmediately()}},addHover:function(t,e){if(this.painter.addHover){this.painter.addHover(t,e);this.refreshHover()}},removeHover:function(t){if(this.painter.removeHover){this.painter.removeHover(t);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{};this.painter.resize(t.width,t.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,r){this.handler.on(t,e,r)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null}};var Qi=1e-4;function Ki(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function Ji(t,e,r,i){var n=e[1]-e[0];var a=r[1]-r[0];if(n===0){return a===0?r[0]:(r[0]+r[1])/2}if(i){if(n>0){if(t<=e[0]){return r[0]}else if(t>=e[1]){return r[1]}}else{if(t>=e[0]){return r[0]}else if(t<=e[1]){return r[1]}}}else{if(t===e[0]){return r[0]}if(t===e[1]){return r[1]}}return(t-e[0])/n*a+r[0]}function tn(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}if(typeof t==="string"){if(Ki(t).match(/%$/)){return parseFloat(t)/100*e}return parseFloat(t)}return t==null?NaN:+t}function en(t,e,r){if(e==null){e=10}e=Math.min(Math.max(0,e),20);t=(+t).toFixed(e);return r?t:+t}function rn(t){var e=t.toString();var r=e.indexOf("e");if(r>0){var i=+e.slice(r+1);return i<0?-i:0}else{var n=e.indexOf(".");return n<0?0:e.length-1-n}}function nn(t,e){var r=Math.log;var i=Math.LN10;var n=Math.floor(r(t[1]-t[0])/i);var a=Math.round(r(Math.abs(e[1]-e[0]))/i);var o=Math.min(Math.max(-n+a,0),20);return!isFinite(o)?20:o}function an(t){var e=Math.PI*2;return(t%e+e)%e}function on(t){return t>-Qi&&t<Qi}var sn=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ln(t){if(t instanceof Date){return t}else if(typeof t==="string"){var e=sn.exec(t);if(!e){return new Date(NaN)}if(!e[8]){return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}else{var r=+e[4]||0;if(e[8].toUpperCase()!=="Z"){r-=e[8].slice(0,3)}return new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,+e[7]||0))}}else if(t==null){return new Date(NaN)}return new Date(Math.round(t))}function hn(t){return Math.pow(10,un(t))}function un(t){return Math.floor(Math.log(t)/Math.LN10)}function fn(t,e){var r=un(t);var i=Math.pow(10,r);var n=t/i;var a;if(e){if(n<1.5){a=1}else if(n<2.5){a=2}else if(n<4){a=3}else if(n<7){a=5}else{a=10}}else{if(n<1){a=1}else if(n<2){a=2}else if(n<3){a=3}else if(n<5){a=5}else{a=10}}t=a*i;return r>=-20?+t.toFixed(r<0?-r:0):t}function cn(t){if(isNaN(t)){return"-"}t=(t+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}var vn=Z;function dn(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var pn=["a","b","c","d","e","f","g"];var gn=function(t,e){return"{"+t+(e==null?"":e)+"}"};function mn(t,e,r){if(!B(e)){e=[e]}var i=e.length;if(!i){return""}var n=e[0].$vars||[];for(var a=0;a<n.length;a++){var o=pn[a];var s=gn(o,0);t=t.replace(gn(o),r?dn(s):s)}for(var l=0;l<i;l++){for(var h=0;h<n.length;h++){var s=e[l][n[h]];t=t.replace(gn(pn[h],l),r?dn(s):s)}}return t}function yn(t,e){return t?'<span style="display:inline-block;margin-right:5px;'+"border-radius:10px;width:9px;height:9px;background-color:"+dn(t)+";"+(e||"")+'"></span>':""}var _n=function(t){return t<10?"0"+t:t};function xn(t,e,r){if(t==="week"||t==="month"||t==="quarter"||t==="half-year"||t==="year"){t="MM-dd\nyyyy"}var i=ln(e);var n=r?"UTC":"";var a=i["get"+n+"FullYear"]();var o=i["get"+n+"Month"]()+1;var s=i["get"+n+"Date"]();var l=i["get"+n+"Hours"]();var h=i["get"+n+"Minutes"]();var u=i["get"+n+"Seconds"]();t=t.replace("MM",_n(o)).replace("M",o).replace("yyyy",a).replace("yy",a%100).replace("dd",_n(s)).replace("d",s).replace("hh",_n(l)).replace("h",l).replace("mm",_n(h)).replace("m",h).replace("ss",_n(u)).replace("s",u);return t}var wn=Ir;var bn=".";var Sn="___EC__COMPONENT__CONTAINER___";var Mn="\0ec_\0";function Tn(t,e,r){return t[Mn+e]=r}function Cn(t,e){return t[Mn+e]}function kn(t,e){return t.hasOwnProperty(Mn+e)}function In(t){var e={main:"",sub:""};if(t){t=t.split(bn);e.main=t[0]||"";e.sub=t[1]||""}return e}function An(t){Y(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Ln(t,e){t.$constructor=t;t.extend=function(t){var e=this;var r=function(){if(!t.$constructor){e.apply(this,arguments)}else{t.$constructor.apply(this,arguments)}};x(r.prototype,t);r.extend=this.extend;r.superCall=Pn;r.superApply=Dn;C(r,this);r.superClass=e;return r}}function Pn(t,e){var r=X(arguments,2);return this.superClass.prototype[e].apply(t,r)}function Dn(t,e,r){return this.superClass.prototype[e].apply(t,r)}function On(t,e){e=e||{};var r={};t.registerClass=function(t,e){if(e){An(e);e=In(e);if(!e.sub){r[e.main]=t}else if(e.sub!==Sn){var n=i(e);n[e.sub]=t}}return t};t.getClass=function(t,e,i){var n=r[t];if(n&&n[Sn]){n=e?n[e]:null}if(i&&!n){throw new Error(!e?t+"."+"type should be specified.":"Component "+t+"."+(e||"")+" not exists. Load it first.")}return n};t.getClassesByMainType=function(t){t=In(t);var e=[];var i=r[t.main];if(i&&i[Sn]){A(i,function(t,r){r!==Sn&&e.push(t)})}else{e.push(i)}return e};t.hasClass=function(t){t=In(t);return!!r[t.main]};t.getAllClassMainTypes=function(){var t=[];A(r,function(e,r){t.push(r)});return t};t.hasSubTypes=function(t){t=In(t);var e=r[t.main];return e&&e[Sn]};t.parseClassType=In;function i(t){var e=r[t.main];if(!e||!e[Sn]){e=r[t.main]={};e[Sn]=true}return e}if(e.registerWhenExtend){var n=t.extend;if(n){t.extend=function(e){var r=n.call(this,e);return t.registerClass(r,e.type)}}}return t}var zn=function(t){for(var e=0;e<t.length;e++){if(!t[e][1]){t[e][1]=t[e][0]}}return function(e,r,i){var n={};for(var a=0;a<t.length;a++){var o=t[a][1];if(r&&T(r,o)>=0||i&&T(i,o)<0){continue}var s=e.getShallow(o);if(s!=null){n[t[a][0]]=s}}return n}};var Bn=zn([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var En={getLineStyle:function(t){var e=Bn(this,t);var r=this.getLineDash(e.lineWidth);r&&(e.lineDash=r);return e},getLineDash:function(t){if(t==null){t=1}var e=this.get("type");var r=Math.max(t,2);var i=t*4;return e==="solid"||e==null?null:e==="dashed"?[i,i]:[r,r]}};var Rn=zn([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var Nn={getAreaStyle:function(t,e){return Rn(this,t,e)}};var Fn=Math.pow;var Wn=Math.sqrt;var Hn=1e-8;var Gn=1e-4;var Vn=Wn(3);var qn=1/3;var Xn=it();var Zn=it();var Yn=it();function Un(t){return t>-Hn&&t<Hn}function jn(t){return t>Hn||t<-Hn}function $n(t,e,r,i,n){var a=1-n;return a*a*(a*t+3*n*e)+n*n*(n*i+3*a*r)}function Qn(t,e,r,i,n){var a=1-n;return 3*(((e-t)*a+2*(r-e)*n)*a+(i-r)*n*n)}function Kn(t,e,r,i,n,a){var o=i+3*(e-r)-t;var s=3*(r-e*2+t);var l=3*(e-t);var h=t-n;var u=s*s-3*o*l;var f=s*l-9*o*h;var c=l*l-3*s*h;var v=0;if(Un(u)&&Un(f)){if(Un(s)){a[0]=0}else{var d=-l/s;if(d>=0&&d<=1){a[v++]=d}}}else{var p=f*f-4*u*c;if(Un(p)){var g=f/u;var d=-s/o+g;var m=-g/2;if(d>=0&&d<=1){a[v++]=d}if(m>=0&&m<=1){a[v++]=m}}else if(p>0){var y=Wn(p);var _=u*s+1.5*o*(-f+y);var x=u*s+1.5*o*(-f-y);if(_<0){_=-Fn(-_,qn)}else{_=Fn(_,qn)}if(x<0){x=-Fn(-x,qn)}else{x=Fn(x,qn)}var d=(-s-(_+x))/(3*o);if(d>=0&&d<=1){a[v++]=d}}else{var w=(2*u*s-3*o*f)/(2*Wn(u*u*u));var b=Math.acos(w)/3;var S=Wn(u);var M=Math.cos(b);var d=(-s-2*S*M)/(3*o);var m=(-s+S*(M+Vn*Math.sin(b)))/(3*o);var T=(-s+S*(M-Vn*Math.sin(b)))/(3*o);if(d>=0&&d<=1){a[v++]=d}if(m>=0&&m<=1){a[v++]=m}if(T>=0&&T<=1){a[v++]=T}}}return v}function Jn(t,e,r,i,n){var a=6*r-12*e+6*t;var o=9*e+3*i-3*t-9*r;var s=3*e-3*t;var l=0;if(Un(o)){if(jn(a)){var h=-s/a;if(h>=0&&h<=1){n[l++]=h}}}else{var u=a*a-4*o*s;if(Un(u)){n[0]=-a/(2*o)}else if(u>0){var f=Wn(u);var h=(-a+f)/(2*o);var c=(-a-f)/(2*o);if(h>=0&&h<=1){n[l++]=h}if(c>=0&&c<=1){n[l++]=c}}}return l}function ta(t,e,r,i,n,a){var o=(e-t)*n+t;var s=(r-e)*n+e;var l=(i-r)*n+r;var h=(s-o)*n+o;var u=(l-s)*n+s;var f=(u-h)*n+h;a[0]=t;a[1]=o;a[2]=h;a[3]=f;a[4]=f;a[5]=u;a[6]=l;a[7]=i}function ea(t,e,r,i,n,a,o,s,l,h,u){var f;var c=.005;var v=Infinity;var d;var p;var g;var m;Xn[0]=l;Xn[1]=h;for(var y=0;y<1;y+=.05){Zn[0]=$n(t,r,n,o,y);Zn[1]=$n(e,i,a,s,y);g=gt(Xn,Zn);if(g<v){f=y;v=g}}v=Infinity;for(var _=0;_<32;_++){if(c<Gn){break}d=f-c;p=f+c;Zn[0]=$n(t,r,n,o,d);Zn[1]=$n(e,i,a,s,d);g=gt(Zn,Xn);if(d>=0&&g<v){f=d;v=g}else{Yn[0]=$n(t,r,n,o,p);Yn[1]=$n(e,i,a,s,p);m=gt(Yn,Xn);if(p<=1&&m<v){f=p;v=m}else{c*=.5}}}if(u){u[0]=$n(t,r,n,o,f);u[1]=$n(e,i,a,s,f)}return Wn(v)}function ra(t,e,r,i){var n=1-i;return n*(n*t+2*i*e)+i*i*r}function ia(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))}function na(t,e,r,i,n){var a=t-2*e+r;var o=2*(e-t);var s=t-i;var l=0;if(Un(a)){if(jn(o)){var h=-s/o;if(h>=0&&h<=1){n[l++]=h}}}else{var u=o*o-4*a*s;if(Un(u)){var h=-o/(2*a);if(h>=0&&h<=1){n[l++]=h}}else if(u>0){var f=Wn(u);var h=(-o+f)/(2*a);var c=(-o-f)/(2*a);if(h>=0&&h<=1){n[l++]=h}if(c>=0&&c<=1){n[l++]=c}}}return l}function aa(t,e,r){var i=t+r-2*e;if(i===0){return.5}else{return(t-e)/i}}function oa(t,e,r,i,n){var a=(e-t)*i+t;var o=(r-e)*i+e;var s=(o-a)*i+a;n[0]=t;n[1]=a;n[2]=s;n[3]=s;n[4]=o;n[5]=r}function sa(t,e,r,i,n,a,o,s,l){var h;var u=.005;var f=Infinity;Xn[0]=o;Xn[1]=s;for(var c=0;c<1;c+=.05){Zn[0]=ra(t,r,n,c);Zn[1]=ra(e,i,a,c);var v=gt(Xn,Zn);if(v<f){h=c;f=v}}f=Infinity;for(var d=0;d<32;d++){if(u<Gn){break}var p=h-u;var g=h+u;Zn[0]=ra(t,r,n,p);Zn[1]=ra(e,i,a,p);var v=gt(Zn,Xn);if(p>=0&&v<f){h=p;f=v}else{Yn[0]=ra(t,r,n,g);Yn[1]=ra(e,i,a,g);var m=gt(Yn,Xn);if(g<=1&&m<f){h=g;f=m}else{u*=.5}}}if(l){l[0]=ra(t,r,n,h);l[1]=ra(e,i,a,h)}return Wn(f)}var la=Math.min;var ha=Math.max;var ua=Math.sin;var fa=Math.cos;var ca=Math.PI*2;var va=it();var da=it();var pa=it();function ga(t,e,r,i,n,a){n[0]=la(t,r);n[1]=la(e,i);a[0]=ha(t,r);a[1]=ha(e,i)}var ma=[];var ya=[];function _a(t,e,r,i,n,a,o,s,l,h){var u=Jn;var f=$n;var c;var v=u(t,r,n,o,ma);l[0]=Infinity;l[1]=Infinity;h[0]=-Infinity;h[1]=-Infinity;for(c=0;c<v;c++){var d=f(t,r,n,o,ma[c]);l[0]=la(d,l[0]);h[0]=ha(d,h[0])}v=u(e,i,a,s,ya);for(c=0;c<v;c++){var p=f(e,i,a,s,ya[c]);l[1]=la(p,l[1]);h[1]=ha(p,h[1])}l[0]=la(t,l[0]);h[0]=ha(t,h[0]);l[0]=la(o,l[0]);h[0]=ha(o,h[0]);l[1]=la(e,l[1]);h[1]=ha(e,h[1]);l[1]=la(s,l[1]);h[1]=ha(s,h[1])}function xa(t,e,r,i,n,a,o,s){var l=aa;var h=ra;var u=ha(la(l(t,r,n),1),0);var f=ha(la(l(e,i,a),1),0);var c=h(t,r,n,u);var v=h(e,i,a,f);o[0]=la(t,n,c);o[1]=la(e,a,v);s[0]=ha(t,n,c);s[1]=ha(e,a,v)}function wa(t,e,r,i,n,a,o,s,l){var h=yt;var u=_t;var f=Math.abs(n-a);if(f%ca<1e-4&&f>1e-4){s[0]=t-r;s[1]=e-i;l[0]=t+r;l[1]=e+i;return}va[0]=fa(n)*r+t;va[1]=ua(n)*i+e;da[0]=fa(a)*r+t;da[1]=ua(a)*i+e;h(s,va,da);u(l,va,da);n=n%ca;if(n<0){n=n+ca}a=a%ca;if(a<0){a=a+ca}if(n>a&&!o){a+=ca}else if(n<a&&o){n+=ca}if(o){var c=a;a=n;n=c}for(var v=0;v<a;v+=Math.PI/2){if(v>n){pa[0]=fa(v)*r+t;pa[1]=ua(v)*i+e;h(s,pa,s);u(l,pa,l)}}}var ba={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Sa=[];var Ma=[];var Ta=[];var Ca=[];var ka=Math.min;var Ia=Math.max;var Aa=Math.cos;var La=Math.sin;var Pa=Math.sqrt;var Da=Math.abs;var Oa=typeof Float32Array!="undefined";var za=function(t){this._saveData=!(t||false);if(this._saveData){this.data=[]}this._ctx=null};za.prototype={constructor:za,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Da(1/Le/t)||0;this._uy=Da(1/Le/e)||0},getContext:function(){return this._ctx},beginPath:function(t){this._ctx=t;t&&t.beginPath();t&&(this.dpr=t.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(t,e){this.addData(ba.M,t,e);this._ctx&&this._ctx.moveTo(t,e);this._x0=t;this._y0=e;this._xi=t;this._yi=e;return this},lineTo:function(t,e){var r=Da(t-this._xi)>this._ux||Da(e-this._yi)>this._uy||this._len<5;this.addData(ba.L,t,e);if(this._ctx&&r){this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)}if(r){this._xi=t;this._yi=e}return this},bezierCurveTo:function(t,e,r,i,n,a){this.addData(ba.C,t,e,r,i,n,a);if(this._ctx){this._needsDash()?this._dashedBezierTo(t,e,r,i,n,a):this._ctx.bezierCurveTo(t,e,r,i,n,a)}this._xi=n;this._yi=a;return this},quadraticCurveTo:function(t,e,r,i){this.addData(ba.Q,t,e,r,i);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(t,e,r,i):this._ctx.quadraticCurveTo(t,e,r,i)}this._xi=r;this._yi=i;return this},arc:function(t,e,r,i,n,a){this.addData(ba.A,t,e,r,r,i,n-i,0,a?0:1);this._ctx&&this._ctx.arc(t,e,r,i,n,a);this._xi=Aa(n)*r+t;this._yi=La(n)*r+t;return this},arcTo:function(t,e,r,i,n){if(this._ctx){this._ctx.arcTo(t,e,r,i,n)}return this},rect:function(t,e,r,i){this._ctx&&this._ctx.rect(t,e,r,i);this.addData(ba.R,t,e,r,i);return this},closePath:function(){this.addData(ba.Z);var t=this._ctx;var e=this._x0;var r=this._y0;if(t){this._needsDash()&&this._dashedLineTo(e,r);t.closePath()}this._xi=e;this._yi=r;return this},fill:function(t){t&&t.fill();this.toStatic()},stroke:function(t){t&&t.stroke();this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;this._dashIdx=0;var e=0;for(var r=0;r<t.length;r++){e+=t[r]}this._dashSum=e}return this},setLineDashOffset:function(t){this._dashOffset=t;return this},len:function(){return this._len},setData:function(t){var e=t.length;if(!(this.data&&this.data.length==e)&&Oa){this.data=new Float32Array(e)}for(var r=0;r<e;r++){this.data[r]=t[r]}this._len=e},appendPath:function(t){if(!(t instanceof Array)){t=[t]}var e=t.length;var r=0;var i=this._len;for(var n=0;n<e;n++){r+=t[n].len()}if(Oa&&this.data instanceof Float32Array){this.data=new Float32Array(i+r)}for(var n=0;n<e;n++){var a=t[n].data;for(var o=0;o<a.length;o++){this.data[i++]=a[o]}}this._len=i},addData:function(t){if(!this._saveData){return}var e=this.data;if(this._len+arguments.length>e.length){this._expandData();e=this.data}for(var r=0;r<arguments.length;r++){e[this._len++]=arguments[r]}this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){var t=[];for(var e=0;e<this._len;e++){t[e]=this.data[e]}this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var r=this._dashSum;var i=this._dashOffset;var n=this._lineDash;var a=this._ctx;var o=this._xi;var s=this._yi;var l=t-o;var h=e-s;var u=Pa(l*l+h*h);var f=o;var c=s;var v;var d=n.length;var p;l/=u;h/=u;if(i<0){i=r+i}i%=r;f-=i*l;c-=i*h;while(l>0&&f<=t||l<0&&f>=t||l==0&&(h>0&&c<=e||h<0&&c>=e)){p=this._dashIdx;v=n[p];f+=l*v;c+=h*v;this._dashIdx=(p+1)%d;if(l>0&&f<o||l<0&&f>o||h>0&&c<s||h<0&&c>s){continue}a[p%2?"moveTo":"lineTo"](l>=0?ka(f,t):Ia(f,t),h>=0?ka(c,e):Ia(c,e))}l=f-t;h=c-e;this._dashOffset=-Pa(l*l+h*h)},_dashedBezierTo:function(t,e,r,i,n,a){var o=this._dashSum;var s=this._dashOffset;var l=this._lineDash;var h=this._ctx;var u=this._xi;var f=this._yi;var c;var v;var d;var p=$n;var g=0;var m=this._dashIdx;var y=l.length;var _;var x;var w=0;if(s<0){s=o+s}s%=o;for(c=0;c<1;c+=.1){v=p(u,t,r,n,c+.1)-p(u,t,r,n,c);d=p(f,e,i,a,c+.1)-p(f,e,i,a,c);g+=Pa(v*v+d*d)}for(;m<y;m++){w+=l[m];if(w>s){break}}c=(w-s)/g;while(c<=1){_=p(u,t,r,n,c);x=p(f,e,i,a,c);m%2?h.moveTo(_,x):h.lineTo(_,x);c+=l[m]/g;m=(m+1)%y}m%2!==0&&h.lineTo(n,a);v=n-_;d=a-x;this._dashOffset=-Pa(v*v+d*d)},_dashedQuadraticTo:function(t,e,r,i){var n=r;var a=i;r=(r+2*t)/3;i=(i+2*e)/3;t=(this._xi+2*t)/3;e=(this._yi+2*e)/3;this._dashedBezierTo(t,e,r,i,n,a)},toStatic:function(){var t=this.data;if(t instanceof Array){t.length=this._len;if(Oa){this.data=new Float32Array(t)}}},getBoundingRect:function(){Sa[0]=Sa[1]=Ta[0]=Ta[1]=Number.MAX_VALUE;Ma[0]=Ma[1]=Ca[0]=Ca[1]=-Number.MAX_VALUE;var t=this.data;var e=0;var r=0;var i=0;var n=0;for(var a=0;a<t.length;){var o=t[a++];if(a==1){e=t[a];r=t[a+1];i=e;n=r}switch(o){case ba.M:i=t[a++];n=t[a++];e=i;r=n;Ta[0]=i;Ta[1]=n;Ca[0]=i;Ca[1]=n;break;case ba.L:ga(e,r,t[a],t[a+1],Ta,Ca);e=t[a++];r=t[a++];break;case ba.C:_a(e,r,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],Ta,Ca);e=t[a++];r=t[a++];break;case ba.Q:xa(e,r,t[a++],t[a++],t[a],t[a+1],Ta,Ca);e=t[a++];r=t[a++];break;case ba.A:var s=t[a++];var l=t[a++];var h=t[a++];var u=t[a++];var f=t[a++];var c=t[a++]+f;var v=t[a++];var d=1-t[a++];if(a==1){i=Aa(f)*h+s;n=La(f)*u+l}wa(s,l,h,u,f,c,d,Ta,Ca);e=Aa(c)*h+s;r=La(c)*u+l;break;case ba.R:i=e=t[a++];n=r=t[a++];var p=t[a++];var g=t[a++];ga(i,n,i+p,n+g,Ta,Ca);break;case ba.Z:e=i;r=n;break}yt(Sa,Sa,Ta);_t(Ma,Ma,Ca)}if(a===0){Sa[0]=Sa[1]=Ma[0]=Ma[1]=0}return new Ne(Sa[0],Sa[1],Ma[0]-Sa[0],Ma[1]-Sa[1])},rebuildPath:function(t){var e=this.data;var r,i;var n,a;var o,s;var l=this._ux;var h=this._uy;var u=this._len;for(var f=0;f<u;){var c=e[f++];if(f==1){n=e[f];a=e[f+1];r=n;i=a}switch(c){case ba.M:r=n=e[f++];i=a=e[f++];t.moveTo(n,a);break;case ba.L:o=e[f++];s=e[f++];if(Da(o-n)>l||Da(s-a)>h||f===u-1){t.lineTo(o,s);n=o;a=s}break;case ba.C:t.bezierCurveTo(e[f++],e[f++],e[f++],e[f++],e[f++],e[f++]);n=e[f-2];a=e[f-1];break;case ba.Q:t.quadraticCurveTo(e[f++],e[f++],e[f++],e[f++]);n=e[f-2];a=e[f-1];break;case ba.A:var v=e[f++];var d=e[f++];var p=e[f++];var g=e[f++];var m=e[f++];var y=e[f++];var _=e[f++];var x=e[f++];var w=p>g?p:g;var b=p>g?1:p/g;var S=p>g?g/p:1;var M=Math.abs(p-g)>.001;var T=m+y;if(M){t.translate(v,d);t.rotate(_);t.scale(b,S);t.arc(0,0,w,m,T,1-x);t.scale(1/b,1/S);t.rotate(-_);t.translate(-v,-d)}else{t.arc(v,d,w,m,T,1-x)}if(f==1){r=Aa(m)*p+v;i=La(m)*g+d}n=Aa(T)*p+v;a=La(T)*g+d;break;case ba.R:r=n=e[f];i=a=e[f+1];t.rect(e[f++],e[f++],e[f++],e[f++]);break;case ba.Z:t.closePath();n=r;a=i}}}};za.CMD=ba;function Ba(t,e,r,i,n,a,o){if(n===0){return false}var s=n;var l=0;var h=t;if(o>e+s&&o>i+s||o<e-s&&o<i-s||a>t+s&&a>r+s||a<t-s&&a<r-s){return false}if(t!==r){l=(e-i)/(t-r);h=(t*i-r*e)/(t-r)}else{return Math.abs(a-t)<=s/2}var u=l*a-o+h;var f=u*u/(l*l+1);return f<=s/2*s/2}function Ea(t,e,r,i,n,a,o,s,l,h,u){if(l===0){return false}var f=l;if(u>e+f&&u>i+f&&u>a+f&&u>s+f||u<e-f&&u<i-f&&u<a-f&&u<s-f||h>t+f&&h>r+f&&h>n+f&&h>o+f||h<t-f&&h<r-f&&h<n-f&&h<o-f){return false}var c=ea(t,e,r,i,n,a,o,s,h,u,null);return c<=f/2}function Ra(t,e,r,i,n,a,o,s,l){if(o===0){return false}var h=o;if(l>e+h&&l>i+h&&l>a+h||l<e-h&&l<i-h&&l<a-h||s>t+h&&s>r+h&&s>n+h||s<t-h&&s<r-h&&s<n-h){return false}var u=sa(t,e,r,i,n,a,s,l,null);return u<=h/2}var Na=Math.PI*2;function Fa(t){t%=Na;if(t<0){t+=Na}return t}var Wa=Math.PI*2;function Ha(t,e,r,i,n,a,o,s,l){if(o===0){return false}var h=o;s-=t;l-=e;var u=Math.sqrt(s*s+l*l);if(u-h>r||u+h<r){return false}if(Math.abs(i-n)%Wa<1e-4){return true}if(a){var f=i;i=Fa(n);n=Fa(f)}else{i=Fa(i);n=Fa(n)}if(i>n){n+=Wa}var c=Math.atan2(l,s);if(c<0){c+=Wa}return c>=i&&c<=n||c+Wa>=i&&c+Wa<=n}function Ga(t,e,r,i,n,a){if(a>e&&a>i||a<e&&a<i){return 0}if(i===e){return 0}var o=i<e?1:-1;var s=(a-e)/(i-e);if(s===1||s===0){o=i<e?.5:-.5}var l=s*(r-t)+t;return l>n?o:0}var Va=za.CMD;var qa=Math.PI*2;var Xa=1e-4;function Za(t,e){return Math.abs(t-e)<Xa}var Ya=[-1,-1,-1];var Ua=[-1,-1];function ja(){var t=Ua[0];Ua[0]=Ua[1];Ua[1]=t}function $a(t,e,r,i,n,a,o,s,l,h){if(h>e&&h>i&&h>a&&h>s||h<e&&h<i&&h<a&&h<s){return 0}var u=Kn(e,i,a,s,h,Ya);if(u===0){return 0}else{var f=0;var c=-1;var v,d;for(var p=0;p<u;p++){var g=Ya[p];var m=g===0||g===1?.5:1;var y=$n(t,r,n,o,g);if(y<l){continue}if(c<0){c=Jn(e,i,a,s,Ua);if(Ua[1]<Ua[0]&&c>1){ja()}v=$n(e,i,a,s,Ua[0]);if(c>1){d=$n(e,i,a,s,Ua[1])}}if(c==2){if(g<Ua[0]){f+=v<e?m:-m}else if(g<Ua[1]){f+=d<v?m:-m}else{f+=s<d?m:-m}}else{if(g<Ua[0]){f+=v<e?m:-m}else{f+=s<v?m:-m}}}return f}}function Qa(t,e,r,i,n,a,o,s){if(s>e&&s>i&&s>a||s<e&&s<i&&s<a){return 0}var l=na(e,i,a,s,Ya);if(l===0){return 0}else{var h=aa(e,i,a);if(h>=0&&h<=1){var u=0;var f=ra(e,i,a,h);for(var c=0;c<l;c++){var v=Ya[c]===0||Ya[c]===1?.5:1;var d=ra(t,r,n,Ya[c]);if(d<o){continue}if(Ya[c]<h){u+=f<e?v:-v}else{u+=a<f?v:-v}}return u}else{var v=Ya[0]===0||Ya[0]===1?.5:1;var d=ra(t,r,n,Ya[0]);if(d<o){return 0}return a<e?v:-v}}}function Ka(t,e,r,i,n,a,o,s){s-=e;if(s>r||s<-r){return 0}var l=Math.sqrt(r*r-s*s);Ya[0]=-l;Ya[1]=l;var h=Math.abs(i-n);if(h<1e-4){return 0}if(h%qa<1e-4){i=0;n=qa;var u=a?1:-1;if(o>=Ya[0]+t&&o<=Ya[1]+t){return u}else{return 0}}if(a){var l=i;i=Fa(n);n=Fa(l)}else{i=Fa(i);n=Fa(n)}if(i>n){n+=qa}var f=0;for(var c=0;c<2;c++){var v=Ya[c];if(v+t>o){var d=Math.atan2(s,v);var u=a?1:-1;if(d<0){d=qa+d}if(d>=i&&d<=n||d+qa>=i&&d+qa<=n){if(d>Math.PI/2&&d<Math.PI*1.5){u=-u}f+=u}}}return f}function Ja(t,e,r,i,n){var a=0;var o=0;var s=0;var l=0;var h=0;for(var u=0;u<t.length;){var f=t[u++];if(f===Va.M&&u>1){if(!r){a+=Ga(o,s,l,h,i,n)}}if(u==1){o=t[u];s=t[u+1];l=o;h=s}switch(f){case Va.M:l=t[u++];h=t[u++];o=l;s=h;break;case Va.L:if(r){if(Ba(o,s,t[u],t[u+1],e,i,n)){return true}}else{a+=Ga(o,s,t[u],t[u+1],i,n)||0}o=t[u++];s=t[u++];break;case Va.C:if(r){if(Ea(o,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,i,n)){return true}}else{a+=$a(o,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],i,n)||0}o=t[u++];s=t[u++];break;case Va.Q:if(r){if(Ra(o,s,t[u++],t[u++],t[u],t[u+1],e,i,n)){return true}}else{a+=Qa(o,s,t[u++],t[u++],t[u],t[u+1],i,n)||0}o=t[u++];s=t[u++];break;case Va.A:var c=t[u++];var v=t[u++];var d=t[u++];var p=t[u++];var g=t[u++];var m=t[u++];var y=t[u++];var _=1-t[u++];var x=Math.cos(g)*d+c;var w=Math.sin(g)*p+v;if(u>1){a+=Ga(o,s,x,w,i,n)}else{l=x;h=w}var b=(i-c)*p/d+c;if(r){if(Ha(c,v,p,g,g+m,_,e,b,n)){return true}}else{a+=Ka(c,v,p,g,g+m,_,b,n)}o=Math.cos(g+m)*d+c;s=Math.sin(g+m)*p+v;break;case Va.R:l=o=t[u++];h=s=t[u++];var S=t[u++];var M=t[u++];var x=l+S;var w=h+M;if(r){if(Ba(l,h,x,h,e,i,n)||Ba(x,h,x,w,e,i,n)||Ba(x,w,l,w,e,i,n)||Ba(l,w,l,h,e,i,n)){return true}}else{a+=Ga(x,h,x,w,i,n);a+=Ga(l,w,l,h,i,n)}break;case Va.Z:if(r){if(Ba(o,s,l,h,e,i,n)){return true}}else{a+=Ga(o,s,l,h,i,n)}o=l;s=h;break}}if(!r&&!Za(s,h)){a+=Ga(o,s,l,h,i,n)||0}return a!==0}function to(t,e,r){return Ja(t,0,false,e,r)}function eo(t,e,r,i){return Ja(t,e,true,r,i)}var ro=ar.prototype.getCanvasPattern;var io=Math.abs;var no=new za(true);function ao(t){si.call(this,t);this.path=null}ao.prototype={constructor:ao,type:"path",__dirtyPath:true,strokeContainThreshold:5,brush:function(t,e){var r=this.style;var i=this.path||no;var n=r.hasStroke();var a=r.hasFill();var o=r.fill;var s=r.stroke;var l=a&&!!o.colorStops;var h=n&&!!s.colorStops;var u=a&&!!o.image;var f=n&&!!s.image;r.bind(t,this,e);this.setTransform(t);if(this.__dirty){var c;if(l){c=c||this.getBoundingRect();this._fillGradient=r.getGradient(t,o,c)}if(h){c=c||this.getBoundingRect();this._strokeGradient=r.getGradient(t,s,c)}}if(l){t.fillStyle=this._fillGradient}else if(u){t.fillStyle=ro.call(o,t)}if(h){t.strokeStyle=this._strokeGradient}else if(f){t.strokeStyle=ro.call(s,t)}var v=r.lineDash;var d=r.lineDashOffset;var p=!!t.setLineDash;var g=this.getGlobalScale();i.setScale(g[0],g[1]);if(this.__dirtyPath||v&&!p&&n){i.beginPath(t);if(v&&!p){i.setLineDash(v);i.setLineDashOffset(d)}this.buildPath(i,this.shape,false);if(this.path){this.__dirtyPath=false}}else{t.beginPath();this.path.rebuildPath(t)}a&&i.fill(t);if(v&&p){t.setLineDash(v);t.lineDashOffset=d}n&&i.stroke(t);if(v&&p){t.setLineDash([])}this.restoreTransform(t);if(r.text!=null){this.drawRectText(t,this.getBoundingRect())}},buildPath:function(t,e,r){},createPathProxy:function(){this.path=new za},getBoundingRect:function(){var t=this._rect;var e=this.style;var r=!t;if(r){var i=this.path;if(!i){i=this.path=new za}if(this.__dirtyPath){i.beginPath();this.buildPath(i,this.shape,false)}t=i.getBoundingRect()}this._rect=t;if(e.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){n.copy(t);var a=e.lineWidth;var o=e.strokeNoScale?this.getLineScale():1;if(!e.hasFill()){a=Math.max(a,this.strokeContainThreshold||4)}if(o>1e-10){n.width+=a/o;n.height+=a/o;n.x-=a/o/2;n.y-=a/o/2}}return n}return t},contain:function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();var n=this.style;t=r[0];e=r[1];if(i.contain(t,e)){var a=this.path.data;if(n.hasStroke()){var o=n.lineWidth;var s=n.strokeNoScale?this.getLineScale():1;if(s>1e-10){if(!n.hasFill()){o=Math.max(o,this.strokeContainThreshold)}if(eo(a,o/s,t,e)){return true}}}if(n.hasFill()){return to(a,t,e)}}return false},dirty:function(t){if(t==null){t=true}if(t){this.__dirtyPath=t;this._rect=null}this.__dirty=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){if(t==="shape"){this.setShape(e);this.__dirtyPath=true;this._rect=null}else{si.prototype.attrKV.call(this,t,e)}},setShape:function(t,e){var r=this.shape;if(r){if(N(t)){for(var i in t){if(t.hasOwnProperty(i)){r[i]=t[i]}}}else{r[t]=e}this.dirty(true)}return this},getLineScale:function(){var t=this.transform;return t&&io(t[0]-1)>1e-10&&io(t[3]-1)>1e-10?Math.sqrt(io(t[0]*t[3]-t[2]*t[1])):1}};ao.extend=function(t){var e=function(e){ao.call(this,e);if(t.style){this.style.extendFrom(t.style,false)}var r=t.shape;if(r){this.shape=this.shape||{};var i=this.shape;for(var n in r){if(!i.hasOwnProperty(n)&&r.hasOwnProperty(n)){i[n]=r[n]}}}t.init&&t.init.call(this,e)};C(e,ao);for(var r in t){if(r!=="style"&&r!=="shape"){e.prototype[r]=t[r]}}return e};C(ao,si);var oo=za.CMD;var so=[[],[],[]];var lo=Math.sqrt;var ho=Math.atan2;var uo=function(t,e){var r=t.data;var i;var n;var a;var o;var s;var l;var h=oo.M;var u=oo.C;var f=oo.L;var c=oo.R;var v=oo.A;var d=oo.Q;for(a=0,o=0;a<r.length;){i=r[a++];o=a;n=0;switch(i){case h:n=1;break;case f:n=1;break;case u:n=3;break;case d:n=2;break;case v:var p=e[4];var g=e[5];var m=lo(e[0]*e[0]+e[1]*e[1]);var y=lo(e[2]*e[2]+e[3]*e[3]);var _=ho(-e[1]/y,e[0]/m);r[a]*=m;r[a++]+=p;r[a]*=y;r[a++]+=g;r[a++]*=m;r[a++]*=y;r[a++]+=_;r[a++]+=_;a+=2;o=a;break;case c:l[0]=r[a++];l[1]=r[a++];mt(l,l,e);r[o++]=l[0];r[o++]=l[1];l[0]+=r[a++];l[1]+=r[a++];mt(l,l,e);r[o++]=l[0];r[o++]=l[1]}for(s=0;s<n;s++){var l=so[s];l[0]=r[a++];l[1]=r[a++];mt(l,l,e);r[o++]=l[0];r[o++]=l[1]}}};var fo=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];var co=Math.sqrt;var vo=Math.sin;var po=Math.cos;var go=Math.PI;var mo=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])};var yo=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(mo(t)*mo(e))};var _o=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(yo(t,e))};function xo(t,e,r,i,n,a,o,s,l,h,u){var f=l*(go/180);var c=po(f)*(t-r)/2+vo(f)*(e-i)/2;var v=-1*vo(f)*(t-r)/2+po(f)*(e-i)/2;var d=c*c/(o*o)+v*v/(s*s);if(d>1){o*=co(d);s*=co(d)}var p=(n===a?-1:1)*co((o*o*(s*s)-o*o*(v*v)-s*s*(c*c))/(o*o*(v*v)+s*s*(c*c)))||0;var g=p*o*v/s;var m=p*-s*c/o;var y=(t+r)/2+po(f)*g-vo(f)*m;var _=(e+i)/2+vo(f)*g+po(f)*m;var x=_o([1,0],[(c-g)/o,(v-m)/s]);var w=[(c-g)/o,(v-m)/s];var b=[(-1*c-g)/o,(-1*v-m)/s];var S=_o(w,b);if(yo(w,b)<=-1){S=go}if(yo(w,b)>=1){S=0}if(a===0&&S>0){S=S-2*go}if(a===1&&S<0){S=S+2*go}u.addData(h,y,_,o,s,x,S,f,a)}function wo(t){if(!t){return[]}var e=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");var r;for(r=0;r<fo.length;r++){e=e.replace(new RegExp(fo[r],"g"),"|"+fo[r])}var i=e.split("|");var n=0;var a=0;var o=new za;var s=za.CMD;var l;for(r=1;r<i.length;r++){var h=i[r];var u=h.charAt(0);var f=0;var c=h.slice(1).replace(/e,-/g,"e-").split(",");var v;if(c.length>0&&c[0]===""){c.shift()}for(var d=0;d<c.length;d++){c[d]=parseFloat(c[d])}while(f<c.length&&!isNaN(c[f])){if(isNaN(c[0])){break}var p;var g;var m;var y;var _;var x;var w;var b=n;var S=a;switch(u){case"l":n+=c[f++];a+=c[f++];v=s.L;o.addData(v,n,a);break;case"L":n=c[f++];a=c[f++];v=s.L;o.addData(v,n,a);break;case"m":n+=c[f++];a+=c[f++];v=s.M;o.addData(v,n,a);u="l";break;case"M":n=c[f++];a=c[f++];v=s.M;o.addData(v,n,a);u="L";break;case"h":n+=c[f++];v=s.L;o.addData(v,n,a);break;case"H":n=c[f++];v=s.L;o.addData(v,n,a);break;case"v":a+=c[f++];v=s.L;o.addData(v,n,a);break;case"V":a=c[f++];v=s.L;o.addData(v,n,a);break;case"C":v=s.C;o.addData(v,c[f++],c[f++],c[f++],c[f++],c[f++],c[f++]);n=c[f-2];a=c[f-1];break;case"c":v=s.C;o.addData(v,c[f++]+n,c[f++]+a,c[f++]+n,c[f++]+a,c[f++]+n,c[f++]+a);n+=c[f-2];a+=c[f-1];break;case"S":p=n;g=a;var M=o.len();var T=o.data;if(l===s.C){p+=n-T[M-4];g+=a-T[M-3]}v=s.C;b=c[f++];S=c[f++];n=c[f++];a=c[f++];o.addData(v,p,g,b,S,n,a);break;case"s":p=n;g=a;var M=o.len();var T=o.data;if(l===s.C){p+=n-T[M-4];g+=a-T[M-3]}v=s.C;b=n+c[f++];S=a+c[f++];n+=c[f++];a+=c[f++];o.addData(v,p,g,b,S,n,a);break;case"Q":b=c[f++];S=c[f++];n=c[f++];a=c[f++];v=s.Q;o.addData(v,b,S,n,a);break;case"q":b=c[f++]+n;S=c[f++]+a;n+=c[f++];a+=c[f++];v=s.Q;o.addData(v,b,S,n,a);break;case"T":p=n;g=a;var M=o.len();var T=o.data;if(l===s.Q){p+=n-T[M-4];g+=a-T[M-3]}n=c[f++];a=c[f++];v=s.Q;o.addData(v,p,g,n,a);break;case"t":p=n;g=a;var M=o.len();var T=o.data;if(l===s.Q){p+=n-T[M-4];g+=a-T[M-3]}n+=c[f++];a+=c[f++];v=s.Q;o.addData(v,p,g,n,a);break;case"A":m=c[f++];y=c[f++];_=c[f++];x=c[f++];w=c[f++];b=n,S=a;n=c[f++];a=c[f++];v=s.A;xo(b,S,n,a,x,w,m,y,_,v,o);break;case"a":m=c[f++];y=c[f++];_=c[f++];x=c[f++];w=c[f++];b=n,S=a;n+=c[f++];a+=c[f++];v=s.A;xo(b,S,n,a,x,w,m,y,_,v,o);break}}if(u==="z"||u==="Z"){v=s.Z;o.addData(v)}l=v}o.toStatic();return o}function bo(t,e){var r=wo(t);e=e||{};e.buildPath=function(t){if(t.setData){t.setData(r.data);var e=t.getContext();if(e){t.rebuildPath(e)}}else{var e=t;r.rebuildPath(e)}};e.applyTransform=function(t){uo(r,t);this.dirty(true)};return e}function So(t,e){return new ao(bo(t,e))}function Mo(t,e){return ao.extend(bo(t,e))}function To(t,e){var r=[];var i=t.length;for(var n=0;n<i;n++){var a=t[n];if(!a.path){a.createPathProxy()}if(a.__dirtyPath){a.buildPath(a.path,a.shape,true)}r.push(a.path)}var o=new ao(e);o.createPathProxy();o.buildPath=function(t){t.appendPath(r);var e=t.getContext();if(e){t.rebuildPath(e)}};return o}var Co=function(t){si.call(this,t)};Co.prototype={constructor:Co,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&Hr(r,true);r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var i=r.text;i!=null&&(i+="");r.bind(t,this,e);if(!ni(i,r)){return}this.setTransform(t);Vr(this,t,i,r);this.restoreTransform(t)},getBoundingRect:function(){var t=this.style;this.__dirty&&Hr(t,true);if(!this._rect){var e=t.text;e!=null?e+="":e="";var r=br(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);r.x+=t.x||0;r.y+=t.y||0;if(ti(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;r.x-=i/2;r.y-=i/2;r.width+=i;r.height+=i}this._rect=r}return this._rect}};C(Co,si);var ko=ao.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,r){if(r){t.moveTo(e.cx+e.r,e.cy)}t.arc(e.cx,e.cy,e.r,0,Math.PI*2,true)}});var Io=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var Ao=function(t){return n.browser.ie&&n.browser.version>=11?function(){var e=this.__clipPaths;var r=this.style;var i;if(e){for(var n=0;n<e.length;n++){var a=e[n];var o=a&&a.shape;var s=a&&a.type;if(o&&(s==="sector"&&o.startAngle===o.endAngle||s==="rect"&&(!o.width||!o.height))){for(var l=0;l<Io.length;l++){Io[l][2]=r[Io[l][0]];r[Io[l][0]]=Io[l][1]}i=true;break}}}t.apply(this,arguments);if(i){for(var l=0;l<Io.length;l++){r[Io[l][0]]=Io[l][2]}}}:t};var Lo=ao.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:Ao(ao.prototype.brush),buildPath:function(t,e){var r=e.cx;var i=e.cy;var n=Math.max(e.r0||0,0);var a=Math.max(e.r,0);var o=e.startAngle;var s=e.endAngle;var l=e.clockwise;var h=Math.cos(o);var u=Math.sin(o);t.moveTo(h*n+r,u*n+i);t.lineTo(h*a+r,u*a+i);t.arc(r,i,a,o,s,!l);t.lineTo(Math.cos(s)*n+r,Math.sin(s)*n+i);if(n!==0){t.arc(r,i,n,s,o,l)}t.closePath()}});var Po=ao.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var n=Math.PI*2;t.moveTo(r+e.r,i);t.arc(r,i,e.r,0,n,false);t.moveTo(r+e.r0,i);t.arc(r,i,e.r0,0,n,true)}});function Do(t,e,r,i,n,a,o){var s=(r-t)*.5;var l=(i-e)*.5;return(2*(e-r)+s+l)*o+(-3*(e-r)-2*s-l)*a+s*n+e}var Oo=function(t,e){var r=t.length;var i=[];var n=0;for(var a=1;a<r;a++){n+=vt(t[a-1],t[a])}var o=n/2;o=o<r?r:o;for(var a=0;a<o;a++){var s=a/(o-1)*(e?r:r-1);var l=Math.floor(s);var h=s-l;var u;var f=t[l%r];var c;var v;if(!e){u=t[l===0?l:l-1];c=t[l>r-2?r-1:l+1];v=t[l>r-3?r-1:l+2]}else{u=t[(l-1+r)%r];c=t[(l+1)%r];v=t[(l+2)%r]}var d=h*h;var p=h*d;i.push([Do(u[0],f[0],c[0],v[0],h,d,p),Do(u[1],f[1],c[1],v[1],h,d,p)])}return i};var zo=function(t,e,r,i){var n=[];var a=[];var o=[];var s=[];var l;var h;var u,f;if(i){u=[Infinity,Infinity];f=[-Infinity,-Infinity];for(var c=0,v=t.length;c<v;c++){yt(u,u,t[c]);_t(f,f,t[c])}yt(u,u,i[0]);_t(f,f,i[1])}for(var c=0,v=t.length;c<v;c++){var d=t[c];if(r){l=t[c?c-1:v-1];h=t[(c+1)%v]}else{if(c===0||c===v-1){n.push(at(t[c]));continue}else{l=t[c-1];h=t[c+1]}}lt(a,h,l);ft(a,a,e);var p=vt(d,l);var g=vt(d,h);var m=p+g;if(m!==0){p/=m;g/=m}ft(o,a,-p);ft(s,a,g);var y=ot([],d,o);var _=ot([],d,s);if(i){_t(y,y,u);yt(y,y,f);_t(_,_,u);yt(_,_,f)}n.push(y);n.push(_)}if(r){n.push(n.shift())}return n};function Bo(t,e,r){var i=e.points;var n=e.smooth;if(i&&i.length>=2){if(n&&n!=="spline"){var a=zo(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);var o=i.length;for(var s=0;s<(r?o:o-1);s++){var l=a[s*2];var h=a[s*2+1];var u=i[(s+1)%o];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{if(n==="spline"){i=Oo(i,r)}t.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++){t.lineTo(i[s][0],i[s][1])}}r&&t.closePath()}}var Eo=ao.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(t,e){Bo(t,e,true)}});var Ro=ao.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Bo(t,e,false)}});var No=ao.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x;var i=e.y;var n=e.width;var a=e.height;if(!e.r){t.rect(r,i,n,a)}else{Nr(t,e)}t.closePath();return}});var Fo=ao.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1;var i=e.y1;var n=e.x2;var a=e.y2;var o=e.percent;if(o===0){return}t.moveTo(r-4,i);t.lineTo(r-4,i+3);t.lineTo(r,i);t.lineTo(r-4,i-3);t.lineTo(r-4,i);if(o<1){n=r*(1-o)+n*o;a=i*(1-o)+a*o}t.lineTo(n,a)},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});var Wo=[];function Ho(t,e,r){var i=t.cpx2;var n=t.cpy2;if(i===null||n===null){return[(r?Qn:$n)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?Qn:$n)(t.y1,t.cpy1,t.cpy2,t.y2,e)]}else{return[(r?ia:ra)(t.x1,t.cpx1,t.x2,e),(r?ia:ra)(t.y1,t.cpy1,t.y2,e)]}}var Go=ao.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1;var i=e.y1;var n=e.x2;var a=e.y2;var o=e.cpx1;var s=e.cpy1;var l=e.cpx2;var h=e.cpy2;var u=e.percent;if(u===0){return}t.moveTo(r,i);if(l==null||h==null){if(u<1){oa(r,o,n,u,Wo);o=Wo[1];n=Wo[2];oa(i,s,a,u,Wo);s=Wo[1];a=Wo[2]}t.quadraticCurveTo(o,s,n,a)}else{if(u<1){ta(r,o,l,n,u,Wo);o=Wo[1];l=Wo[2];n=Wo[3];ta(i,s,h,a,u,Wo);s=Wo[1];h=Wo[2];a=Wo[3]}t.bezierCurveTo(o,s,l,h,n,a)}},pointAt:function(t){return Ho(this.shape,t,false)},tangentAt:function(t){var e=Ho(this.shape,t,true);return ct(e,e)}});var Vo=ao.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.cx;var i=e.cy;var n=Math.max(e.r,0);var a=e.startAngle;var o=e.endAngle;var s=e.clockwise;var l=Math.cos(a);var h=Math.sin(a);t.moveTo(l*n+r,h*n+i);t.arc(r,i,n,a,o,!s)}});var qo=ao.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var t=this.__dirtyPath;var e=this.shape.paths;for(var r=0;r<e.length;r++){t=t||e[r].__dirtyPath}this.__dirtyPath=t;this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();var t=this.shape.paths||[];var e=this.getGlobalScale();for(var r=0;r<t.length;r++){if(!t[r].path){t[r].createPathProxy()}t[r].path.setScale(e[0],e[1])}},buildPath:function(t,e){var r=e.paths||[];for(var i=0;i<r.length;i++){r[i].buildPath(t,r[i].shape,true)}},afterBrush:function(){var t=this.shape.paths||[];for(var e=0;e<t.length;e++){t[e].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return ao.prototype.getBoundingRect.call(this)}});var Xo=function(t){this.colorStops=t||[]};Xo.prototype={constructor:Xo,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Zo=function(t,e,r,i,n,a){this.x=t==null?0:t;this.y=e==null?0:e;this.x2=r==null?1:r;this.y2=i==null?0:i;this.type="linear";this.global=a||false;Xo.call(this,n)};Zo.prototype={constructor:Zo};C(Zo,Xo);var Yo=function(t,e,r,i,n){this.x=t==null?.5:t;this.y=e==null?.5:e;this.r=r==null?.5:r;this.type="radial";this.global=n||false;Xo.call(this,i)};Yo.prototype={constructor:Yo};C(Yo,Xo);var Uo=Math.round;var jo=Math.max;var $o=Math.min;var Qo={};function Ko(t){return ao.extend(t)}function Jo(t,e){return Mo(t,e)}function ts(t,e,r,i){var n=So(t,e);var a=n.getBoundingRect();if(r){if(i==="center"){r=rs(r,a)}ns(n,r)}return n}function es(t,e,r){var i=new li({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(r==="center"){var n={width:t.width,height:t.height};i.setStyle(rs(e,n))}}});return i}function rs(t,e){var r=e.width/e.height;var i=t.height*r;var n;if(i<=t.width){n=t.height}else{i=t.width;n=i/r}var a=t.x+t.width/2;var o=t.y+t.height/2;return{x:a-i/2,y:o-n/2,width:i,height:n}}var is=To;function ns(t,e){if(!t.applyTransform){return}var r=t.getBoundingRect();var i=r.calculateTransform(e);t.applyTransform(i)}function as(t){var e=t.shape;var r=t.style.lineWidth;if(Uo(e.x1*2)===Uo(e.x2*2)){e.x1=e.x2=ss(e.x1,r,true)}if(Uo(e.y1*2)===Uo(e.y2*2)){e.y1=e.y2=ss(e.y1,r,true)}return t}function os(t){var e=t.shape;var r=t.style.lineWidth;var i=e.x;var n=e.y;var a=e.width;var o=e.height;e.x=ss(e.x,r,true);e.y=ss(e.y,r,true);e.width=Math.max(ss(i+a,r,false)-e.x,a===0?0:1);e.height=Math.max(ss(n+o,r,false)-e.y,o===0?0:1);return t}function ss(t,e,r){var i=Uo(t*2);return(i+Uo(e))%2===0?i/2:(i+(r?1:-1))/2}function ls(t){return t!=null&&t!="none"}function hs(t){return typeof t==="string"?fe(t,-.1):t}function us(t){if(t.__hoverStlDirty){var e=t.style.stroke;var r=t.style.fill;var i=t.__hoverStl;i.fill=i.fill||(ls(r)?hs(r):null);i.stroke=i.stroke||(ls(e)?hs(e):null);var n={};for(var a in i){if(i[a]!=null){n[a]=t.style[a]}}t.__normalStl=n;t.__hoverStlDirty=false}}function fs(t){if(t.__isHover){return}us(t);if(t.useHoverLayer){t.__zr&&t.__zr.addHover(t,t.__hoverStl)}else{var e=t.style;var r=e.insideRollbackOpt;r&&As(e);e.extendFrom(t.__hoverStl);if(r){Is(e,e.insideOriginalTextPosition,r);if(e.textFill==null){e.textFill=r.autoColor}}t.dirty(false);t.z2+=1}t.__isHover=true}function cs(t){if(!t.__isHover){return}var e=t.__normalStl;if(t.useHoverLayer){t.__zr&&t.__zr.removeHover(t)}else{e&&t.setStyle(e);t.z2-=1}t.__isHover=false}function vs(t){t.type==="group"?t.traverse(function(t){if(t.type!=="group"){fs(t)}}):fs(t)}function ds(t){t.type==="group"?t.traverse(function(t){if(t.type!=="group"){cs(t)}}):cs(t)}function ps(t,e){t.__hoverStl=t.hoverStyle||e||{};t.__hoverStlDirty=true;if(t.__isHover){us(t)}}function gs(t){if(this.__hoverSilentOnTouch&&t.zrByTouch){return}!this.__isEmphasis&&vs(this)}function ms(t){if(this.__hoverSilentOnTouch&&t.zrByTouch){return}!this.__isEmphasis&&ds(this)}function ys(){this.__isEmphasis=true;vs(this)}function _s(){this.__isEmphasis=false;ds(this)}function xs(t,e,r){t.__hoverSilentOnTouch=r&&r.hoverSilentOnTouch;t.type==="group"?t.traverse(function(t){if(t.type!=="group"){ps(t,e)}}):ps(t,e);t.on("mouseover",gs).on("mouseout",ms);t.on("emphasis",ys).on("normal",_s)}function ws(t,e,r,i,n,a,o){n=n||Qo;var s=n.labelFetcher;var l=n.labelDataIndex;var h=n.labelDimIndex;var u=r.getShallow("show");var f=i.getShallow("show");var c=u||f?V(s?s.getFormattedLabel(l,"normal",null,h):null,n.defaultText):null;var v=u?c:null;var d=f?V(s?s.getFormattedLabel(l,"emphasis",null,h):null,c):null;if(v!=null||d!=null){bs(t,r,a,n);bs(e,i,o,n,true)}t.text=v;e.text=d}function bs(t,e,r,i,n){Ms(t,e,i,n);r&&x(t,r);t.host&&t.host.dirty&&t.host.dirty(false);return t}function Ss(t,e,r){var i={isRectText:true};var n;if(r===false){n=true}else{i.autoColor=r}Ms(t,e,i,n);t.host&&t.host.dirty&&t.host.dirty(false)}function Ms(t,e,r,i){r=r||Qo;if(r.isRectText){var n=e.getShallow("position")||(i?null:"inside");n==="outside"&&(n="top");t.textPosition=n;t.textOffset=e.getShallow("offset");var a=e.getShallow("rotate");a!=null&&(a*=Math.PI/180);t.textRotation=a;t.textDistance=V(e.getShallow("distance"),i?null:5)}var o=e.ecModel;var s=o&&o.option.textStyle;var l=Ts(e);var h;if(l){h={};for(var u in l){if(l.hasOwnProperty(u)){var f=e.getModel(["rich",u]);Cs(h[u]={},f,s,r,i)}}}t.rich=h;Cs(t,e,s,r,i,true);if(r.forceRich&&!r.textStyle){r.textStyle={}}return t}function Ts(t){var e;while(t&&t!==t.ecModel){var r=(t.option||Qo).rich;if(r){e=e||{};for(var i in r){if(r.hasOwnProperty(i)){e[i]=1}}}t=t.parentModel}return e}function Cs(t,e,r,i,n,a){r=!n&&r||Qo;t.textFill=ks(e.getShallow("color"),i)||r.color;t.textStroke=ks(e.getShallow("textBorderColor"),i)||r.textBorderColor;t.textStrokeWidth=V(e.getShallow("textBorderWidth"),r.textBorderWidth);if(!n){if(a){var o=t.textPosition;t.insideRollback=Is(t,o,i);t.insideOriginalTextPosition=o;t.insideRollbackOpt=i}if(t.textFill==null){t.textFill=i.autoColor}}t.fontStyle=e.getShallow("fontStyle")||r.fontStyle;t.fontWeight=e.getShallow("fontWeight")||r.fontWeight;t.fontSize=e.getShallow("fontSize")||r.fontSize;t.fontFamily=e.getShallow("fontFamily")||r.fontFamily;t.textAlign=e.getShallow("align");t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline");t.textLineHeight=e.getShallow("lineHeight");t.textWidth=e.getShallow("width");t.textHeight=e.getShallow("height");t.textTag=e.getShallow("tag");if(!a||!i.disableBox){t.textBackgroundColor=ks(e.getShallow("backgroundColor"),i);t.textPadding=e.getShallow("padding");t.textBorderColor=ks(e.getShallow("borderColor"),i);t.textBorderWidth=e.getShallow("borderWidth");t.textBorderRadius=e.getShallow("borderRadius");t.textBoxShadowColor=e.getShallow("shadowColor");t.textBoxShadowBlur=e.getShallow("shadowBlur");t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX");t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")}t.textShadowColor=e.getShallow("textShadowColor")||r.textShadowColor;t.textShadowBlur=e.getShallow("textShadowBlur")||r.textShadowBlur;t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||r.textShadowOffsetX;t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function ks(t,e){return t!=="auto"?t:e&&e.autoColor?e.autoColor:null}function Is(t,e,r){var i=r.useInsideStyle;var n;if(t.textFill==null&&i!==false&&(i===true||r.isRectText&&e&&typeof e==="string"&&e.indexOf("inside")>=0)){n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth};t.textFill="#fff";if(t.textStroke==null){t.textStroke=r.autoColor;t.textStrokeWidth==null&&(t.textStrokeWidth=2)}}return n}function As(t){var e=t.insideRollback;if(e){t.textFill=e.textFill;t.textStroke=e.textStroke;t.textStrokeWidth=e.textStrokeWidth}}function Ls(t,e){var r=e||e.getModel("textStyle");return[t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" ")}function Ps(t,e,r,i,n,a){if(typeof n==="function"){a=n;n=null}var o=i&&i.isAnimationEnabled();if(o){var s=t?"Update":"";var l=i.getShallow("animationDuration"+s);var h=i.getShallow("animationEasing"+s);var u=i.getShallow("animationDelay"+s);if(typeof u==="function"){u=u(n,i.getAnimationDelayParams?i.getAnimationDelayParams(e,n):null)}if(typeof l==="function"){l=l(n)}l>0?e.animateTo(r,l,u||0,h,a,!!a):(e.stopAnimation(),e.attr(r),a&&a())}else{e.stopAnimation();e.attr(r);a&&a()}}function Ds(t,e,r,i,n){Ps(true,t,e,r,i,n)}function Os(t,e,r,i,n){Ps(false,t,e,r,i,n)}function zs(t,e){var r=Dt([]);while(t&&t!==e){zt(r,t.getLocalTransform(),r);t=t.parent}return r}function Bs(t,e,r){if(e&&!I(e)){e=Gt.getLocalTransform(e)}if(r){e=Nt([],e)}return mt([],t,e)}function Es(t,e,r){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]);var n=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]);var a=[t==="left"?-i:t==="right"?i:0,t==="top"?-n:t==="bottom"?n:0];a=Bs(a,e,r);return Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Rs(t,e,r,i){if(!t||!e){return}function n(t){var e={};t.traverse(function(t){if(!t.isGroup&&t.anid){e[t.anid]=t}});return e}function a(t){var e={position:at(t.position),rotation:t.rotation};if(t.shape){e.shape=x({},t.shape)}return e}var o=n(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var i=a(t);t.attr(a(e));Ds(t,i,r,t.dataIndex)}}})}function Ns(t,e){return L(t,function(t){var r=t[0];r=jo(r,e.x);r=$o(r,e.x+e.width);var i=t[1];i=jo(i,e.y);i=$o(i,e.y+e.height);return[r,i]})}function Fs(t,e){var r=jo(t.x,e.x);var i=$o(t.x+t.width,e.x+e.width);var n=jo(t.y,e.y);var a=$o(t.y+t.height,e.y+e.height);if(i>=r&&a>=n){return{x:r,y:n,width:i-r,height:a-n}}}function Ws(t,e,r){e=x({rectHover:true},e);var i=e.style={strokeNoScale:true};r=r||{x:-1,y:-1,width:2,height:2};if(t){return t.indexOf("image://")===0?(i.image=t.slice(8),w(i,r),new li(e)):ts(t.replace("path://",""),e,r,"center")}}var Hs=(Object.freeze||Object)({extendShape:Ko,extendPath:Jo,makePath:ts,makeImage:es,mergePath:is,resizePath:ns,subPixelOptimizeLine:as,subPixelOptimizeRect:os,subPixelOptimize:ss,setHoverStyle:xs,setLabelStyle:ws,setTextStyle:bs,setText:Ss,getFont:Ls,updateProps:Ds,initProps:Os,getTransform:zs,applyTransform:Bs,transformDirection:Es,groupTransition:Rs,clipPointsByRect:Ns,clipRectByRect:Fs,createIcon:Ws,Group:Fe,Image:li,Text:Co,Circle:ko,Sector:Lo,Ring:Po,Polygon:Eo,Polyline:Ro,Rect:No,Line:Fo,BezierCurve:Go,Arc:Vo,CompoundPath:qo,LinearGradient:Zo,RadialGradient:Yo,BoundingRect:Ne});var Gs=["textStyle","color"];var Vs={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Gs):null)},getFont:function(){return Ls({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return br(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};var qs=zn([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var Xs={getItemStyle:function(t,e){var r=qs(this,t,e);var i=this.getBorderLineDash();i&&(r.lineDash=i);return r},getBorderLineDash:function(){var t=this.get("borderType");return t==="solid"||t==null?null:t==="dashed"?[5,5]:[1,1]}};var Zs=k;function Ys(t,e,r){this.parentModel=e;this.ecModel=r;this.option=t}Ys.prototype={constructor:Ys,init:null,mergeOption:function(t){y(this.option,t,true)},get:function(t,e){if(t==null){return this.option}return Us(this.option,this.parsePath(t),!e&&js(this,t))},getShallow:function(t,e){var r=this.option;var i=r==null?r:r[t];var n=!e&&js(this,t);if(i==null&&n){i=n.getShallow(t)}return i},getModel:function(t,e){var r=t==null?this.option:Us(this.option,t=this.parsePath(t));var i;e=e||(i=js(this,t))&&i.getModel(t);return new Ys(r,e,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var t=this.constructor;return new t(m(this.option))},setReadOnly:function(t){},parsePath:function(t){if(typeof t==="string"){t=t.split(".")}return t},customizeGetParent:function(t){Tn(this,"getParent",t)},isAnimationEnabled:function(){if(!n.node){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}};function Us(t,e,r){for(var i=0;i<e.length;i++){if(!e[i]){continue}t=t&&typeof t==="object"?t[e[i]]:null;if(t==null){break}}if(t==null&&r){t=r.get(e)}return t}function js(t,e){var r=Cn(t,"getParent");return r?r.call(t,e):t.parentModel}Ln(Ys);Zs(Ys,En);Zs(Ys,Nn);Zs(Ys,Vs);Zs(Ys,Xs);var $s=A;var Qs=N;function Ks(t){return t instanceof Array?t:t==null?[]:[t]}function Js(t,e){if(t){var r=t.emphasis=t.emphasis||{};var i=t.normal=t.normal||{};for(var n=0,a=e.length;n<a;n++){var o=e[n];if(!r.hasOwnProperty(o)&&i.hasOwnProperty(o)){r[o]=i[o]}}}}var tl=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function el(t){return t&&(t.value==null?t:t.value)}function rl(t){return Qs(t)&&!(t instanceof Array)}function il(t,e){var r=e&&e.type;if(r==="ordinal"){return t}if(r==="time"&&typeof t!=="number"&&t!=null&&t!=="-"){t=+ln(t)}return t==null||t===""?NaN:+t}var nl={getDataParams:function(t,e){var r=this.getData(e);var i=this.getRawValue(t,e);var n=r.getRawIndex(t);var a=r.getName(t,true);var o=r.getRawDataItem(t);var s=r.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:a,dataIndex:n,data:o,dataType:e,value:i,color:s,marker:yn(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,r,i,n){e=e||"normal";var a=this.getData(r);var o=a.getItemModel(t);var s=this.getDataParams(t,r);if(i!=null&&s.value instanceof Array){s.value=s.value[i]}var l=o.get([n||"label",e,"formatter"]);if(typeof l==="function"){s.status=e;return l(s)}else if(typeof l==="string"){return mn(l,s)}},getRawValue:function(t,e){var r=this.getData(e);var i=r.getRawDataItem(t);if(i!=null){return Qs(i)&&!(i instanceof Array)?i.value:i}},formatTooltip:et};function al(t,e){e=(e||[]).slice();var r=L(t||[],function(t,e){return{exist:t}});$s(e,function(t,i){if(!Qs(t)){return}for(var n=0;n<r.length;n++){if(!r[n].option&&t.id!=null&&r[n].exist.id===t.id+""){r[n].option=t;e[i]=null;return}}for(var n=0;n<r.length;n++){var a=r[n].exist;if(!r[n].option&&(a.id==null||t.id==null)&&t.name!=null&&!sl(t)&&!sl(a)&&a.name===t.name+""){r[n].option=t;e[i]=null;return}}});$s(e,function(t,e){if(!Qs(t)){return}var i=0;for(;i<r.length;i++){var n=r[i].exist;if(!r[i].option&&!sl(n)&&t.id==null){r[i].option=t;break}}if(i>=r.length){r.push({option:t})}});return r}function ol(t){var e=tt();$s(t,function(t,r){var i=t.exist;i&&e.set(i.id,t)});$s(t,function(t,r){var i=t.option;Y(!i||i.id==null||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id));i&&i.id!=null&&e.set(i.id,t);!t.keyInfo&&(t.keyInfo={})});$s(t,function(t,r){var i=t.exist;var n=t.option;var a=t.keyInfo;if(!Qs(n)){return}a.name=n.name!=null?n.name+"":i?i.name:"\0-";if(i){a.id=i.id}else if(n.id!=null){a.id=n.id+""}else{var o=0;do{a.id="\0"+a.name+"\0"+o++}while(e.get(a.id))}e.set(a.id,t)})}function sl(t){return Qs(t)&&t.id&&(t.id+"").indexOf("\0_ec_\0")===0}function ll(t,e){if(e.dataIndexInside!=null){return e.dataIndexInside}else if(e.dataIndex!=null){return B(e.dataIndex)?L(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex)}else if(e.name!=null){return B(e.name)?L(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name)}}function hl(t,e,r){if(R(e)){var i={};i[e+"Index"]=0;e=i}var n=r&&r.defaultMainType;if(n&&!vl(e,n+"Index")&&!vl(e,n+"Id")&&!vl(e,n+"Name")){e[n+"Index"]=0}var a={};$s(e,function(i,n){var i=e[n];if(n==="dataIndex"||n==="dataIndexInside"){a[n]=i;return}var o=n.match(/^(\w+)(Index|Id|Name)$/)||[];var s=o[1];var l=(o[2]||"").toLowerCase();if(!s||!l||i==null||l==="index"&&i==="none"||r&&r.includeMainTypes&&T(r.includeMainTypes,s)<0){return}var h={mainType:s};if(l!=="index"||i!=="all"){h[l]=i}var u=t.queryComponents(h);a[s+"Models"]=u;a[s+"Model"]=u[0]});return a}function ul(t,e){var r=t.dimensions;e=t.getDimension(e);for(var i=0;i<r.length;i++){var n=t.getDimensionInfo(r[i]);if(n.name===e){return n.coordDim}}}function fl(t,e){var r=[];$s(t.dimensions,function(i){var n=t.getDimensionInfo(i);if(n.coordDim===e){r[n.coordDimIndex]=n.name}});return r}function cl(t,e){var r=[];$s(t.dimensions,function(i){var n=t.getDimensionInfo(i);var a=n.otherDims;var o=a[e];if(o!=null&&o!==false){r[o]=n.name}});return r}function vl(t,e){return t&&t.hasOwnProperty(e)}var dl=0;var pl="_";function gl(t){return[t||"",dl++,Math.random()].join(pl)}function ml(t){var e={};t.registerSubTypeDefaulter=function(t,r){t=In(t);e[t.main]=r};t.determineSubType=function(r,i){var n=i.type;if(!n){var a=In(r).main;if(t.hasSubTypes(r)&&e[a]){n=e[a](i)}}return n};return t}function yl(t,e){t.topologicalTravel=function(t,e,i,n){if(!t.length){return}var a=r(e);var o=a.graph;var s=a.noEntryList;var l={};A(t,function(t){l[t]=true});while(s.length){var h=s.pop();var u=o[h];var f=!!l[h];if(f){i.call(n,h,u.originalDeps.slice());delete l[h]}A(u.successor,f?v:c)}A(l,function(){throw new Error("Circle dependency may exists")});function c(t){o[t].entryCount--;if(o[t].entryCount===0){s.push(t)}}function v(t){l[t]=true;c(t)}};function r(t){var r={};var a=[];A(t,function(o){var s=i(r,o);var l=s.originalDeps=e(o);var h=n(l,t);s.entryCount=h.length;if(s.entryCount===0){a.push(o)}A(h,function(t){if(T(s.predecessor,t)<0){s.predecessor.push(t)}var e=i(r,t);if(T(e.successor,t)<0){e.successor.push(o)}})});return{graph:r,noEntryList:a}}function i(t,e){if(!t[e]){t[e]={predecessor:[],successor:[]}}return t[e]}function n(t,e){var r=[];A(t,function(t){T(e,t)>=0&&r.push(t)});return r}}var _l=A;var xl=["left","right","top","bottom","width","height"];var wl=[["width","left","right"],["height","top","bottom"]];function bl(t,e,r,i,n){var a=0;var o=0;if(i==null){i=Infinity}if(n==null){n=Infinity}var s=0;e.eachChild(function(l,h){var u=l.position;var f=l.getBoundingRect();var c=e.childAt(h+1);var v=c&&c.getBoundingRect();var d;var p;if(t==="horizontal"){var g=f.width+(v?-v.x+f.x:0);d=a+g;if(d>i||l.newline){a=0;d=g;o+=s+r;s=f.height}else{s=Math.max(s,f.height)}}else{var m=f.height+(v?-v.y+f.y:0);p=o+m;if(p>n||l.newline){a+=s+r;o=0;p=m;s=f.width}else{s=Math.max(s,f.width)}}if(l.newline){return}u[0]=a;u[1]=o;t==="horizontal"?a=d+r:o=p+r})}var Sl=z(bl,"vertical");var Ml=z(bl,"horizontal");function Tl(t,e,r){r=vn(r||0);var i=e.width;var n=e.height;var a=tn(t.left,i);var o=tn(t.top,n);var s=tn(t.right,i);var l=tn(t.bottom,n);var h=tn(t.width,i);var u=tn(t.height,n);var f=r[2]+r[0];var c=r[1]+r[3];var v=t.aspect;if(isNaN(h)){h=i-s-c-a}if(isNaN(u)){u=n-l-f-o}if(v!=null){if(isNaN(h)&&isNaN(u)){if(v>i/n){h=i*.8}else{u=n*.8}}if(isNaN(h)){h=v*u}if(isNaN(u)){u=h/v}}if(isNaN(a)){a=i-s-h-c}if(isNaN(o)){o=n-l-u-f}switch(t.left||t.right){case"center":a=i/2-h/2-r[3];break;case"right":a=i-h-c;break}switch(t.top||t.bottom){case"middle":case"center":o=n/2-u/2-r[0];break;case"bottom":o=n-u-f;break}a=a||0;o=o||0;if(isNaN(h)){h=i-c-a-(s||0)}if(isNaN(u)){u=n-f-o-(l||0)}var d=new Ne(a+r[3],o+r[0],h,u);d.margin=r;return d}function Cl(t,e,r){!N(r)&&(r={});var i=r.ignoreSize;!B(i)&&(i=[i,i]);var n=o(wl[0],0);var a=o(wl[1],1);h(wl[0],t,n);h(wl[1],t,a);function o(r,n){var a={};var o=0;var h={};var u=0;var f=2;_l(r,function(e){h[e]=t[e]});_l(r,function(t){s(e,t)&&(a[t]=h[t]=e[t]);l(a,t)&&o++;l(h,t)&&u++});if(i[n]){if(l(e,r[1])){h[r[2]]=null}else if(l(e,r[2])){h[r[1]]=null}return h}if(u===f||!o){return h}else if(o>=f){return a}else{for(var c=0;c<r.length;c++){var v=r[c];if(!s(a,v)&&s(t,v)){a[v]=t[v];break}}return a}}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return t[e]!=null&&t[e]!=="auto"}function h(t,e,r){_l(t,function(t){e[t]=r[t]})}}function kl(t){return Il({},t)}function Il(t,e){e&&t&&_l(xl,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])});return t}var Al={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var Ll=Array.prototype.push;var Pl=Ys.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,r,i){Ys.call(this,t,e,r,i);this.uid=gl("componentModel")},init:function(t,e,r,i){this.mergeDefaultAndTheme(t,r)},mergeDefaultAndTheme:function(t,e){var r=this.layoutMode;var i=r?kl(t):{};var n=e.getTheme();y(t,n.get(this.mainType));y(t,this.getDefaultOption());if(r){Cl(t,i,r)}},mergeOption:function(t,e){y(this.option,t,true);var r=this.layoutMode;if(r){Cl(this.option,t,r)}},optionUpdated:function(t,e){},getDefaultOption:function(){if(!kn(this,"__defaultOption")){var t=[];var e=this.constructor;while(e){var r=e.prototype.defaultOption;r&&t.push(r);e=e.superClass}var i={};for(var n=t.length-1;n>=0;n--){i=y(i,t[n],true)}Tn(this,"__defaultOption",i)}return Cn(this,"__defaultOption")},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",true),id:this.get(t+"Id",true)})}});On(Pl,{registerWhenExtend:true});ml(Pl);yl(Pl,Dl);function Dl(t){var e=[];A(Pl.getClassesByMainType(t),function(t){Ll.apply(e,t.prototype.dependencies||[])});return L(e,function(t){return In(t).main})}k(Pl,Al);var Ol="";if(typeof navigator!=="undefined"){Ol=navigator.platform||""}var zl={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:Ol.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var Bl={clearColorPalette:function(){Tn(this,"colorIdx",0);Tn(this,"colorNameMap",{})},getColorFromPalette:function(t,e){e=e||this;var r=Cn(e,"colorIdx")||0;var i=Cn(e,"colorNameMap")||Tn(e,"colorNameMap",{});if(i.hasOwnProperty(t)){return i[t]}var n=this.get("color",true)||[];if(!n.length){return}var a=n[r];if(t){i[t]=a}Tn(e,"colorIdx",(r+1)%n.length);return a}};var El=A;var Rl=D;var Nl=L;var Fl=B;var Wl=T;var Hl=N;var Gl="\0_ec_inner";var Vl=Ys.extend({constructor:Vl,init:function(t,e,r,i){r=r||{};this.option=null;this._theme=new Ys(r);this._optionManager=i},setOption:function(t,e){Y(!(Gl in t),"please use chart.getOption()");this._optionManager.setOption(t,e);this.resetOption(null)},resetOption:function(t){var e=false;var r=this._optionManager;if(!t||t==="recreate"){var i=r.mountOption(t==="recreate");if(!this.option||t==="recreate"){Xl.call(this,i)}else{this.restoreData();this.mergeOption(i)}e=true}if(t==="timeline"||t==="media"){this.restoreData()}if(!t||t==="recreate"||t==="timeline"){var n=r.getTimelineOption(this);n&&(this.mergeOption(n),e=true)}if(!t||t==="recreate"||t==="media"){var a=r.getMediaOption(this,this._api);if(a.length){El(a,function(t){this.mergeOption(t,e=true)},this)}}return e},mergeOption:function(t){var e=this.option;var r=this._componentsMap;var i=[];El(t,function(t,r){if(t==null){return}if(!Pl.hasClass(r)){e[r]=e[r]==null?m(t):y(e[r],t,true)}else{i.push(r)}});Pl.topologicalTravel(i,Pl.getAllClassMainTypes(),n,this);this._seriesIndices=this._seriesIndices||[];function n(i,n){var a=Ks(t[i]);var o=al(r.get(i),a);ol(o);El(o,function(t,e){var r=t.option;if(Hl(r)){t.keyInfo.mainType=i;t.keyInfo.subType=Yl(i,r,t.exist)}});var s=Zl(r,n);e[i]=[];r.set(i,[]);El(o,function(t,n){var a=t.exist;var o=t.option;Y(Hl(o)||a,"Empty component definition");if(!o){a.mergeOption({},this);a.optionUpdated({},false)}else{var l=Pl.getClass(i,t.keyInfo.subType,true);if(a&&a instanceof l){a.name=t.keyInfo.name;a.mergeOption(o,this);a.optionUpdated(o,false)}else{var h=x({dependentModels:s,componentIndex:n},t.keyInfo);a=new l(o,this,this,h);x(a,h);a.init(o,this,this,h);a.optionUpdated(null,true)}}r.get(i)[n]=a;e[i][n]=a.option},this);if(i==="series"){this._seriesIndices=Ul(r.get("series"))}}},getOption:function(){var t=m(this.option);El(t,function(e,r){if(Pl.hasClass(r)){var e=Ks(e);for(var i=e.length-1;i>=0;i--){if(sl(e[i])){e.splice(i,1)}}t[r]=e}});delete t[Gl];return t},getTheme:function(){return this._theme},getComponent:function(t,e){var r=this._componentsMap.get(t);if(r){return r[e||0]}},queryComponents:function(t){var e=t.mainType;if(!e){return[]}var r=t.index;var i=t.id;var n=t.name;var a=this._componentsMap.get(e);if(!a||!a.length){return[]}var o;if(r!=null){if(!Fl(r)){r=[r]}o=Rl(Nl(r,function(t){return a[t]}),function(t){return!!t})}else if(i!=null){var s=Fl(i);o=Rl(a,function(t){return s&&Wl(i,t.id)>=0||!s&&t.id===i})}else if(n!=null){var l=Fl(n);o=Rl(a,function(t){return l&&Wl(n,t.name)>=0||!l&&t.name===n})}else{o=a.slice()}return jl(o,t)},findComponents:function(t){var e=t.query;var r=t.mainType;var i=a(e);var n=i?this.queryComponents(i):this._componentsMap.get(r);return o(jl(n,t));function a(t){var e=r+"Index";var i=r+"Id";var n=r+"Name";return t&&(t[e]!=null||t[i]!=null||t[n]!=null)?{mainType:r,index:t[e],id:t[i],name:t[n]}:null}function o(e){return t.filter?Rl(e,t.filter):e}},eachComponent:function(t,e,r){var i=this._componentsMap;if(typeof t==="function"){r=e;e=t;i.each(function(t,i){El(t,function(t,n){e.call(r,i,t,n)})})}else if(R(t)){El(i.get(t),e,r)}else if(Hl(t)){var n=this.findComponents(t);El(n,e,r)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return Rl(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return Rl(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(t,e){El(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)},this)},eachRawSeries:function(t,e){El(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,r){El(this._seriesIndices,function(i){var n=this._componentsMap.get("series")[i];if(n.subType===t){e.call(r,n,i)}},this)},eachRawSeriesByType:function(t,e,r){return El(this.getSeriesByType(t),e,r)},isSeriesFiltered:function(t){return T(this._seriesIndices,t.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){var r=Rl(this._componentsMap.get("series"),t,e);this._seriesIndices=Ul(r)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=Ul(t.get("series"));var e=[];t.each(function(t,r){e.push(r)});Pl.topologicalTravel(e,Pl.getAllClassMainTypes(),function(e,r){El(t.get(e),function(t){t.restoreData()})})}});function ql(t,e){A(e,function(e,r){if(!Pl.hasClass(r)){if(typeof e==="object"){t[r]=!t[r]?m(e):y(t[r],e,false)}else{if(t[r]==null){t[r]=e}}}})}function Xl(t){t=t;this.option={};this.option[Gl]=1;this._componentsMap=tt({series:[]});this._seriesIndices=null;ql(t,this._theme.option);y(t,zl,false);this.mergeOption(t)}function Zl(t,e){if(!B(e)){e=e?[e]:[]}var r={};El(e,function(e){r[e]=(t.get(e)||[]).slice()});return r}function Yl(t,e,r){var i=e.type?e.type:r?r.subType:Pl.determineSubType(t,e);return i}function Ul(t){return Nl(t,function(t){return t.componentIndex})||[]}function jl(t,e){return e.hasOwnProperty("subType")?Rl(t,function(t){return t.subType===e.subType}):t}k(Vl,Bl);var $l=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Ql(t){A($l,function(e){this[e]=O(t[e],t)},this)}var Kl={};function Jl(){this._coordinateSystems=[]}Jl.prototype={constructor:Jl,create:function(t,e){var r=[];A(Kl,function(i,n){var a=i.create(t,e);r=r.concat(a||[])});this._coordinateSystems=r},update:function(t,e){A(this._coordinateSystems,function(r){r.update&&r.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};Jl.register=function(t,e){Kl[t]=e};Jl.get=function(t){return Kl[t]};var th=A;var eh=m;var rh=L;var ih=y;var nh=/^(min|max)?(.+)$/;function ah(t){this._api=t;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}ah.prototype={constructor:ah,setOption:function(t,e){t=eh(t,true);var r=this._optionBackup;var i=oh.call(this,t,e,!r);this._newBaseOption=i.baseOption;if(r){uh(r.baseOption,i.baseOption);if(i.timelineOptions.length){r.timelineOptions=i.timelineOptions}if(i.mediaList.length){r.mediaList=i.mediaList}if(i.mediaDefault){r.mediaDefault=i.mediaDefault}}else{this._optionBackup=i}},mountOption:function(t){var e=this._optionBackup;this._timelineOptions=rh(e.timelineOptions,eh);this._mediaList=rh(e.mediaList,eh);this._mediaDefault=eh(e.mediaDefault);this._currentMediaIndices=[];return eh(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e;var r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");if(i){e=eh(r[i.getCurrentIndex()],true)}}return e},getMediaOption:function(t){var e=this._api.getWidth();var r=this._api.getHeight();var i=this._mediaList;var n=this._mediaDefault;var a=[];var o=[];if(!i.length&&!n){return o}for(var s=0,l=i.length;s<l;s++){if(sh(i[s].query,e,r)){a.push(s)}}if(!a.length&&n){a=[-1]}if(a.length&&!hh(a,this._currentMediaIndices)){o=rh(a,function(t){return eh(t===-1?n.option:i[t].option)})}this._currentMediaIndices=a;return o}};function oh(t,e,r){var i=[];var n=[];var a;var o;var s=t.timeline;if(t.baseOption){o=t.baseOption}if(s||t.options){o=o||{};i=(t.options||[]).slice()}if(t.media){o=o||{};var l=t.media;th(l,function(t){if(t&&t.option){if(t.query){n.push(t)}else if(!a){a=t}}})}if(!o){o=t}if(!o.timeline){o.timeline=s}th([o].concat(i).concat(L(n,function(t){return t.option})),function(t){th(e,function(e){e(t,r)})});return{baseOption:o,timelineOptions:i,mediaDefault:a,mediaList:n}}function sh(t,e,r){var i={width:e,height:r,aspectratio:e/r};var n=true;A(t,function(t,e){var r=e.match(nh);if(!r||!r[1]||!r[2]){return}var a=r[1];var o=r[2].toLowerCase();if(!lh(i[o],t,a)){n=false}});return n}function lh(t,e,r){if(r==="min"){return t>=e}else if(r==="max"){return t<=e}else{return t===e}}function hh(t,e){return t.join(",")===e.join(",")}function uh(t,e){e=e||{};th(e,function(e,r){if(e==null){return}var i=t[r];if(!Pl.hasClass(r)){t[r]=ih(i,e,true)}else{e=Ks(e);i=Ks(i);var n=al(i,e);t[r]=rh(n,function(t){return t.option&&t.exist?ih(t.exist,t.option,true):t.exist||t.option})}})}var fh=A;var ch=N;var vh=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function dh(t){var e=t&&t.itemStyle;if(!e){return}for(var r=0,i=vh.length;r<i;r++){var n=vh[r];var a=e.normal;var o=e.emphasis;if(a&&a[n]){t[n]=t[n]||{};if(!t[n].normal){t[n].normal=a[n]}else{y(t[n].normal,a[n])}a[n]=null}if(o&&o[n]){t[n]=t[n]||{};if(!t[n].emphasis){t[n].emphasis=o[n]}else{y(t[n].emphasis,o[n])}o[n]=null}}}function ph(t,e){var r=ch(t)&&t[e];var i=ch(r)&&r.textStyle;if(i){for(var n=0,a=tl.length;n<a;n++){var e=tl[n];if(i.hasOwnProperty(e)){r[e]=i[e]}}}}function gh(t){if(ch(t)){ph(t,"normal");ph(t,"emphasis")}}function mh(t){if(!ch(t)){return}dh(t);gh(t.label);gh(t.upperLabel);gh(t.edgeLabel);var e=t.markPoint;dh(e);gh(e&&e.label);var r=t.markLine;dh(t.markLine);gh(r&&r.label);var i=t.markArea;gh(i&&i.label);ph(t,"axisLabel");ph(t,"title");ph(t,"detail");var n=t.data;if(n){for(var a=0;a<n.length;a++){dh(n[a]);gh(n[a]&&n[a].label)}}var e=t.markPoint;if(e&&e.data){var o=e.data;for(var a=0;a<o.length;a++){dh(o[a]);gh(o[a]&&o[a].label)}}var r=t.markLine;if(r&&r.data){var s=r.data;for(var a=0;a<s.length;a++){if(B(s[a])){dh(s[a][0]);gh(s[a][0]&&s[a][0].label);dh(s[a][1]);gh(s[a][1]&&s[a][1].label)}else{dh(s[a]);gh(s[a]&&s[a].label)}}}}function yh(t){return B(t)?t:t?[t]:[]}function _h(t){return(B(t)?t[0]:t)||{}}var xh=function(t,e){fh(yh(t.series),function(t){ch(t)&&mh(t)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis");fh(r,function(e){fh(yh(t[e]),function(t){if(t){ph(t,"axisLabel");ph(t.axisPointer,"label")}})});fh(yh(t.parallel),function(t){var e=t&&t.parallelAxisDefault;ph(e,"axisLabel");ph(e&&e.axisPointer,"label")});fh(yh(t.calendar),function(t){ph(t,"dayLabel");ph(t,"monthLabel");ph(t,"yearLabel")});fh(yh(t.radar),function(t){ph(t,"name")});fh(yh(t.geo),function(t){if(ch(t)){gh(t.label);fh(yh(t.regions),function(t){gh(t.label)})}});gh(_h(t.timeline).label);ph(_h(t.axisPointer),"label");ph(_h(t.tooltip).axisPointer,"label")};function wh(t,e){e=e.split(",");var r=t;for(var i=0;i<e.length;i++){r=r&&r[e[i]];if(r==null){break}}return r}function bh(t,e,r,i){e=e.split(",");var n=t;var a;for(var o=0;o<e.length-1;o++){a=e[o];if(n[a]==null){n[a]={}}n=n[a]}if(i||n[e[o]]==null){n[e[o]]=r}}function Sh(t){A(Mh,function(e){if(e[0]in t&&!(e[1]in t)){t[e[1]]=t[e[0]]}})}var Mh=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var Th=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var Ch=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"];var kh=function(t,e){xh(t,e);t.series=Ks(t.series);A(t.series,function(t){if(!N(t)){return}var e=t.type;if(e==="pie"||e==="gauge"){if(t.clockWise!=null){t.clockwise=t.clockWise}}if(e==="gauge"){var r=wh(t,"pointer.color");r!=null&&bh(t,"itemStyle.normal.color",r)}for(var i=0;i<Ch.length;i++){if(Ch[i]===t.type){Sh(t);break}}});if(t.dataRange){t.visualMap=t.dataRange}A(Th,function(e){var r=t[e];if(r){if(!B(r)){r=[r]}A(r,function(t){Sh(t)})}})};var Ih=Pl.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(t,e,r,i){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(t,r);var n=this.getInitialData(t,r);Tn(this,"dataBeforeProcessed",n);this.restoreData()},mergeDefaultAndTheme:function(t,e){var r=this.layoutMode;var i=r?kl(t):{};var n=this.subType;if(Pl.hasClass(n)){n+="Series"}y(t,e.getTheme().get(this.subType));y(t,this.getDefaultOption());Js(t.label,["show"]);this.fillDataTextStyle(t.data);if(r){Cl(t,i,r)}},mergeOption:function(t,e){t=y(this.option,t,true);this.fillDataTextStyle(t.data);var r=this.layoutMode;if(r){Cl(this.option,t,r)}var i=this.getInitialData(t,e);if(i){Tn(this,"data",i);Tn(this,"dataBeforeProcessed",i.cloneShallow())}},fillDataTextStyle:function(t){if(t){var e=["show"];for(var r=0;r<t.length;r++){if(t[r]&&t[r].label){Js(t[r].label,e)}}}},getInitialData:function(){},getData:function(t){var e=Cn(this,"data");return t==null?e:e.getLinkedData(t)},setData:function(t){Tn(this,"data",t)},getRawData:function(){return Cn(this,"dataBeforeProcessed")},coordDimToDataDim:function(t){return fl(this.getData(),t)},dataDimToCoordDim:function(t){return ul(this.getData(),t)},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,r){function i(r){var i=P(r,function(t,e,r){var i=n.getDimensionInfo(r);return t|=i&&i.tooltip!==false&&i.tooltipName!=null},0);var a=[];var o=cl(n,"tooltip");o.length?A(o,function(e){s(n.get(e,t),e)}):A(r,s);function s(t,r){var o=n.getDimensionInfo(r);if(!o||o.otherDims.tooltip===false){return}var s=o.type;var l=(i?"- "+(o.tooltipName||o.name)+": ":"")+(s==="ordinal"?t+"":s==="time"?e?"":xn("yyyy/MM/dd hh:mm:ss",t):cn(t));l&&a.push(dn(l))}return(i?"<br/>":"")+a.join(i?"<br/>":", ")}var n=Cn(this,"data");var a=this.getRawValue(t);var o=B(a)?i(a):dn(cn(a));var s=n.getName(t);var l=n.getItemVisual(t,"color");if(N(l)&&l.colorStops){l=(l.colorStops[0]||{}).color}l=l||"transparent";var h=yn(l);var u=this.name;if(u==="\0-"){u=""}u=u?dn(u)+(!e?"<br/>":": "):"";return!e?u+h+(s?dn(s)+": "+o:o):h+u+o},isAnimationEnabled:function(){if(n.node){return false}var t=this.getShallow("animation");if(t){if(this.getData().count()>this.getShallow("animationThreshold")){t=false}}return t},restoreData:function(){Tn(this,"data",Cn(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(t,e){var r=this.ecModel;var i=Bl.getColorFromPalette.call(this,t,e);if(!i){i=r.getColorFromPalette(t,e)}return i},getAxisTooltipData:null,getTooltipPosition:null});k(Ih,nl);k(Ih,Bl);var Ah=function(){this.group=new Fe;this.uid=gl("viewComponent")};Ah.prototype={constructor:Ah,init:function(t,e){},render:function(t,e,r,i){},dispose:function(){}};var Lh=Ah.prototype;Lh.updateView=Lh.updateLayout=Lh.updateVisual=function(t,e,r,i){};Ln(Ah);On(Ah,{registerWhenExtend:true});function Ph(){this.group=new Fe;this.uid=gl("viewChart")}Ph.prototype={type:"chart",init:function(t,e){},render:function(t,e,r,i){},highlight:function(t,e,r,i){zh(t.getData(),i,"emphasis")},downplay:function(t,e,r,i){zh(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};var Dh=Ph.prototype;Dh.updateView=Dh.updateLayout=Dh.updateVisual=function(t,e,r,i){this.render(t,e,r,i)};function Oh(t,e){if(t){t.trigger(e);if(t.type==="group"){for(var r=0;r<t.childCount();r++){Oh(t.childAt(r),e)}}}}function zh(t,e,r){var i=ll(t,e);if(i!=null){A(Ks(i),function(e){Oh(t.getItemGraphicEl(e),r)})}else{t.eachItemGraphicEl(function(t){Oh(t,r)})}}Ln(Ph,["dispose"]);On(Ph,{registerWhenExtend:true});function Bh(t,e,r){var i;var n=0;var a=0;var o=null;var s;var l;var h;var u;e=e||0;function f(){a=(new Date).getTime();o=null;t.apply(l,h||[])}var c=function(){i=(new Date).getTime();l=this;h=arguments;var t=u||e;var c=u||r;u=null;s=i-(c?n:a)-t;clearTimeout(o);if(c){o=setTimeout(f,t)}else{if(s>=0){f()}else{o=setTimeout(f,-s)}}n=i};c.clear=function(){if(o){clearTimeout(o);o=null}};c.debounceNextCall=function(t){u=t};return c}var Eh=function(t){function e(e){var r=(e.visualColorAccessPath||"itemStyle.normal.color").split(".");var i=e.getData();var n=e.get(r)||e.getColorFromPalette(e.get("name"));i.setVisual("color",n);if(!t.isSeriesFiltered(e)){if(typeof n==="function"&&!(n instanceof Xo)){i.each(function(t){i.setItemVisual(t,"color",n(e.getDataParams(t)))})}i.each(function(t){var e=i.getItemModel(t);var n=e.get(r,true);if(n!=null){i.setItemVisual(t,"color",n)}})}}t.eachRawSeries(e)};var Rh=Math.PI;var Nh=function(t,e){e=e||{};w(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new No({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});var i=new Vo({shape:{startAngle:-Rh/2,endAngle:-Rh/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001});var n=new No({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});i.animateShape(true).when(1e3,{endAngle:Rh*3/2}).start("circularInOut");i.animateShape(true).when(1e3,{startAngle:Rh*3/2}).delay(300).start("circularInOut");var a=new Fe;a.add(i);a.add(n);a.add(r);a.resize=function(){var e=t.getWidth()/2;var a=t.getHeight()/2;i.setShape({cx:e,cy:a});var o=i.shape.r;n.setShape({x:e-o,y:a-o,width:o*2,height:o*2});r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})};a.resize();return a};var Fh=A;var Wh=Pl.parseClassType;var Hh="3.8.4";var Gh={zrender:"3.7.3"};var Vh=1e3;var qh=5e3;var Xh=1e3;var Zh=2e3;var Yh=3e3;var Uh=4e3;var jh=5e3;var $h={PROCESSOR:{FILTER:Vh,STATISTIC:qh},VISUAL:{LAYOUT:Xh,GLOBAL:Zh,CHART:Yh,COMPONENT:Uh,BRUSH:jh}};var Qh="__flagInMainProcess";var Kh="__hasGradientOrPatternBg";var Jh="__optionUpdated";var tu=/^[a-zA-Z0-9_]+$/;function eu(t){return function(e,r,i){e=e&&e.toLowerCase();St.prototype[t].call(this,e,r,i)}}function ru(){St.call(this)}ru.prototype.on=eu("on");ru.prototype.off=eu("off");ru.prototype.one=eu("one");k(ru,St);function iu(t,e,r){r=r||{};if(typeof e==="string"){e=Au[e]}this.id;this.group;this._dom=t;var i="canvas";var n=this._zr=ji(t,{renderer:r.renderer||i,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height});this._throttledZrFlush=Bh(O(n.flush,n),17);var e=m(e);e&&kh(e,true);this._theme=e;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new Jl;this._api=bu(this);St.call(this);this._messageCenter=new ru;this._initEvents();this.resize=O(this.resize,this);this._pendingActions=[];function a(t,e){return t.prio-e.prio}je(Iu,a);je(Tu,a);n.animation.on("frame",this._onframe,this);j(this)}var nu=iu.prototype;nu._onframe=function(){if(this[Jh]){var t=this[Jh].silent;this[Qh]=true;ou.prepareAndUpdate.call(this);this[Qh]=false;this[Jh]=false;hu.call(this,t);uu.call(this,t)}};nu.getDom=function(){return this._dom};nu.getZr=function(){return this._zr};nu.setOption=function(t,e,r){var i;if(N(e)){r=e.lazyUpdate;i=e.silent;e=e.notMerge}this[Qh]=true;if(!this._model||e){var n=new ah(this._api);var a=this._theme;var o=this._model=new Vl(null,null,a,n);o.init(null,null,a,n)}this._model.setOption(t,Cu);if(r){this[Jh]={silent:i};this[Qh]=false}else{ou.prepareAndUpdate.call(this);this._zr.flush();this[Jh]=false;this[Qh]=false;hu.call(this,i);uu.call(this,i)}};nu.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};nu.getModel=function(){return this._model};nu.getOption=function(){return this._model&&this._model.getOption()};nu.getWidth=function(){return this._zr.getWidth()};nu.getHeight=function(){return this._zr.getHeight()};nu.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};nu.getRenderedCanvas=function(t){if(!n.canvasSupported){return}t=t||{};t.pixelRatio=t.pixelRatio||1;t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr;var r=e.storage.getDisplayList();A(r,function(t){t.stopAnimation(true)});return e.painter.getRenderedCanvas(t)};nu.getSvgDataUrl=function(){if(!n.svgSupported){return}var t=this._zr;var e=t.storage.getDisplayList();A(e,function(t){t.stopAnimation(true)});return t.painter.pathToSvg()};nu.getDataURL=function(t){t=t||{};var e=t.excludeComponents;var r=this._model;var i=[];var n=this;Fh(e,function(t){r.eachComponent({mainType:t},function(t){var e=n._componentsMap[t.__viewId];if(!e.group.ignore){i.push(e);e.group.ignore=true}})});var a=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));Fh(i,function(t){t.group.ignore=false});return a};nu.getConnectedDataURL=function(t){if(!n.canvasSupported){return}var e=this.group;var r=Math.min;var i=Math.max;var a=Infinity;if(Du[e]){var o=a;var s=a;var l=-a;var h=-a;var u=[];var f=t&&t.pixelRatio||1;A(Pu,function(n,a){if(n.group===e){var f=n.getRenderedCanvas(m(t));var c=n.getDom().getBoundingClientRect();o=r(c.left,o);s=r(c.top,s);l=i(c.right,l);h=i(c.bottom,h);u.push({dom:f,left:c.left,top:c.top})}});o*=f;s*=f;l*=f;h*=f;var c=l-o;var v=h-s;var d=b();d.width=c;d.height=v;var p=ji(d);Fh(u,function(t){var e=new li({style:{x:t.left*f-o,y:t.top*f-s,image:t.dom}});p.add(e)});p.refreshImmediately();return d.toDataURL("image/"+(t&&t.type||"png"))}else{return this.getDataURL(t)}};nu.convertToPixel=z(au,"convertToPixel");nu.convertFromPixel=z(au,"convertFromPixel");function au(t,e,r){var i=this._model;var n=this._coordSysMgr.getCoordinateSystems();var a;e=hl(i,e);for(var o=0;o<n.length;o++){var s=n[o];if(s[t]&&(a=s[t](i,e,r))!=null){return a}}}nu.containPixel=function(t,e){var r=this._model;var i;t=hl(r,t);A(t,function(t,r){r.indexOf("Models")>=0&&A(t,function(t){var n=t.coordinateSystem;if(n&&n.containPoint){i|=!!n.containPoint(e)}else if(r==="seriesModels"){var a=this._chartsMap[t.__viewId];if(a&&a.containPoint){i|=a.containPoint(e,t)}else{}}else{}},this)},this);return!!i};nu.getVisual=function(t,e){var r=this._model;t=hl(r,t,{defaultMainType:"series"});var i=t.seriesModel;var n=i.getData();var a=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return a!=null?n.getItemVisual(a,e):n.getVisual(e)};nu.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]};nu.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var ou={update:function(t){var e=this._model;var r=this._api;var i=this._coordSysMgr;var a=this._zr;if(!e){return}e.restoreData();i.create(this._model,this._api);vu.call(this,e,r);du.call(this,e);i.update(e,r);gu.call(this,e,t);mu.call(this,e,t);var o=e.get("backgroundColor")||"transparent";var s=a.painter;if(s.isSingleCanvas&&s.isSingleCanvas()){a.configLayer(0,{clearColor:o})}else{if(!n.canvasSupported){var l=he(o);o=ce(l,"rgb");if(l[3]===0){o="transparent"}}if(o.colorStops||o.image){a.configLayer(0,{clearColor:o});this[Kh]=true;this._dom.style.background="transparent"}else{if(this[Kh]){a.configLayer(0,{clearColor:null})}this[Kh]=false;this._dom.style.background=o}}Fh(ku,function(t){t(e,r)})},updateView:function(t){var e=this._model;if(!e){return}e.eachSeries(function(t){t.getData().clearAllVisual()});gu.call(this,e,t);fu.call(this,"updateView",e,t)},updateVisual:function(t){var e=this._model;if(!e){return}e.eachSeries(function(t){t.getData().clearAllVisual()});gu.call(this,e,t,true);fu.call(this,"updateVisual",e,t)},updateLayout:function(t){var e=this._model;if(!e){return}pu.call(this,e,t);fu.call(this,"updateLayout",e,t)},prepareAndUpdate:function(t){var e=this._model;cu.call(this,"component",e);cu.call(this,"chart",e);ou.update.call(this,t)}};function su(t,e,r,i,n){var a=t._model;if(!i){Fh(t._componentsViews.concat(t._chartsViews),l);return}var o={};o[i+"Id"]=r[i+"Id"];o[i+"Index"]=r[i+"Index"];o[i+"Name"]=r[i+"Name"];var s={mainType:i,query:o};n&&(s.subType=n);a&&a.eachComponent(s,function(e,r){l(t[i==="series"?"_chartsMap":"_componentsMap"][e.__viewId])},t);function l(i){i&&i.__alive&&i[e]&&i[e](i.__model,a,t._api,r)}}nu.resize=function(t){this[Qh]=true;this._zr.resize(t);var e=this._model&&this._model.resetOption("media");var r=e?"prepareAndUpdate":"update";ou[r].call(this);this._loadingFX&&this._loadingFX.resize();this[Qh]=false;var i=t&&t.silent;hu.call(this,i);uu.call(this,i)};nu.showLoading=function(t,e){if(N(t)){e=t;t=""}t=t||"default";this.hideLoading();if(!Lu[t]){return}var r=Lu[t](this._api,e);var i=this._zr;this._loadingFX=r;i.add(r)};nu.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};nu.makeActionFromEvent=function(t){var e=x({},t);e.type=Mu[t.type];return e};nu.dispatchAction=function(t,e){if(!N(e)){e={silent:!!e}}if(!Su[t.type]){return}if(!this._model){return}if(this[Qh]){this._pendingActions.push(t);return}lu.call(this,t,e.silent);if(e.flush){this._zr.flush(true)}else if(e.flush!==false&&n.browser.weChat){this._throttledZrFlush()}hu.call(this,e.silent);uu.call(this,e.silent)};function lu(t,e){var r=t.type;var i=t.escapeConnect;var n=Su[r];var a=n.actionInfo;var o=(a.update||"update").split(":");var s=o.pop();o=o[0]!=null&&Wh(o[0]);this[Qh]=true;var l=[t];var h=false;if(t.batch){h=true;l=L(t.batch,function(e){e=w(x({},e),t);e.batch=null;return e})}var u=[];var f;var c=r==="highlight"||r==="downplay";Fh(l,function(t){f=n.action(t,this._model,this._api);f=f||x({},t);f.type=a.event||f.type;u.push(f);if(c){su(this,s,t,"series")}else if(o){su(this,s,t,o.main,o.sub)}},this);if(s!=="none"&&!c&&!o){if(this[Jh]){ou.prepareAndUpdate.call(this,t);this[Jh]=false}else{ou[s].call(this,t)}}if(h){f={type:a.event||r,escapeConnect:i,batch:u}}else{f=u[0]}this[Qh]=false;!e&&this._messageCenter.trigger(f.type,f)}function hu(t){var e=this._pendingActions;while(e.length){var r=e.shift();lu.call(this,r,t)}}function uu(t){!t&&this.trigger("updated")}nu.on=eu("on");nu.off=eu("off");nu.one=eu("one");function fu(t,e,r){var i=this._api;Fh(this._componentsViews,function(n){var a=n.__model;n[t](a,e,i,r);wu(a,n)},this);e.eachSeries(function(n,a){var o=this._chartsMap[n.__viewId];o[t](n,e,i,r);wu(n,o);xu(n,o)},this);_u(this._zr,e);Fh(ku,function(t){t(e,i)})}function cu(t,e){var r=t==="component";var i=r?this._componentsViews:this._chartsViews;var n=r?this._componentsMap:this._chartsMap;var a=this._zr;for(var o=0;o<i.length;o++){i[o].__alive=false}e[r?"eachComponent":"eachSeries"](function(t,o){if(r){if(t==="series"){return}}else{o=t}var s="_ec_"+o.id+"_"+o.type;var l=n[s];if(!l){var h=Wh(o.type);var u=r?Ah.getClass(h.main,h.sub):Ph.getClass(h.sub);if(u){l=new u;l.init(e,this._api);n[s]=l;i.push(l);a.add(l.group)}else{return}}o.__viewId=l.__id=s;l.__alive=true;l.__model=o;l.group.__ecComponentInfo={mainType:o.mainType,index:o.componentIndex}},this);for(var o=0;o<i.length;){var s=i[o];if(!s.__alive){a.remove(s.group);s.dispose(e,this._api);i.splice(o,1);delete n[s.__id];s.__id=s.group.__ecComponentInfo=null}else{o++}}}function vu(t,e){Fh(Tu,function(r){r.func(t,e)})}function du(t){var e={};t.eachSeries(function(t){var r=t.get("stack");var i=t.getData();if(r&&i.type==="list"){var n=e[r];if(e.hasOwnProperty(r)&&n){i.stackedOn=n}e[r]=i}})}function pu(t,e){var r=this._api;Fh(Iu,function(i){if(i.isLayout){i.func(t,r,e)}})}function gu(t,e,r){var i=this._api;t.clearColorPalette();t.eachSeries(function(t){t.clearColorPalette()});Fh(Iu,function(n){(!r||!n.isLayout)&&n.func(t,i,e)})}function mu(t,e){var r=this._api;Fh(this._componentsViews,function(i){var n=i.__model;i.render(n,t,r,e);wu(n,i)},this);Fh(this._chartsViews,function(t){t.__alive=false},this);t.eachSeries(function(i,n){var a=this._chartsMap[i.__viewId];a.__alive=true;a.render(i,t,r,e);a.group.silent=!!i.get("silent");wu(i,a);xu(i,a)},this);_u(this._zr,t);Fh(this._chartsViews,function(e){if(!e.__alive){e.remove(t,r)}},this)}var yu=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];nu._initEvents=function(){Fh(yu,function(t){this._zr.on(t,function(e){var r=this.getModel();var i=e.target;var n;if(t==="globalout"){n={}}else if(i&&i.dataIndex!=null){var a=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=a&&a.getDataParams(i.dataIndex,i.dataType)||{}}else if(i&&i.eventData){n=x({},i.eventData)}if(n){n.event=e;n.type=t;this.trigger(t,n)}},this)},this);Fh(Mu,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)};nu.isDisposed=function(){return this._disposed};nu.clear=function(){this.setOption({series:[]},true)};nu.dispose=function(){if(this._disposed){return}this._disposed=true;var t=this._api;var e=this._model;Fh(this._componentsViews,function(r){r.dispose(e,t)});Fh(this._chartsViews,function(r){r.dispose(e,t)});this._zr.dispose();delete Pu[this.id]};k(iu,St);function _u(t,e){var r=t.storage;var i=0;r.traverse(function(t){if(!t.isGroup){i++}});if(i>e.get("hoverLayerThreshold")&&!n.node){r.traverse(function(t){if(!t.isGroup){t.useHoverLayer=true}})}}function xu(t,e){var r=0;e.group.traverse(function(t){if(t.type!=="group"&&!t.ignore){r++}});var i=+t.get("progressive");var a=r>t.get("progressiveThreshold")&&i&&!n.node;if(a){e.group.traverse(function(t){if(!t.isGroup){t.progressive=a?Math.floor(r++/i):-1;if(a){t.stopAnimation(true)}}})}var o=t.get("blendMode")||null;e.group.traverse(function(t){if(!t.isGroup){t.setStyle("blend",o)}})}function wu(t,e){var r=t.get("z");var i=t.get("zlevel");e.group.traverse(function(t){if(t.type!=="group"){r!=null&&(t.z=r);i!=null&&(t.zlevel=i)}})}function bu(t){var e=t._coordSysMgr;return x(new Ql(t),{getCoordinateSystems:O(e.getCoordinateSystems,e),getComponentByElement:function(e){while(e){var r=e.__ecComponentInfo;if(r!=null){return t._model.getComponent(r.mainType,r.index)}e=e.parent}}})}var Su={};var Mu={};var Tu=[];var Cu=[];var ku=[];var Iu=[];var Au={};var Lu={};var Pu={};var Du={};var Ou=new Date-0;var zu=new Date-0;var Bu="_echarts_instance_";var Eu={};function Ru(t){var e=0;var r=1;var i=2;var n="__connectUpdateStatus";function a(t,e){for(var r=0;r<t.length;r++){var i=t[r];i[n]=e}}A(Mu,function(o,s){t._messageCenter.on(s,function(o){if(Du[t.group]&&t[n]!==e){if(o&&o.escapeConnect){return}var s=t.makeActionFromEvent(o);var l=[];A(Pu,function(e){if(e!==t&&e.group===t.group){l.push(e)}});a(l,e);Fh(l,function(t){if(t[n]!==r){t.dispatchAction(s)}});a(l,i)}})})}function Nu(t,e,r){var i=Vu(t);if(i){return i}var n=new iu(t,e,r);n.id="ec_"+Ou++;Pu[n.id]=n;if(t.setAttribute){t.setAttribute(Bu,n.id)}else{t[Bu]=n.id}Ru(n);return n}function Fu(t){if(B(t)){var e=t;t=null;A(e,function(e){if(e.group!=null){t=e.group}});t=t||"g_"+zu++;A(e,function(e){e.group=t})}Du[t]=true;return t}function Wu(t){Du[t]=false}var Hu=Wu;function Gu(t){if(typeof t==="string"){t=Pu[t]}else if(!(t instanceof iu)){t=Vu(t)}if(t instanceof iu&&!t.isDisposed()){t.dispose()}}function Vu(t){var e;if(t.getAttribute){e=t.getAttribute(Bu)}else{e=t[Bu]}return Pu[e]}function qu(t){return Pu[t]}function Xu(t,e){Au[t]=e}function Zu(t){Cu.push(t)}function Yu(t,e){if(typeof t==="function"){e=t;t=Vh}Tu.push({prio:t,func:e})}function Uu(t){ku.push(t)}function ju(t,e,r){if(typeof e==="function"){r=e;e=""}var i=N(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase();e=t.event;Y(tu.test(i)&&tu.test(e));if(!Su[i]){Su[i]={action:r,actionInfo:t}}Mu[e]=i}function $u(t,e){Jl.register(t,e)}function Qu(t){var e=Jl.get(t);if(e){return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}}function Ku(t,e){if(typeof t==="function"){e=t;t=Xh}Iu.push({prio:t,func:e,isLayout:true})}function Ju(t,e){if(typeof t==="function"){e=t;t=Yh}Iu.push({prio:t,func:e})}function tf(t,e){Lu[t]=e}function ef(t){return Pl.extend(t)}function rf(t){return Ah.extend(t)}function nf(t){return Ih.extend(t)}function af(t){return Ph.extend(t)}function of(t){g("createCanvas",t)}function sf(t,e,r){if(e.geoJson&&!e.features){r=e.specialAreas;e=e.geoJson}if(typeof e==="string"){e=typeof JSON!=="undefined"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()}Eu[t]={geoJson:e,specialAreas:r}}function lf(t){return Eu[t]}Ju(Zh,Eh);Zu(kh);tf("default",Nh);ju({type:"highlight",event:"highlight",update:"highlight"},et);ju({type:"downplay",event:"downplay",update:"downplay"},et);var hf={};var uf="__ec_stack_";function ff(t){return t.get("stack")||uf+t.seriesIndex}function cf(t){return t.dim+t.index}function vf(t,e){var r=[];var i=t.axis;var n="axis0";if(i.type!=="category"){return}var a=i.getBandWidth();for(var o=0;o<t.count||0;o++){r.push(w({bandWidth:a,axisKey:n,stackId:uf+o},t))}var s=pf(r,e);var l=[];for(var o=0;o<t.count;o++){var h=s[n][uf+o];h.offsetCenter=h.offset+h.width/2;l.push(h)}return l}function df(t,e){var r=L(t,function(t){var e=t.getData();var r=t.coordinateSystem;var i=r.getBaseAxis();var n=i.getExtent();var a=i.type==="category"?i.getBandWidth():Math.abs(n[1]-n[0])/e.count();var o=tn(t.get("barWidth"),a);var s=tn(t.get("barMaxWidth"),a);var l=t.get("barGap");var h=t.get("barCategoryGap");return{bandWidth:a,barWidth:o,barMaxWidth:s,barGap:l,barCategoryGap:h,axisKey:cf(i),stackId:ff(t)}});return pf(r,e)}function pf(t,e){var r={};A(t,function(t,e){var i=t.axisKey;var n=t.bandWidth;var a=r[i]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var o=a.stacks;r[i]=a;var s=t.stackId;if(!o[s]){a.autoWidthCount++}o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;if(l&&!o[s].width){o[s].width=l;l=Math.min(a.remainedWidth,l);a.remainedWidth-=l}var h=t.barMaxWidth;h&&(o[s].maxWidth=h);var u=t.barGap;u!=null&&(a.gap=u);var f=t.barCategoryGap;f!=null&&(a.categoryGap=f)});var i={};A(r,function(t,e){i[e]={};var r=t.stacks;var n=t.bandWidth;var a=tn(t.categoryGap,n);var o=tn(t.gap,1);var s=t.remainedWidth;var l=t.autoWidthCount;var h=(s-a)/(l+(l-1)*o);h=Math.max(h,0);A(r,function(t,e){var r=t.maxWidth;if(r&&r<h){r=Math.min(r,s);if(t.width){r=Math.min(r,t.width)}s-=r;t.width=r;l--}});h=(s-a)/(l+(l-1)*o);h=Math.max(h,0);var u=0;var f;A(r,function(t,e){if(!t.width){t.width=h}f=t;u+=t.width*(1+o)});if(f){u-=f.width*o}var c=-u/2;A(r,function(t,r){i[e][r]=i[e][r]||{offset:c,width:t.width};c+=t.width*(1+o)})});return i}function gf(t,e,r){var i=df(D(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}));var n={};var a={};e.eachSeriesByType(t,function(t){if(t.coordinateSystem.type!=="cartesian2d"){return}var e=t.getData();var r=t.coordinateSystem;var o=r.getBaseAxis();var s=ff(t);var l=i[cf(o)][s];var h=l.offset;var u=l.width;var f=r.getOtherAxis(o);var c=t.get("barMinHeight")||0;var v=o.onZero?f.toGlobalCoord(f.dataToCoord(0)):f.getGlobalExtent()[0];var d=[t.coordDimToDataDim("x")[0],t.coordDimToDataDim("y")[0]];var p=e.mapArray(d,function(t,e){return r.dataToPoint([t,e])},true);n[s]=n[s]||[];a[s]=a[s]||[];e.setLayout({offset:h,size:u});e.each(t.coordDimToDataDim(f.dim)[0],function(t,r){if(isNaN(t)){return}if(!n[s][r]){n[s][r]={p:v,n:v};a[s][r]={p:v,n:v}}var i=t>=0?"p":"n";var o=p[r];var l=n[s][r][i];var d=a[s][r][i];var g;var m;var y;var _;if(f.isHorizontal()){g=l;m=o[1]+h;y=o[0]-d;_=u;a[s][r][i]+=y;if(Math.abs(y)<c){y=(y<0?-1:1)*c}n[s][r][i]+=y}else{g=o[0]+h;m=l;y=u;_=o[1]-d;a[s][r][i]+=_;if(Math.abs(_)<c){_=(_<=0?-1:1)*c}n[s][r][i]+=_}e.setItemLayout(r,{x:g,y:m,width:y,height:_})},true)},this)}gf.getLayoutOnAxis=vf;function mf(t){this._setting=t||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}mf.prototype.parse=function(t){return t};mf.prototype.getSetting=function(t){return this._setting[t]};mf.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]};mf.prototype.normalize=function(t){var e=this._extent;if(e[1]===e[0]){return.5}return(t-e[0])/(e[1]-e[0])};mf.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]};mf.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1])};mf.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getDataExtent(e,true))};mf.prototype.getExtent=function(){return this._extent.slice()};mf.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=t}if(!isNaN(e)){r[1]=e}};mf.prototype.getTicksLabels=function(){var t=[];var e=this.getTicks();for(var r=0;r<e.length;r++){t.push(this.getLabel(e[r]))}return t};mf.prototype.isBlank=function(){return this._isBlank},mf.prototype.setBlank=function(t){this._isBlank=t};Ln(mf);On(mf,{registerWhenExtend:true});var yf=mf.prototype;var _f=mf.extend({type:"ordinal",init:function(t,e){this._data=t;this._extent=e||[0,t.length-1]},parse:function(t){return typeof t==="string"?T(this._data,t):Math.round(t)},contain:function(t){t=this.parse(t);return yf.contain.call(this,t)&&this._data[t]!=null},normalize:function(t){return yf.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(yf.scale.call(this,t))},getTicks:function(){var t=[];var e=this._extent;var r=e[0];while(r<=e[1]){t.push(r);r++}return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getDataExtent(e,false))},niceTicks:et,niceExtent:et});_f.create=function(){return new _f};var xf=en;function wf(t,e,r,i){var n={};var a=t[1]-t[0];var o=n.interval=fn(a/e,true);if(r!=null&&o<r){o=n.interval=r}if(i!=null&&o>i){o=n.interval=i}var s=n.intervalPrecision=bf(o);var l=n.niceTickExtent=[xf(Math.ceil(t[0]/o)*o,s),xf(Math.floor(t[1]/o)*o,s)];Mf(l,t);return n}function bf(t){return rn(t)+2}function Sf(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function Mf(t,e){!isFinite(t[0])&&(t[0]=e[0]);!isFinite(t[1])&&(t[1]=e[1]);Sf(t,0,e);Sf(t,1,e);if(t[0]>t[1]){t[0]=t[1]}}function Tf(t,e,r,i){var n=[];if(!t){return n}var a=1e4;if(e[0]<r[0]){n.push(e[0])}var o=r[0];while(o<=r[1]){n.push(o);o=xf(o+t,i);if(o===n[n.length-1]){break}if(n.length>a){return[]}}if(e[1]>(n.length?n[n.length-1]:r[1])){n.push(e[1])}return n}var Cf=en;var kf=mf.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=parseFloat(t)}if(!isNaN(e)){r[1]=parseFloat(e)}},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1]);kf.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t;this._niceExtent=this._extent.slice();this._intervalPrecision=bf(t)},getTicks:function(){return Tf(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){var t=[];var e=this.getTicks();for(var r=0;r<e.length;r++){t.push(this.getLabel(e[r]))}return t},getLabel:function(t,e){if(t==null){return""}var r=e&&e.precision;if(r==null){r=rn(t)||0}else if(r==="auto"){r=this._intervalPrecision}t=Cf(t,r,true);return cn(t)},niceTicks:function(t,e,r){t=t||5;var i=this._extent;var n=i[1]-i[0];if(!isFinite(n)){return}if(n<0){n=-n;i.reverse()}var a=wf(i,t,e,r);this._intervalPrecision=a.intervalPrecision;this._interval=a.interval;this._niceExtent=a.niceTickExtent},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]){if(e[0]!==0){var r=e[0];if(!t.fixMax){e[1]+=r/2;e[0]-=r/2}else{e[0]-=r/2}}else{e[1]=1}}var i=e[1]-e[0];if(!isFinite(i)){e[0]=0;e[1]=1}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;if(!t.fixMin){e[0]=Cf(Math.floor(e[0]/n)*n)}if(!t.fixMax){e[1]=Cf(Math.ceil(e[1]/n)*n)}}});kf.create=function(){return new kf};var If=kf.prototype;var Af=Math.ceil;var Lf=Math.floor;var Pf=1e3;var Df=Pf*60;var Of=Df*60;var zf=Of*24;var Bf=function(t,e,r,i){while(r<i){var n=r+i>>>1;if(t[n][1]<e){r=n+1}else{i=n}}return r};var Ef=kf.extend({type:"time",getLabel:function(t){var e=this._stepLvl;var r=new Date(t);return xn(e[0],r,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]){e[0]-=zf;e[1]+=zf}if(e[1]===-Infinity&&e[0]===Infinity){var r=new Date;e[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate());e[0]=e[1]-zf}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;if(!t.fixMin){e[0]=en(Lf(e[0]/i)*i)}if(!t.fixMax){e[1]=en(Af(e[1]/i)*i)}},niceTicks:function(t,e,r){t=t||10;var i=this._extent;var n=i[1]-i[0];var a=n/t;if(e!=null&&a<e){a=e}if(r!=null&&a>r){a=r}var o=Rf.length;var s=Bf(Rf,a,0,o);var l=Rf[Math.min(s,o-1)];var h=l[1];if(l[0]==="year"){var u=n/h;var f=fn(u/t,true);h*=f}var c=this.getSetting("useUTC")?0:new Date(+i[0]||+i[1]).getTimezoneOffset()*60*1e3;var v=[Math.round(Af((i[0]-c)/h)*h+c),Math.round(Lf((i[1]-c)/h)*h+c)];Mf(v,i);this._stepLvl=l;this._interval=h;this._niceExtent=v},parse:function(t){return+ln(t)}});A(["contain","normalize"],function(t){Ef.prototype[t]=function(e){return If[t].call(this,this.parse(e))}});var Rf=[["hh:mm:ss",Pf],["hh:mm:ss",Pf*5],["hh:mm:ss",Pf*10],["hh:mm:ss",Pf*15],["hh:mm:ss",Pf*30],["hh:mm\nMM-dd",Df],["hh:mm\nMM-dd",Df*5],["hh:mm\nMM-dd",Df*10],["hh:mm\nMM-dd",Df*15],["hh:mm\nMM-dd",Df*30],["hh:mm\nMM-dd",Of],["hh:mm\nMM-dd",Of*2],["hh:mm\nMM-dd",Of*6],["hh:mm\nMM-dd",Of*12],["MM-dd\nyyyy",zf],["MM-dd\nyyyy",zf*2],["MM-dd\nyyyy",zf*3],["MM-dd\nyyyy",zf*4],["MM-dd\nyyyy",zf*5],["MM-dd\nyyyy",zf*6],["week",zf*7],["MM-dd\nyyyy",zf*10],["week",zf*14],["week",zf*21],["month",zf*31],["week",zf*42],["month",zf*62],["week",zf*42],["quarter",zf*380/4],["month",zf*31*4],["month",zf*31*5],["half-year",zf*380/2],["month",zf*31*8],["month",zf*31*10],["year",zf*380]];Ef.create=function(t){return new Ef({useUTC:t.ecModel.get("useUTC")})};var Nf=mf.prototype;var Ff=kf.prototype;var Wf=rn;var Hf=en;var Gf=Math.floor;var Vf=Math.ceil;var qf=Math.pow;var Xf=Math.log;var Zf=mf.extend({type:"log",base:10,$constructor:function(){mf.apply(this,arguments);this._originalScale=new kf},getTicks:function(){var t=this._originalScale;var e=this._extent;var r=t.getExtent();return L(Ff.getTicks.call(this),function(i){var n=en(qf(this.base,i));n=i===e[0]&&t.__fixMin?Yf(n,r[0]):n;n=i===e[1]&&t.__fixMax?Yf(n,r[1]):n;return n},this)},getLabel:Ff.getLabel,scale:function(t){t=Nf.scale.call(this,t);return qf(this.base,t)},setExtent:function(t,e){var r=this.base;t=Xf(t)/Xf(r);e=Xf(e)/Xf(r);Ff.setExtent.call(this,t,e)},getExtent:function(){var t=this.base;var e=Nf.getExtent.call(this);e[0]=qf(t,e[0]);e[1]=qf(t,e[1]);var r=this._originalScale;var i=r.getExtent();r.__fixMin&&(e[0]=Yf(e[0],i[0]));r.__fixMax&&(e[1]=Yf(e[1],i[1]));return e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Xf(t[0])/Xf(e);t[1]=Xf(t[1])/Xf(e);Nf.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getDataExtent(e,true,function(t){return t>0}))},niceTicks:function(t){t=t||10;var e=this._extent;var r=e[1]-e[0];if(r===Infinity||r<=0){return}var i=hn(r);var n=t/r*i;if(n<=.5){i*=10}while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0){i*=10}var a=[en(Vf(e[0]/i)*i),en(Gf(e[1]/i)*i)];this._interval=i;this._niceExtent=a},niceExtent:function(t){Ff.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin;e.__fixMax=t.fixMax}});A(["contain","normalize"],function(t){Zf.prototype[t]=function(e){e=Xf(e)/Xf(this.base);return Nf[t].call(this,e)}});Zf.create=function(){return new Zf};function Yf(t,e){return Hf(t,Wf(e))}function Uf(t,e){var r=t.type;var i=e.getMin();var n=e.getMax();var a=i!=null;var o=n!=null;var s=t.getExtent();var l;var h;var u;if(r==="ordinal"){l=(e.get("data")||[]).length}else{h=e.get("boundaryGap");if(!B(h)){h=[h||0,h||0]}if(typeof h[0]==="boolean"){h=[0,0]}h[0]=tn(h[0],1);h[1]=tn(h[1],1);u=s[1]-s[0]||Math.abs(s[0])}if(i==null){i=r==="ordinal"?l?0:NaN:s[0]-h[0]*u}if(n==null){n=r==="ordinal"?l?l-1:NaN:s[1]+h[1]*u}if(i==="dataMin"){i=s[0]}else if(typeof i==="function"){i=i({min:s[0],max:s[1]})}if(n==="dataMax"){n=s[1]}else if(typeof n==="function"){n=n({min:s[0],max:s[1]})}(i==null||!isFinite(i))&&(i=NaN);(n==null||!isFinite(n))&&(n=NaN);t.setBlank(H(i)||H(n));if(e.getNeedCrossZero()){if(i>0&&n>0&&!a){i=0}if(i<0&&n<0&&!o){n=0}}return[i,n]}function jf(t,e){var r=Uf(t,e);var i=e.getMin()!=null;var n=e.getMax()!=null;var a=e.get("splitNumber");if(t.type==="log"){t.base=e.get("logBase")}var o=t.type;t.setExtent(r[0],r[1]);t.niceExtent({splitNumber:a,fixMin:i,fixMax:n,minInterval:o==="interval"||o==="time"?e.get("minInterval"):null,maxInterval:o==="interval"||o==="time"?e.get("maxInterval"):null});var s=e.get("interval");if(s!=null){t.setInterval&&t.setInterval(s)}}function $f(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new _f(t.getCategories(),[Infinity,-Infinity]);case"value":return new kf;default:return(mf.getClass(e)||kf).create(t)}}}function Qf(t){var e=t.scale.getExtent();var r=e[0];var i=e[1];return!(r>0&&i>0||r<0&&i<0)}function Kf(t,e,r,i,n){var a;var o=0;var s=0;var l=(i-n)/180*Math.PI;var h=1;if(e.length>40){h=Math.floor(e.length/40)}for(var u=0;u<t.length;u+=h){var f=t[u];var c=br(e[u],r,"center","top");c.x+=f*Math.cos(l);c.y+=f*Math.sin(l);c.width*=1.3;c.height*=1.3;if(!a){a=c.clone()}else if(a.intersect(c)){s++;o=Math.max(o,s)}else{a.union(c);s=0}}if(o===0&&h>1){return h}return(o+1)*h-1}function Jf(t,e){var r=t.scale;var i=r.getTicksLabels();var n=r.getTicks();if(typeof e==="string"){e=function(t){return function(e){return t.replace("{value}",e!=null?e:"")}}(e);return L(i,e)}else if(typeof e==="function"){return L(n,function(r,i){return e(tc(t,r),i)},this)}else{return i}}function tc(t,e){return t.type==="category"?t.scale.getLabel(e):e}function ec(t){return this._axes[t]}var rc=function(t){this._axes={};this._dimList=[];this.name=t||""};rc.prototype={constructor:rc,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return L(this._dimList,ec,this)},getAxesByScale:function(t){t=t.toLowerCase();return D(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t;this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){var r=this._dimList;var i=t instanceof Array?[]:{};for(var n=0;n<r.length;n++){var a=r[n];var o=this._axes[a];i[a]=o[e](t[a])}return i}};function ic(t){rc.call(this,t)}ic.prototype={constructor:ic,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x");var r=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e){var r=this.getAxis("x");var i=this.getAxis("y");return[r.toGlobalCoord(r.dataToCoord(t[0],e)),i.toGlobalCoord(i.dataToCoord(t[1],e))]},pointToData:function(t,e){var r=this.getAxis("x");var i=this.getAxis("y");return[r.coordToData(r.toLocalCoord(t[0]),e),i.coordToData(i.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis(t.dim==="x"?"y":"x")}};C(ic,rc);var nc=Ji;function ac(t,e){var r=t[1]-t[0];var i=e;var n=r/i/2;t[0]+=n;t[1]-=n}var oc=[0,1];var sc=function(t,e,r){this.dim=t;this.scale=e;this._extent=r||[0,0];this.inverse=false;this.onBand=false;this._labelInterval};sc.prototype={constructor:sc,contain:function(t){var e=this._extent;var r=Math.min(e[0],e[1]);var i=Math.max(e[0],e[1]);return t>=r&&t<=i},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return nn(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var r=this._extent;r[0]=t;r[1]=e},dataToCoord:function(t,e){var r=this._extent;var i=this.scale;t=i.normalize(t);if(this.onBand&&i.type==="ordinal"){r=r.slice();ac(r,i.count())}return nc(t,oc,r,e)},coordToData:function(t,e){var r=this._extent;var i=this.scale;if(this.onBand&&i.type==="ordinal"){r=r.slice();ac(r,i.count())}var n=nc(t,r,oc,e);return this.scale.scale(n)},pointToData:function(t,e){},getTicksCoords:function(t){if(this.onBand&&!t){var e=this.getBands();var r=[];for(var i=0;i<e.length;i++){r.push(e[i][0])}if(e[i-1]){r.push(e[i-1][1])}return r}else{return L(this.scale.getTicks(),this.dataToCoord,this)}},getLabelsCoords:function(){return L(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var t=this.getExtent();var e=[];var r=this.scale.count();var i=t[0];var n=t[1];var a=n-i;for(var o=0;o<r;o++){e.push([a*o/r+i,a*(o+1)/r+i])}return e},getBandWidth:function(){var t=this._extent;var e=this.scale.getExtent();var r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},isHorizontal:null,getRotate:null,getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model;var r=e.getModel("axisLabel");t=r.get("interval");if(this.type==="category"&&(t==null||t==="auto")){t=Kf(L(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),r.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,r.get("rotate"))}this._labelInterval=t}return t}};var lc=function(t,e,r,i,n){sc.call(this,t,e,r);this.type=i||"value";this.position=n||"bottom"};lc.prototype={constructor:lc,index:0,onZero:false,model:null,isHorizontal:function(){var t=this.position;return t==="top"||t==="bottom"},getGlobalExtent:function(t){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);t&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(t){if(this.type==="category"){var e=this.getLabelInterval();return typeof e==="function"&&!e(t,this.scale.getLabel(t))||t%(e+1)}},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),e)},toLocalCoord:null,toGlobalCoord:null};C(lc,sc);var hc={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var uc={};uc.categoryAxis=y({boundaryGap:true,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},hc);uc.valueAxis=y({boundaryGap:[0,0],splitNumber:5},hc);uc.timeAxis=w({scale:true,min:"dataMin",max:"dataMax"},uc.valueAxis);uc.logAxis=w({scale:true,logBase:10},uc.valueAxis);var fc=["value","category","time","log"];var cc=function(t,e,r,i){A(fc,function(n){e.extend({type:t+"Axis."+n,mergeDefaultAndTheme:function(e,i){var a=this.layoutMode;var o=a?kl(e):{};var s=i.getTheme();y(e,s.get(n+"Axis"));y(e,this.getDefaultOption());e.type=r(t,e);if(a){Cl(e,o,a)}},defaultOption:_([{},uc[n+"Axis"],i],true)})});Pl.registerSubTypeDefaulter(t+"Axis",z(r,t))};function vc(t){if(N(t)&&t.value!=null){return t.value}else{return t+""}}var dc={getFormattedLabels:function(){return Jf(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return this.get("type")==="category"&&L(this.get("data"),vc)},getMin:function(t){var e=this.option;var r=!t&&e.rangeStart!=null?e.rangeStart:e.min;if(this.axis&&r!=null&&r!=="dataMin"&&typeof r!=="function"&&!H(r)){r=this.axis.scale.parse(r)}return r},getMax:function(t){var e=this.option;var r=!t&&e.rangeEnd!=null?e.rangeEnd:e.max;if(this.axis&&r!=null&&r!=="dataMax"&&typeof r!=="function"&&!H(r)){r=this.axis.scale.parse(r)}return r},getNeedCrossZero:function(){var t=this.option;return t.rangeStart!=null||t.rangeEnd!=null?false:!t.scale},getCoordSysModel:et,setRange:function(t,e){this.option.rangeStart=t;this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var pc=Pl.extend({type:"cartesian2dAxis",axis:null,init:function(){pc.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){pc.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){pc.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function gc(t,e){return e.type||(e.data?"category":"value")}y(pc.prototype,dc);var mc={offset:0};cc("x",pc,gc,mc);cc("y",pc,gc,mc);Pl.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var yc=A;var _c=Qf;var xc=jf;function wc(t,e,r){return t.getCoordSysModel()===e}function bc(t,e){var r=e*Math.PI/180;var i=t.plain();var n=i.width;var a=i.height;var o=n*Math.cos(r)+a*Math.sin(r);var s=n*Math.sin(r)+a*Math.cos(r);var l=new Ne(i.x,i.y,o,s);return l}function Sc(t){var e=t.model;var r=e.getFormattedLabels();var i=e.getModel("axisLabel");var n;var a=1;var o=r.length;if(o>40){a=Math.ceil(o/40)}for(var s=0;s<o;s+=a){if(!t.isLabelIgnored(s)){var l=i.getTextRect(r[s]);var h=bc(l,i.get("rotate")||0);n?n.union(h):n=h}}return n}function Mc(t,e,r){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(t,e,r);this.model=t}var Tc=Mc.prototype;Tc.type="grid";Tc.axisPointerEnabled=true;Tc.getRect=function(){return this._rect};Tc.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);yc(r.x,function(t){xc(t.scale,t.model)});yc(r.y,function(t){xc(t.scale,t.model)});yc(r.x,function(t){Cc(r,"y",t)});yc(r.y,function(t){Cc(r,"x",t)});this.resize(this.model,e)};function Cc(t,e,r){var i=t[e];if(!r.onZero){return}var n=r.onZeroAxisIndex;if(n!=null){var a=i[n];if(a&&kc(a)){r.onZero=false}return}for(var o in i){if(i.hasOwnProperty(o)){var a=i[o];if(a&&!kc(a)){n=+o;break}}}if(n==null){r.onZero=false}r.onZeroAxisIndex=n}function kc(t){return t.type==="category"||t.type==="time"||!_c(t)}Tc.resize=function(t,e,r){var i=Tl(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var n=this._axesList;a();if(!r&&t.get("containLabel")){yc(n,function(t){if(!t.model.get("axisLabel.inside")){var e=Sc(t);if(e){var r=t.isHorizontal()?"height":"width";var n=t.model.get("axisLabel.margin");i[r]-=e[r]+n;if(t.position==="top"){i.y+=e.height+n}else if(t.position==="left"){i.x+=e.width+n}}}});a()}function a(){yc(n,function(t){var e=t.isHorizontal();var r=e?[0,i.width]:[0,i.height];var n=t.inverse?1:0;t.setExtent(r[n],r[1-n]);Ic(t,e?i.x:i.y)})}};Tc.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null){if(e==null){for(var i in r){if(r.hasOwnProperty(i)){return r[i]}}}return r[e]}};Tc.getAxes=function(){return this._axesList.slice()};Tc.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}if(N(t)){e=t.yAxisIndex;t=t.xAxisIndex}for(var i=0,n=this._coordsList;i<n.length;i++){if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===e){return n[i]}}};Tc.getCartesians=function(){return this._coordsList.slice()};Tc.convertToPixel=function(t,e,r){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null};Tc.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null};Tc._findConvertTarget=function(t,e){var r=e.seriesModel;var i=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0];var n=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0];var a=e.gridModel;var o=this._coordsList;var s;var l;if(r){s=r.coordinateSystem;T(o,s)<0&&(s=null)}else if(i&&n){s=this.getCartesian(i.componentIndex,n.componentIndex)}else if(i){l=this.getAxis("x",i.componentIndex)}else if(n){l=this.getAxis("y",n.componentIndex)}else if(a){var h=a.coordinateSystem;if(h===this){s=this._coordsList[0]}}return{cartesian:s,axis:l}};Tc.containPoint=function(t){var e=this._coordsList[0];if(e){return e.containPoint(t)}};Tc._initCartesian=function(t,e,r){var i={left:false,right:false,top:false,bottom:false};var n={x:{},y:{}};var a={x:0,y:0};e.eachComponent("xAxis",o("x"),this);e.eachComponent("yAxis",o("y"),this);if(!a.x||!a.y){this._axesMap={};this._axesList=[];return}this._axesMap=n;yc(n.x,function(e,r){yc(n.y,function(i,n){var a="x"+r+"y"+n;var o=new ic(a);o.grid=this;o.model=t;this._coordsMap[a]=o;this._coordsList.push(o);o.addAxis(e);o.addAxis(i)},this)},this);function o(r){return function(o,s){if(!wc(o,t,e)){return}var l=o.get("position");if(r==="x"){if(l!=="top"&&l!=="bottom"){l="bottom";if(i[l]){l=l==="top"?"bottom":"top"}}}else{if(l!=="left"&&l!=="right"){l="left";if(i[l]){l=l==="left"?"right":"left"}}}i[l]=true;var h=new lc(r,$f(o),[0,0],o.get("type"),l);var u=h.type==="category";h.onBand=u&&o.get("boundaryGap");h.inverse=o.get("inverse");h.onZero=o.get("axisLine.onZero");h.onZeroAxisIndex=o.get("axisLine.onZeroAxisIndex");o.axis=h;h.model=o;h.grid=this;h.index=s;this._axesList.push(h);n[r][s]=h;a[r]++}}};Tc._updateScale=function(t,e){A(this._axesList,function(t){t.scale.setExtent(Infinity,-Infinity)});t.eachSeries(function(i){if(Pc(i)){var n=Lc(i,t);var a=n[0];var o=n[1];if(!wc(a,e,t)||!wc(o,e,t)){return}var s=this.getCartesian(a.componentIndex,o.componentIndex);var l=i.getData();var h=s.getAxis("x");var u=s.getAxis("y");if(l.type==="list"){r(l,h,i);r(l,u,i)}}},this);function r(t,e,r){yc(r.coordDimToDataDim(e.dim),function(r){e.scale.unionExtentFromData(t,r)})}};Tc.getTooltipAxes=function(t){var e=[];var r=[];yc(this.getCartesians(),function(i){var n=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis();var a=i.getOtherAxis(n);T(e,n)<0&&e.push(n);T(r,a)<0&&r.push(a)});return{baseAxes:e,otherAxes:r}};function Ic(t,e){var r=t.getExtent();var i=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=t.dim==="x"?function(t){return t-e}:function(t){return i-t+e}}var Ac=["xAxis","yAxis"];function Lc(t,e){return L(Ac,function(e){var r=t.getReferringComponents(e)[0];return r})}function Pc(t){return t.get("coordinateSystem")==="cartesian2d"}Mc.create=function(t,e){var r=[];t.eachComponent("grid",function(i,n){var a=new Mc(i,t,e);a.name="grid_"+n;a.resize(i,e,true);i.coordinateSystem=a;r.push(a)});t.eachSeries(function(e){if(!Pc(e)){return}var r=Lc(e,t);var i=r[0];var n=r[1];var a=i.getCoordSysModel();var o=a.coordinateSystem;e.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)});return r};Mc.dimensions=Mc.prototype.dimensions=ic.prototype.dimensions;Jl.register("cartesian2d",Mc);function Dc(t){return t}function Oc(t,e,r,i,n){this._old=t;this._new=e;this._oldKeyGetter=r||Dc;this._newKeyGetter=i||Dc;this.context=n}Oc.prototype={constructor:Oc,add:function(t){this._add=t;return this},update:function(t){this._update=t;return this},remove:function(t){this._remove=t;return this},execute:function(){var t=this._old;var e=this._new;var r={};var i={};var n=[];var a=[];var o;zc(t,r,n,"_oldKeyGetter",this);zc(e,i,a,"_newKeyGetter",this);for(o=0;o<t.length;o++){var s=n[o];var l=i[s];if(l!=null){var h=l.length;if(h){h===1&&(i[s]=null);l=l.unshift()}else{i[s]=null}this._update&&this._update(l,o)}else{this._remove&&this._remove(o)}}for(var o=0;o<a.length;o++){var s=a[o];if(i.hasOwnProperty(s)){var l=i[s];if(l==null){continue}if(!l.length){this._add&&this._add(l)}else{for(var u=0,h=l.length;u<h;u++){this._add&&this._add(l[u])}}}}}};function zc(t,e,r,i,n){for(var a=0;a<t.length;a++){var o="_ec_"+n[i](t[a],a);var s=e[o];if(s==null){r.push(o);e[o]=a}else{if(!s.length){e[o]=s=[s]}s.push(a)}}}var Bc=N;var Ec="undefined";var Rc=typeof window===Ec?global:window;var Nc={float:typeof Rc.Float64Array===Ec?Array:Rc.Float64Array,int:typeof Rc.Int32Array===Ec?Array:Rc.Int32Array,ordinal:Array,number:Array,time:Array};var Fc=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];function Wc(t,e){A(Fc.concat(e.__wrappedMethods||[]),function(r){if(e.hasOwnProperty(r)){t[r]=e[r]}});t.__wrappedMethods=e.__wrappedMethods}function Hc(t){this._array=t||[]}Hc.prototype.pure=false;Hc.prototype.count=function(){return this._array.length};Hc.prototype.getItem=function(t){return this._array[t]};var Gc=function(t,e){t=t||["x","y"];var r={};var i=[];for(var n=0;n<t.length;n++){var a;var o={};if(typeof t[n]==="string"){a=t[n];o={name:a,coordDim:a,coordDimIndex:0,stackable:false,type:"number"}}else{o=t[n];a=o.name;o.type=o.type||"number";if(!o.coordDim){o.coordDim=a;o.coordDimIndex=0}}o.otherDims=o.otherDims||{};i.push(a);r[a]=o}this.dimensions=i;this._dimensionInfos=r;this.hostModel=e;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent};var Vc=Gc.prototype;Vc.type="list";Vc.hasItemOption=true;Vc.getDimension=function(t){if(!isNaN(t)){t=this.dimensions[t]||t}return t};Vc.getDimensionInfo=function(t){return m(this._dimensionInfos[this.getDimension(t)])};Vc.initData=function(t,e,r){t=t||[];var i=B(t);if(i){t=new Hc(t)}this._rawData=t;var n=this._storage={};var a=this.indices=[];var o=this.dimensions;var s=this._dimensionInfos;var l=t.count();var h=[];var u={};var f;e=e||[];for(var c=0;c<o.length;c++){var v=s[o[c]];v.otherDims.itemName===0&&(f=c);var d=Nc[v.type];n[o[c]]=new d(l)}var p=this;if(!r){p.hasItemOption=false}r=r||function(t,e,r,i){var n=el(t);if(rl(t)){p.hasItemOption=true}return il(n instanceof Array?n[i]:n,s[e])};for(var c=0;c<l;c++){var g=t.getItem(c);for(var m=0;m<o.length;m++){var y=o[m];var _=n[y];_[c]=r(g,y,c,m)}a.push(c)}for(var c=0;c<l;c++){var g=t.getItem(c);if(!e[c]&&g){if(g.name!=null){e[c]=g.name}else if(f!=null){e[c]=n[o[f]][c]}}var x=e[c]||"";var w=g&&g.id;if(!w&&x){u[x]=u[x]||0;w=x;if(u[x]>0){w+="__ec__"+u[x]}u[x]++}w&&(h[c]=w)}this._nameList=e;this._idList=h};Vc.count=function(){return this.indices.length};Vc.get=function(t,e,r){var i=this._storage;var n=this.indices[e];if(n==null||!i[t]){return NaN}var a=i[t][n];if(r){var o=this._dimensionInfos[t];if(o&&o.stackable){var s=this.stackedOn;while(s){var l=s.get(t,e);if(a>=0&&l>0||a<=0&&l<0){a+=l}s=s.stackedOn}}}return a};Vc.getValues=function(t,e,r){var i=[];if(!B(t)){r=e;e=t;t=this.dimensions}for(var n=0,a=t.length;n<a;n++){i.push(this.get(t[n],e,r))}return i};Vc.hasValue=function(t){var e=this.dimensions;var r=this._dimensionInfos;for(var i=0,n=e.length;i<n;i++){if(r[e[i]].type!=="ordinal"&&isNaN(this.get(e[i],t))){return false}}return true};Vc.getDataExtent=function(t,e,r){t=this.getDimension(t);var i=this._storage[t];var n=this.getDimensionInfo(t);e=n&&n.stackable&&e;var a=(this._extent||(this._extent={}))[t+!!e];var o;if(a){return a}if(i){var s=Infinity;var l=-Infinity;for(var h=0,u=this.count();h<u;h++){o=this.get(t,h,e);if(!r||r(o,t,h)){o<s&&(s=o);o>l&&(l=o)}}return this._extent[t+!!e]=[s,l]}else{return[Infinity,-Infinity]}};Vc.getSum=function(t,e){var r=this._storage[t];var i=0;if(r){for(var n=0,a=this.count();n<a;n++){var o=this.get(t,n,e);if(!isNaN(o)){i+=o}}}return i};Vc.indexOf=function(t,e){var r=this._storage;var i=r[t];var n=this.indices;if(i){for(var a=0,o=n.length;a<o;a++){var s=n[a];if(i[s]===e){return a}}}return-1};Vc.indexOfName=function(t){var e=this.indices;var r=this._nameList;for(var i=0,n=e.length;i<n;i++){var a=e[i];if(r[a]===t){return i}}return-1};Vc.indexOfRawIndex=function(t){var e=this.indices;var r=e[t];if(r!=null&&r===t){return t}var i=0;var n=e.length-1;while(i<=n){var a=(i+n)/2|0;if(e[a]<t){i=a+1}else if(e[a]>t){n=a-1}else{return a}}return-1};Vc.indicesOfNearest=function(t,e,r,i){var n=this._storage;var a=n[t];var o=[];if(!a){return o}if(i==null){i=Infinity}var s=Number.MAX_VALUE;var l=-1;for(var h=0,u=this.count();h<u;h++){var f=e-this.get(t,h,r);var c=Math.abs(f);if(f<=i&&c<=s){if(c<s||f>=0&&l<0){s=c;l=f;o.length=0}o.push(h)}}return o};Vc.getRawIndex=function(t){var e=this.indices[t];return e==null?-1:e};Vc.getRawDataItem=function(t){return this._rawData.getItem(this.getRawIndex(t))};Vc.getName=function(t){return this._nameList[this.indices[t]]||""};Vc.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""};function qc(t){if(!B(t)){t=[t]}return t}Vc.each=function(t,e,r,i){if(typeof t==="function"){i=r;r=e;e=t;t=[]}t=L(qc(t),this.getDimension,this);var n=[];var a=t.length;var o=this.indices;i=i||this;for(var s=0;s<o.length;s++){switch(a){case 0:e.call(i,s);break;case 1:e.call(i,this.get(t[0],s,r),s);break;case 2:e.call(i,this.get(t[0],s,r),this.get(t[1],s,r),s);break;default:for(var l=0;l<a;l++){n[l]=this.get(t[l],s,r)}n[l]=s;e.apply(i,n)}}};Vc.filterSelf=function(t,e,r,i){if(typeof t==="function"){i=r;r=e;e=t;t=[]}t=L(qc(t),this.getDimension,this);var n=[];var a=[];var o=t.length;var s=this.indices;i=i||this;for(var l=0;l<s.length;l++){var h;if(!o){h=e.call(i,l)}else if(o===1){h=e.call(i,this.get(t[0],l,r),l)}else{for(var u=0;u<o;u++){a[u]=this.get(t[u],l,r)}a[u]=l;h=e.apply(i,a)}if(h){n.push(s[l])}}this.indices=n;this._extent={};return this};Vc.mapArray=function(t,e,r,i){if(typeof t==="function"){i=r;r=e;e=t;t=[]}var n=[];this.each(t,function(){n.push(e&&e.apply(this,arguments))},r,i);return n};function Xc(t,e){var r=t.dimensions;var i=new Gc(L(r,t.getDimensionInfo,t),t.hostModel);Wc(i,t);var n=i._storage={};var a=t._storage;for(var o=0;o<r.length;o++){var s=r[o];var l=a[s];if(T(e,s)>=0){n[s]=new l.constructor(a[s].length)}else{n[s]=a[s]}}return i}Vc.map=function(t,e,r,i){t=L(qc(t),this.getDimension,this);var n=Xc(this,t);var a=n.indices=this.indices;var o=n._storage;var s=[];this.each(t,function(){var r=arguments[arguments.length-1];var i=e&&e.apply(this,arguments);if(i!=null){if(typeof i==="number"){s[0]=i;i=s}for(var n=0;n<i.length;n++){var l=t[n];var h=o[l];var u=a[r];if(h){h[u]=i[n]}}}},r,i);return n};Vc.downSample=function(t,e,r,i){var n=Xc(this,[t]);var a=this._storage;var o=n._storage;var s=this.indices;var l=n.indices=[];var h=[];var u=[];var f=Math.floor(1/e);var c=o[t];var v=this.count();for(var d=0;d<a[t].length;d++){o[t][d]=a[t][d]}for(var d=0;d<v;d+=f){if(f>v-d){f=v-d;h.length=f}for(var p=0;p<f;p++){var g=s[d+p];h[p]=c[g];u[p]=g}var m=r(h);var g=u[i(h,m)||0];c[g]=m;l.push(g)}return n};Vc.getItemModel=function(t){var e=this.hostModel;t=this.indices[t];return new Ys(this._rawData.getItem(t),e,e&&e.ecModel)};Vc.diff=function(t){var e=this._idList;var r=t&&t._idList;var i;var n="e\0\0";return new Oc(t?t.indices:[],this.indices,function(t){return(i=r[t])!=null?i:n+t},function(t){return(i=e[t])!=null?i:n+t})};Vc.getVisual=function(t){var e=this._visual;return e&&e[t]};Vc.setVisual=function(t,e){if(Bc(t)){for(var r in t){if(t.hasOwnProperty(r)){this.setVisual(r,t[r])}}return}this._visual=this._visual||{};this._visual[t]=e};Vc.setLayout=function(t,e){if(Bc(t)){for(var r in t){if(t.hasOwnProperty(r)){this.setLayout(r,t[r])}}return}this._layout[t]=e};Vc.getLayout=function(t){return this._layout[t]};Vc.getItemLayout=function(t){return this._itemLayouts[t]};Vc.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?x(this._itemLayouts[t]||{},e):e};Vc.clearItemLayouts=function(){this._itemLayouts.length=0};Vc.getItemVisual=function(t,e,r){var i=this._itemVisuals[t];var n=i&&i[e];if(n==null&&!r){return this.getVisual(e)}return n};Vc.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i;if(Bc(e)){for(var n in e){if(e.hasOwnProperty(n)){i[n]=e[n]}}return}i[e]=r};Vc.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var Zc=function(t){t.seriesIndex=this.seriesIndex;t.dataIndex=this.dataIndex;t.dataType=this.dataType};Vc.setItemGraphicEl=function(t,e){var r=this.hostModel;if(e){e.dataIndex=t;e.dataType=this.dataType;e.seriesIndex=r&&r.seriesIndex;if(e.type==="group"){e.traverse(Zc,e)}}this._graphicEls[t]=e};Vc.getItemGraphicEl=function(t){return this._graphicEls[t]};Vc.eachItemGraphicEl=function(t,e){A(this._graphicEls,function(r,i){if(r){t&&t.call(e,r,i)}})};Vc.cloneShallow=function(){var t=L(this.dimensions,this.getDimensionInfo,this);var e=new Gc(t,this.hostModel);e._storage=this._storage;Wc(e,this);e.indices=this.indices.slice();if(this._extent){e._extent=x({},this._extent)}return e};Vc.wrapMethod=function(t,e){var r=this[t];if(typeof r!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(t);this[t]=function(){var t=r.apply(this,arguments);return e.apply(this,[t].concat(X(arguments)))}};Vc.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];Vc.CHANGABLE_METHODS=["filterSelf"];var Yc=A;var Uc=R;var jc=w;var $c={tooltip:1,label:1,itemName:1};function Qc(t,e,r){e=e||[];r=r||{};t=(t||[]).slice();var i=(r.dimsDef||[]).slice();var n=tt(r.encodeDef);var a=tt();var o=tt();var s=[];var l=r.dimCount;if(l==null){var h=Jc(e[0]);l=Math.max(B(h)&&h.length||1,t.length,i.length);Yc(t,function(t){var e=t.dimsDef;e&&(l=Math.max(l,e.length))})}for(var u=0;u<l;u++){var f=Uc(i[u])?{name:i[u]}:i[u]||{};var c=f.name;var v=s[u]={otherDims:{}};if(c!=null&&a.get(c)==null){v.name=v.tooltipName=c;a.set(c,u)}f.type!=null&&(v.type=f.type)}n.each(function(t,e){t=n.set(e,Ks(t).slice());Yc(t,function(r,i){Uc(r)&&(r=a.get(r));if(r!=null&&r<l){t[i]=r;_(s[r],e,i)}})});var d=0;Yc(t,function(t,e){var r;var t;var i;var a;if(Uc(t)){r=t;t={}}else{r=t.name;t=m(t);i=t.dimsDef;a=t.otherDims;t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var o=Ks(n.get(r));if(!o.length){for(var l=0;l<(i&&i.length||1);l++){while(d<s.length&&s[d].coordDim!=null){d++}d<s.length&&o.push(d++)}}Yc(o,function(e,n){var o=s[e];_(jc(o,t),r,n);if(o.name==null&&i){o.name=o.tooltipName=i[n]}a&&jc(o.otherDims,a)})});var p=r.extraPrefix||"value";for(var g=0;g<l;g++){var v=s[g]=s[g]||{};var y=v.coordDim;y==null&&(v.coordDim=x(p,o,r.extraFromZero),v.coordDimIndex=0,v.isExtraCoord=true);v.name==null&&(v.name=x(v.coordDim,a));v.type==null&&Kc(e,g)&&(v.type="ordinal")}return s;function _(t,e,r){if($c[e]){t.otherDims[e]=r}else{t.coordDim=e;t.coordDimIndex=r;o.set(e,true)}}function x(t,e,r){if(r||e.get(t)!=null){var i=0;while(e.get(t+i)!=null){i++}t+=i}e.set(t,true);return t}}var Kc=Qc.guessOrdinal=function(t,e){for(var r=0,i=t.length;r<i;r++){var n=Jc(t[r]);if(!B(n)){return false}var n=n[e];if(n!=null&&isFinite(n)&&n!==""){return false}else if(Uc(n)&&n!=="-"){return true}}return false};function Jc(t){return B(t)?t:N(t)?t.value:t}function tv(t){var e=0;while(e<t.length&&t[e]==null){e++}return t[e]}function ev(t){var e=tv(t);return e!=null&&!B(el(e))}function rv(t,e,r){t=t||[];var i=e.get("coordinateSystem");var n=av[i];var a=Jl.get(i);var o={encodeDef:e.get("encode"),dimsDef:e.get("dimensions")};var s=n&&n(t,e,r,o);var l=s&&s.dimensions;if(!l){l=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"];l=Qc(l,t,o)}var h=s?s.categoryIndex:-1;var u=new Gc(l,e);var f=ov(s,t);var c={};var v=h>=0&&ev(t)?function(t,e,r,i){if(rl(t)){u.hasItemOption=true}return i===h?r:il(el(t),l[i])}:function(t,e,r,i){var n=el(t);var a=il(n&&n[i],l[i]);if(rl(t)){u.hasItemOption=true}var o=s&&s.categoryAxesModels;if(o&&o[e]){if(typeof a==="string"){c[e]=c[e]||o[e].getCategories();a=T(c[e],a);if(a<0&&!isNaN(a)){a=+a}}}return a};u.hasItemOption=false;u.initData(t,f,v);return u}function iv(t){return t!=="category"&&t!=="time"}function nv(t){return t==="category"?"ordinal":t==="time"?"time":"float"}var av={cartesian2d:function(t,e,r,i){var n=L(["xAxis","yAxis"],function(t){return r.queryComponents({mainType:t,index:e.get(t+"Index"),id:e.get(t+"Id")})[0]});var a=n[0];var o=n[1];var s=a.get("type");var l=o.get("type");var h=[{name:"x",type:nv(s),stackable:iv(s)},{name:"y",type:nv(l),stackable:iv(l)}];var u=s==="category";var f=l==="category";h=Qc(h,t,i);var c={};if(u){c.x=a}if(f){c.y=o}return{dimensions:h,categoryIndex:u?0:f?1:-1,categoryAxesModels:c}},singleAxis:function(t,e,r,i){var n=r.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];var a=n.get("type");var o=a==="category";var s=[{name:"single",type:nv(a),stackable:iv(a)}];s=Qc(s,t,i);var l={};if(o){l.single=n}return{dimensions:s,categoryIndex:o?0:-1,categoryAxesModels:l}},polar:function(t,e,r,i){var n=r.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];var a=n.findAxisModel("angleAxis");var o=n.findAxisModel("radiusAxis");var s=o.get("type");var l=a.get("type");var h=[{name:"radius",type:nv(s),stackable:iv(s)},{name:"angle",type:nv(l),stackable:iv(l)}];var u=l==="category";var f=s==="category";h=Qc(h,t,i);var c={};if(f){c.radius=o}if(u){c.angle=a}return{dimensions:h,categoryIndex:u?1:f?0:-1,categoryAxesModels:c}},geo:function(t,e,r,i){return{dimensions:Qc([{name:"lng"},{name:"lat"}],t,i)}}};function ov(t,e){var r=[];var i=t&&t.dimensions[t.categoryIndex];var n;if(i){n=t.categoryAxesModels[i.name]}if(n){var a=n.getCategories();if(a){var o=e.length;if(B(e[0])&&e[0].length>1){r=[];for(var s=0;s<o;s++){r[s]=a[e[s][t.categoryIndex||0]]}}else{r=a.slice(0)}}}return r}var sv=Ih.extend({type:"series.__base_bar__",getInitialData:function(t,e){return rv(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var r=e.dataToPoint(t,true);var i=this.getData();var n=i.getLayout("offset");var a=i.getLayout("size");var o=e.getBaseAxis().isHorizontal()?0:1;r[o]+=n+a/2;return r}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,itemStyle:{}}});sv.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});function lv(t,e,r,i,n,a,o){var s=r.getModel("label.normal");var l=r.getModel("label.emphasis");ws(t,e,s,l,{labelFetcher:n,labelDataIndex:a,defaultText:n.getRawValue(a),isRectText:true,autoColor:i});hv(t);hv(e)}function hv(t,e){if(t.textPosition==="outside"){t.textPosition=e}}var uv=zn([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var fv={getBarItemStyle:function(t){var e=uv(this,t);if(this.getBorderLineDash){var r=this.getBorderLineDash();r&&(e.lineDash=r)}return e}};var cv=["itemStyle","normal","barBorderWidth"];x(Ys.prototype,fv);af({type:"bar",render:function(t,e,r){var i=t.get("coordinateSystem");if(i==="cartesian2d"||i==="polar"){this._render(t,e,r)}else{}return this.group},dispose:et,_render:function(t,e,r){var i=this.group;var n=t.getData();var a=this._data;var o=t.coordinateSystem;var s=o.getBaseAxis();var l;if(o.type==="cartesian2d"){l=s.isHorizontal()}else if(o.type==="polar"){l=s.dim==="angle"}var h=t.isAnimationEnabled()?t:null;n.diff(a).add(function(e){if(!n.hasValue(e)){return}var r=n.getItemModel(e);var a=gv[o.type](n,e,r);var s=vv[o.type](n,e,r,a,l,h);n.setItemGraphicEl(e,s);i.add(s);mv(s,n,e,r,a,t,l,o.type==="polar")}).update(function(e,r){var s=a.getItemGraphicEl(r);if(!n.hasValue(e)){i.remove(s);return}var u=n.getItemModel(e);var f=gv[o.type](n,e,u);if(s){Ds(s,{shape:f},h,e)}else{s=vv[o.type](n,e,u,f,l,h,true)}n.setItemGraphicEl(e,s);i.add(s);mv(s,n,e,u,f,t,l,o.type==="polar")}).remove(function(t){var e=a.getItemGraphicEl(t);if(o.type==="cartesian2d"){e&&dv(t,h,e)}else{e&&pv(t,h,e)}}).execute();this._data=n},remove:function(t,e){var r=this.group;var i=this._data;if(t.get("animation")){if(i){i.eachItemGraphicEl(function(e){if(e.type==="sector"){pv(e.dataIndex,t,e)}else{dv(e.dataIndex,t,e)}})}}else{r.removeAll()}}});var vv={cartesian2d:function(t,e,r,i,n,a,o){var s=new No({shape:x({},i)});if(a){var l=s.shape;var h=n?"height":"width";var u={};l[h]=0;u[h]=i[h];Hs[o?"updateProps":"initProps"](s,{shape:u},a,e)}return s},polar:function(t,e,r,i,n,a,o){var s=new Lo({shape:x({},i)});if(a){var l=s.shape;var h=n?"r":"endAngle";var u={};l[h]=n?0:i.startAngle;u[h]=i[h];Hs[o?"updateProps":"initProps"](s,{shape:u},a,e)}return s}};function dv(t,e,r){r.style.text=null;Ds(r,{shape:{width:0}},e,t,function(){r.parent&&r.parent.remove(r)})}function pv(t,e,r){r.style.text=null;Ds(r,{shape:{r:r.shape.r0}},e,t,function(){r.parent&&r.parent.remove(r)})}var gv={cartesian2d:function(t,e,r){var i=t.getItemLayout(e);var n=yv(r,i);var a=i.width>0?1:-1;var o=i.height>0?1:-1;return{x:i.x+a*n/2,y:i.y+o*n/2,width:i.width-a*n,height:i.height-o*n}},polar:function(t,e,r){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function mv(t,e,r,i,n,a,o,s){var l=e.getItemVisual(r,"color");var h=e.getItemVisual(r,"opacity");var u=i.getModel("itemStyle.normal");var f=i.getModel("itemStyle.emphasis").getBarItemStyle();if(!s){t.setShape("r",u.get("barBorderRadius")||0)}t.useStyle(w({fill:l,opacity:h},u.getBarItemStyle()));var c=i.getShallow("cursor");c&&t.attr("cursor",c);var v=o?n.height>0?"bottom":"top":n.width>0?"left":"right";if(!s){lv(t.style,f,i,l,a,r,v)}xs(t,f)}function yv(t,e){var r=t.get(cv)||0;return Math.min(r,Math.abs(e.width),Math.abs(e.height))}var _v=Ko({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var n=e.width/2;var a=e.height/2;t.moveTo(r,i-a);t.lineTo(r+n,i+a);t.lineTo(r-n,i+a);t.closePath()}});var xv=Ko({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var n=e.width/2;var a=e.height/2;t.moveTo(r,i-a);t.lineTo(r+n,i);t.lineTo(r,i+a);t.lineTo(r-n,i);t.closePath()}});var wv=Ko({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x;var i=e.y;var n=e.width/5*3;var a=Math.max(n,e.height);var o=n/2;var s=o*o/(a-o);var l=i-a+o+s;var h=Math.asin(s/o);var u=Math.cos(h)*o;var f=Math.sin(h);var c=Math.cos(h);var v=o*.6;var d=o*.7;t.moveTo(r-u,l+s);t.arc(r,l,o,Math.PI-h,Math.PI*2+h);t.bezierCurveTo(r+u-f*v,l+s+c*v,r,i-d,r,i);t.bezierCurveTo(r,i-d,r-u+f*v,l+s+c*v,r-u,l+s);t.closePath()}});var bv=Ko({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height;var i=e.width;var n=e.x;var a=e.y;var o=i/3*2;t.moveTo(n,a);t.lineTo(n+o,a+r);t.lineTo(n,a+r/4*3);t.lineTo(n-o,a+r);t.lineTo(n,a);t.closePath()}});var Sv={line:Fo,rect:No,roundRect:No,square:No,circle:ko,diamond:xv,pin:wv,arrow:bv,triangle:_v};var Mv={line:function(t,e,r,i,n){n.x1=t;n.y1=e+i/2;n.x2=t+r;n.y2=e+i/2},rect:function(t,e,r,i,n){n.x=t;n.y=e;n.width=r;n.height=i},roundRect:function(t,e,r,i,n){n.x=t;n.y=e;n.width=r;n.height=i;n.r=Math.min(r,i)/4},square:function(t,e,r,i,n){var a=Math.min(r,i);n.x=t;n.y=e;n.width=a;n.height=a},circle:function(t,e,r,i,n){n.cx=t+r/2;n.cy=e+i/2;n.r=Math.min(r,i)/2},diamond:function(t,e,r,i,n){n.cx=t+r/2;n.cy=e+i/2;n.width=r;n.height=i},pin:function(t,e,r,i,n){n.x=t+r/2;n.y=e+i/2;n.width=r;n.height=i},arrow:function(t,e,r,i,n){n.x=t+r/2;n.y=e+i/2;n.width=r;n.height=i},triangle:function(t,e,r,i,n){n.cx=t+r/2;n.cy=e+i/2;n.width=r;n.height=i}};var Tv={};A(Sv,function(t,e){Tv[e]=new t});var Cv=Ko({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;var e=this.shape;if(e.symbolType==="pin"&&t.textPosition==="inside"){t.textPosition=["50%","40%"];t.textAlign="center";t.textVerticalAlign="middle"}},buildPath:function(t,e,r){var i=e.symbolType;var n=Tv[i];if(e.symbolType!=="none"){if(!n){i="rect";n=Tv[i]}Mv[i](e.x,e.y,e.width,e.height,n.shape);n.buildPath(t,n.shape,r)}}});function kv(t,e){if(this.type!=="image"){var r=this.style;var i=this.shape;if(i&&i.symbolType==="line"){r.stroke=t}else if(this.__isEmptyBrush){r.stroke=t;r.fill=e||"#fff"}else{r.fill&&(r.fill=t);r.stroke&&(r.stroke=t)}this.dirty(false)}}function Iv(t,e,r,i,n,a,o){var s=t.indexOf("empty")===0;if(s){t=t.substr(5,1).toLowerCase()+t.substr(6)}var l;if(t.indexOf("image://")===0){l=es(t.slice(8),new Ne(e,r,i,n),o?"center":"cover")}else if(t.indexOf("path://")===0){l=ts(t.slice(7),{},new Ne(e,r,i,n),o?"center":"cover")}else{l=new Cv({shape:{symbolType:t,x:e,y:r,width:i,height:n}})}l.__isEmptyBrush=s;l.setColor=kv;l.setColor(a);return l}var Av=Math.PI;function Lv(t){var e={componentType:t.mainType};e[t.mainType+"Index"]=t.componentIndex;return e}var Pv=function(t,e){this.opt=e;this.axisModel=t;w(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new Fe;var r=new Fe({position:e.position.slice(),rotation:e.rotation});r.updateTransform();this._transform=r.transform;this._dumbGroup=r};Pv.prototype={constructor:Pv,hasBuilder:function(t){return!!Dv[t]},add:function(t){Dv[t].call(this)},getGroup:function(){return this.group}};var Dv={axisLine:function(){var t=this.opt;var e=this.axisModel;if(!e.get("axisLine.show")){return}var r=this.axisModel.axis.getExtent();var i=this._transform;var n=[r[0],0];var a=[r[1],0];if(i){mt(n,n,i);mt(a,a,i)}var o=x({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Fo(as({anid:"line",shape:{x1:n[0],y1:n[1],x2:a[0],y2:a[1]},style:o,strokeContainThreshold:t.strokeContainThreshold||5,silent:true,z2:1})));var s=e.get("axisLine.symbol");var l=e.get("axisLine.symbolSize");if(s!=null){if(typeof s==="string"){s=[s,s]}if(typeof l==="string"||typeof l==="number"){l=[l,l]}var h=l[0];var u=l[1];A([[t.rotation+Math.PI/2,n],[t.rotation-Math.PI/2,a]],function(t,e){if(s[e]!=="none"&&s[e]!=null){var r=Iv(s[e],-h/2,-u/2,h,u,o.stroke,true);r.attr({rotation:t[0],position:t[1],silent:true});this.group.add(r)}},this)}},axisTickLabel:function(){var t=this.axisModel;var e=this.opt;var r=Gv(this,t,e);var i=Vv(this,t,e);Ev(t,i,r)},axisName:function(){var t=this.opt;var e=this.axisModel;var r=G(t.axisName,e.get("name"));if(!r){return}var i=e.get("nameLocation");var n=t.nameDirection;var a=e.getModel("nameTextStyle");var o=e.get("nameGap")||0;var s=this.axisModel.axis.getExtent();var l=s[0]>s[1]?-1:1;var h=[i==="start"?s[0]-l*o:i==="end"?s[1]+l*o:(s[0]+s[1])/2,Fv(i)?t.labelOffset+n*o:0];var u;var f=e.get("nameRotate");if(f!=null){f=f*Av/180}var c;if(Fv(i)){u=Ov(t.rotation,f!=null?f:t.rotation,n)}else{u=zv(t,i,f||0,s);c=t.axisNameAvailableWidth;if(c!=null){c=Math.abs(c/Math.sin(u.rotation));!isFinite(c)&&(c=null)}}var v=a.getFont();var d=e.get("nameTruncate",true)||{};var p=d.ellipsis;var g=G(t.nameTruncateMaxWidth,d.maxWidth,c);var m=p!=null&&g!=null?wn(r,g,v,p,{minChar:2,placeholder:d.placeholder}):r;var y=e.get("tooltip",true);var _=e.mainType;var w={componentType:_,name:r,$vars:["name"]};w[_+"Index"]=e.componentIndex;var b=new Co({anid:"name",__fullText:r,__truncatedText:m,position:h,rotation:u.rotation,silent:Bv(e),z2:1,tooltip:y&&y.show?x({content:r,formatter:function(){return r},formatterParams:w},y):null});bs(b.style,a,{text:m,textFont:v,textFill:a.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:u.textAlign,textVerticalAlign:u.textVerticalAlign});if(e.get("triggerEvent")){b.eventData=Lv(e);b.eventData.targetType="axisName";b.eventData.name=r}this._dumbGroup.add(b);b.updateTransform();this.group.add(b);b.decomposeTransform()}};var Ov=Pv.innerTextLayout=function(t,e,r){var i=an(e-t);var n;var a;if(on(i)){a=r>0?"top":"bottom";n="center"}else if(on(i-Av)){a=r>0?"bottom":"top";n="center"}else{a="middle";if(i>0&&i<Av){n=r>0?"right":"left"}else{n=r>0?"left":"right"}}return{rotation:i,textAlign:n,textVerticalAlign:a}};function zv(t,e,r,i){var n=an(r-t.rotation);var a;var o;var s=i[0]>i[1];var l=e==="start"&&!s||e!=="start"&&s;if(on(n-Av/2)){o=l?"bottom":"top";a="center"}else if(on(n-Av*1.5)){o=l?"top":"bottom";a="center"}else{o="middle";if(n<Av*1.5&&n>Av/2){a=l?"left":"right"}else{a=l?"right":"left"}}return{rotation:n,textAlign:a,textVerticalAlign:o}}function Bv(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function Ev(t,e,r){var i=t.get("axisLabel.showMinLabel");var n=t.get("axisLabel.showMaxLabel");e=e||[];r=r||[];var a=e[0];var o=e[1];var s=e[e.length-1];var l=e[e.length-2];var h=r[0];var u=r[1];var f=r[r.length-1];var c=r[r.length-2];if(i===false){Rv(a);Rv(h)}else if(Nv(a,o)){if(i){Rv(o);Rv(u)}else{Rv(a);Rv(h)}}if(n===false){Rv(s);Rv(f)}else if(Nv(l,s)){if(n){Rv(l);Rv(c)}else{Rv(s);Rv(f)}}}function Rv(t){t&&(t.ignore=true)}function Nv(t,e,r){var i=t&&t.getBoundingRect().clone();var n=e&&e.getBoundingRect().clone();if(!i||!n){return}var a=Dt([]);Et(a,a,-t.rotation);i.applyTransform(zt([],a,t.getLocalTransform()));n.applyTransform(zt([],a,e.getLocalTransform()));return i.intersect(n)}function Fv(t){return t==="middle"||t==="center"}var Wv=Pv.ifIgnoreOnTick=function(t,e,r,i,n,a){if(e===0&&n||e===i-1&&a){return false}var o;var s=t.scale;return s.type==="ordinal"&&(typeof r==="function"?(o=s.getTicks()[e],!r(o,s.getLabel(o))):e%(r+1))};var Hv=Pv.getInterval=function(t,e){var r=t.get("interval");if(r==null||r=="auto"){r=e}return r};function Gv(t,e,r){var i=e.axis;if(!e.get("axisTick.show")||i.scale.isBlank()){return}var n=e.getModel("axisTick");var a=n.getModel("lineStyle");var o=n.get("length");var s=Hv(n,r.labelInterval);var l=i.getTicksCoords(n.get("alignWithLabel"));var h=i.scale.getTicks();var u=e.get("axisLabel.showMinLabel");var f=e.get("axisLabel.showMaxLabel");var c=[];var v=[];var d=t._transform;var p=[];var g=l.length;for(var m=0;m<g;m++){if(Wv(i,m,s,g,u,f)){continue}var y=l[m];c[0]=y;c[1]=0;v[0]=y;v[1]=r.tickDirection*o;if(d){mt(c,c,d);mt(v,v,d)}var _=new Fo(as({anid:"tick_"+h[m],shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:w(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:true}));t.group.add(_);p.push(_)}return p}function Vv(t,e,r){var i=e.axis;var n=G(r.axisLabelShow,e.get("axisLabel.show"));if(!n||i.scale.isBlank()){return}var a=e.getModel("axisLabel");var o=a.get("margin");var s=i.scale.getTicks();var l=e.getFormattedLabels();var h=(G(r.labelRotate,a.get("rotate"))||0)*Av/180;var u=Ov(r.rotation,h,r.labelDirection);var f=e.get("data");var c=[];var v=Bv(e);var d=e.get("triggerEvent");var p=e.get("axisLabel.showMinLabel");var g=e.get("axisLabel.showMaxLabel");A(s,function(n,h){if(Wv(i,h,r.labelInterval,s.length,p,g)){return}var m=a;if(f&&f[n]&&f[n].textStyle){m=new Ys(f[n].textStyle,a,e.ecModel)}var y=m.getTextColor()||e.get("axisLine.lineStyle.color");var _=i.dataToCoord(n);var x=[_,r.labelOffset+r.labelDirection*o];var w=i.scale.getLabel(n);var b=new Co({anid:"label_"+n,position:x,rotation:u.rotation,silent:v,z2:10});bs(b.style,m,{text:l[h],textAlign:m.getShallow("align",true)||u.textAlign,textVerticalAlign:m.getShallow("verticalAlign",true)||m.getShallow("baseline",true)||u.textVerticalAlign,textFill:typeof y==="function"?y(i.type==="category"?w:i.type==="value"?n+"":n,h):y});if(d){b.eventData=Lv(e);b.eventData.targetType="axisLabel";b.eventData.value=w}t._dumbGroup.add(b);b.updateTransform();c.push(b);t.group.add(b);b.decomposeTransform()});return c}function qv(t){var e=Xv(t);if(!e){return}var r=e.axisPointerModel;var i=e.axis.scale;var n=r.option;var a=r.get("status");var o=r.get("value");if(o!=null){o=i.parse(o)}var s=Yv(r);if(a==null){n.status=s?"show":"hide"}var l=i.getExtent().slice();l[0]>l[1]&&l.reverse();if(o==null||o>l[1]){o=l[1]}if(o<l[0]){o=l[0]}n.value=o;if(s){n.status=e.axis.scale.isBlank()?"hide":"show"}}function Xv(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Uv(t)]}function Zv(t){var e=Xv(t);return e&&e.axisPointerModel}function Yv(t){return!!t.get("handle.show")}function Uv(t){return t.type+"||"+t.id}var jv=rf({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,r,i){this.axisPointerClass&&qv(t);jv.superApply(this,"render",arguments);$v(this,t,e,r,i,true)},updateAxisPointer:function(t,e,r,i,n){$v(this,t,e,r,i,false)},remove:function(t,e){var r=this._axisPointer;r&&r.remove(e);jv.superApply(this,"remove",arguments)},dispose:function(t,e){Qv(this,e);jv.superApply(this,"dispose",arguments)}});function $v(t,e,r,i,n,a){var o=jv.getAxisPointerClass(t.axisPointerClass);if(!o){return}var s=Zv(e);s?(t._axisPointer||(t._axisPointer=new o)).render(e,s,i,a):Qv(t,i)}function Qv(t,e,r){var i=t._axisPointer;i&&i.dispose(e,r);t._axisPointer=null}var Kv=[];jv.registerAxisPointerClass=function(t,e){Kv[t]=e};jv.getAxisPointerClass=function(t){return t&&Kv[t]};function Jv(t,e,r){r=r||{};var i=t.coordinateSystem;var n=e.axis;var a={};var o=n.position;var s=n.onZero?"onZero":o;var l=n.dim;var h=i.getRect();var u=[h.x,h.x+h.width,h.y,h.y+h.height];var f={left:0,right:1,top:0,bottom:1,onZero:2};var c=e.get("offset")||0;var v=l==="x"?[u[2]-c,u[3]+c]:[u[0]-c,u[1]+c];if(n.onZero){var d=i.getAxis(l==="x"?"y":"x",n.onZeroAxisIndex);var p=d.toGlobalCoord(d.dataToCoord(0));v[f["onZero"]]=Math.max(Math.min(p,v[1]),v[0])}a.position=[l==="y"?v[f[s]]:u[0],l==="x"?v[f[s]]:u[3]];a.rotation=Math.PI/2*(l==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[o];a.labelOffset=n.onZero?v[f[o]]-v[f["onZero"]]:0;if(e.get("axisTick.inside")){a.tickDirection=-a.tickDirection}if(G(r.labelInside,e.get("axisLabel.inside"))){a.labelDirection=-a.labelDirection}var m=e.get("axisLabel.rotate");a.labelRotate=s==="top"?-m:m;a.labelInterval=n.getLabelInterval();a.z2=1;return a}var td=Pv.ifIgnoreOnTick;var ed=Pv.getInterval;var rd=["axisLine","axisTickLabel","axisName"];var id=["splitArea","splitLine"];var nd=jv.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,r,i){this.group.removeAll();var n=this._axisGroup;this._axisGroup=new Fe;this.group.add(this._axisGroup);if(!t.get("show")){return}var a=t.getCoordSysModel();var o=Jv(a,t);var s=new Pv(t,o);A(rd,s.add,s);this._axisGroup.add(s.getGroup());A(id,function(e){if(t.get(e+".show")){this["_"+e](t,a,o.labelInterval)}},this);Rs(n,this._axisGroup,t);nd.superCall(this,"render",t,e,r,i)},_splitLine:function(t,e,r){var i=t.axis;if(i.scale.isBlank()){return}var n=t.getModel("splitLine");var a=n.getModel("lineStyle");var o=a.get("color");var s=ed(n,r);o=B(o)?o:[o];var l=e.coordinateSystem.getRect();var h=i.isHorizontal();var u=0;var f=i.getTicksCoords();var c=i.scale.getTicks();var v=t.get("axisLabel.showMinLabel");var d=t.get("axisLabel.showMaxLabel");var p=[];var g=[];var m=a.getLineStyle();for(var y=0;y<f.length;y++){if(td(i,y,s,f.length,v,d)){continue}var _=i.toGlobalCoord(f[y]);if(h){p[0]=_;p[1]=l.y;g[0]=_;g[1]=l.y+l.height}else{p[0]=l.x;p[1]=_;g[0]=l.x+l.width;g[1]=_}var x=u++%o.length;this._axisGroup.add(new Fo(as({anid:"line_"+c[y],shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:w({stroke:o[x]},m),silent:true})))}},_splitArea:function(t,e,r){var i=t.axis;if(i.scale.isBlank()){return}var n=t.getModel("splitArea");var a=n.getModel("areaStyle");var o=a.get("color");var s=e.coordinateSystem.getRect();var l=i.getTicksCoords();var h=i.scale.getTicks();var u=i.toGlobalCoord(l[0]);var f=i.toGlobalCoord(l[0]);var c=0;var v=ed(n,r);var d=a.getAreaStyle();o=B(o)?o:[o];var p=t.get("axisLabel.showMinLabel");var g=t.get("axisLabel.showMaxLabel");for(var m=1;m<l.length;m++){if(td(i,m,v,l.length,p,g)){continue}var y=i.toGlobalCoord(l[m]);var _;var x;var b;var S;if(i.isHorizontal()){_=u;x=s.y;b=y-_;S=s.height}else{_=s.x;x=f;b=s.width;S=y-x}var M=c++%o.length;this._axisGroup.add(new No({anid:"area_"+h[m],shape:{x:_,y:x,width:b,height:S},style:w({fill:o[M]},d),silent:true}));u=_+b;f=x+S}}});nd.extend({type:"xAxis"});nd.extend({type:"yAxis"});rf({type:"grid",render:function(t,e){this.group.removeAll();if(t.get("show")){this.group.add(new No({shape:t.coordinateSystem.getRect(),style:w({fill:t.get("backgroundColor")},t.getItemStyle()),silent:true,z2:-1}))}}});Zu(function(t){if(t.xAxis&&t.yAxis&&!t.grid){t.grid={}}});Ku(z(gf,"bar"));Ju(function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})});Ih.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return rv(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clipOverflow:true,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:false,connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function ad(t){var e;var r=cl(t,"label");if(r.length){e=r[0]}else{var i=t.dimensions.slice();var n;while(i.length&&(e=i.pop(),n=t.getDimensionInfo(e).type,n==="ordinal"||n==="time")){}}return e}function od(t,e){var r=t.getItemVisual(e,"symbolSize");return r instanceof Array?r.slice():[+r,+r]}function sd(t){return[t[0]/2,t[1]/2]}function ld(t,e,r){Fe.call(this);this.updateData(t,e,r)}var hd=ld.prototype;function ud(t,e){this.parent.drift(t,e)}hd._createSymbol=function(t,e,r,i){this.removeAll();var n=e.getItemVisual(r,"color");var a=Iv(t,-1,-1,2,2,n);a.attr({z2:100,culling:true,scale:sd(i)});a.drift=ud;this._symbolType=t;this.add(a)};hd.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)};hd.getSymbolPath=function(){return this.childAt(0)};hd.getScale=function(){return this.childAt(0).scale};hd.highlight=function(){this.childAt(0).trigger("emphasis")};hd.downplay=function(){this.childAt(0).trigger("normal")};hd.setZ=function(t,e){var r=this.childAt(0);r.zlevel=t;r.z=e};hd.setDraggable=function(t){var e=this.childAt(0);e.draggable=t;e.cursor=t?"move":"pointer"};hd.updateData=function(t,e,r){this.silent=false;var i=t.getItemVisual(e,"symbol")||"circle";var n=t.hostModel;var a=od(t,e);var o=i!==this._symbolType;if(o){this._createSymbol(i,t,e,a)}else{var s=this.childAt(0);s.silent=false;Ds(s,{scale:sd(a)},n,e)}this._updateCommon(t,e,a,r);if(o){var s=this.childAt(0);var l=r&&r.fadeIn;var h={scale:s.scale.slice()};l&&(h.style={opacity:s.style.opacity});s.scale=[0,0];l&&(s.style.opacity=0);Os(s,h,n,e)}this._seriesModel=n};var fd=["itemStyle","normal"];var cd=["itemStyle","emphasis"];var vd=["label","normal"];var dd=["label","emphasis"];hd._updateCommon=function(t,e,r,i){var n=this.childAt(0);var a=t.hostModel;var o=t.getItemVisual(e,"color");if(n.type!=="image"){n.useStyle({strokeNoScale:true})}var s=i&&i.itemStyle;var l=i&&i.hoverItemStyle;var h=i&&i.symbolRotate;var u=i&&i.symbolOffset;var f=i&&i.labelModel;var c=i&&i.hoverLabelModel;var v=i&&i.hoverAnimation;var d=i&&i.cursorStyle;if(!i||t.hasItemOption){var p=i&&i.itemModel?i.itemModel:t.getItemModel(e);s=p.getModel(fd).getItemStyle(["color"]);l=p.getModel(cd).getItemStyle();h=p.getShallow("symbolRotate");u=p.getShallow("symbolOffset");f=p.getModel(vd);c=p.getModel(dd);v=p.getShallow("hoverAnimation");d=p.getShallow("cursor")}else{l=x({},l)}var g=n.style;n.attr("rotation",(h||0)*Math.PI/180||0);if(u){n.attr("position",[tn(u[0],r[0]),tn(u[1],r[1])])}d&&n.attr("cursor",d);n.setColor(o,i&&i.symbolInnerColor);n.setStyle(s);var m=t.getItemVisual(e,"opacity");if(m!=null){g.opacity=m}var y=i&&i.useNameLabel;var _=!y&&ad(t);if(y||_!=null){ws(g,l,f,c,{labelFetcher:a,labelDataIndex:e,defaultText:y?t.getName(e):t.get(_,e),isRectText:true,autoColor:o})}n.off("mouseover").off("mouseout").off("emphasis").off("normal");n.hoverStyle=l;xs(n);var w=sd(r);if(v&&a.isAnimationEnabled()){var b=function(){var t=w[1]/w[0];this.animateTo({scale:[Math.max(w[0]*1.1,w[0]+3),Math.max(w[1]*1.1,w[1]+3*t)]},400,"elasticOut")};var S=function(){this.animateTo({scale:w},400,"elasticOut")};n.on("mouseover",b).on("mouseout",S).on("emphasis",b).on("normal",S)}};hd.fadeOut=function(t,e){var r=this.childAt(0);this.silent=r.silent=true;!(e&&e.keepLabel)&&(r.style.text=null);Ds(r,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)};C(ld,Fe);function pd(t){this.group=new Fe;this._symbolCtor=t||ld}var gd=pd.prototype;function md(t,e,r){var i=t.getItemLayout(e);return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(r&&r(e))&&t.getItemVisual(e,"symbol")!=="none"}gd.updateData=function(t,e){var r=this.group;var i=t.hostModel;var n=this._data;var a=this._symbolCtor;var o={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis"),cursorStyle:i.get("cursor")};t.diff(n).add(function(i){var n=t.getItemLayout(i);if(md(t,i,e)){var s=new a(t,i,o);s.attr("position",n);t.setItemGraphicEl(i,s);r.add(s)}}).update(function(s,l){var h=n.getItemGraphicEl(l);var u=t.getItemLayout(s);if(!md(t,s,e)){r.remove(h);return}if(!h){h=new a(t,s);h.attr("position",u)}else{h.updateData(t,s,o);Ds(h,{position:u},i)}r.add(h);t.setItemGraphicEl(s,h)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&e.fadeOut(function(){r.remove(e)})}).execute();this._data=t};gd.updateLayout=function(){var t=this._data;if(t){t.eachItemGraphicEl(function(e,r){var i=t.getItemLayout(r);e.attr("position",i)})}};gd.remove=function(t){var e=this.group;var r=this._data;if(r){if(t){r.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})})}else{e.removeAll()}}};function yd(t){return t>=0?1:-1}function _d(t,e,r){var i=t.getBaseAxis();var n=t.getOtherAxis(i);var a=i.onZero?0:n.scale.getExtent()[0];var o=n.dim;var s=o==="x"||o==="radius"?1:0;var l;var h=e.stackedOn;var u=e.get(o,r);while(h&&yd(h.get(o,r))===yd(u)){l=h;break}var f=[];f[s]=e.get(i.dim,r);f[1-s]=l?l.get(o,r,true):a;return t.dataToPoint(f)}function xd(t,e){var r=[];e.diff(t).add(function(t){r.push({cmd:"+",idx:t})}).update(function(t,e){r.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){r.push({cmd:"-",idx:t})}).execute();return r}var wd=function(t,e,r,i,n,a){var o=xd(t,e);var s=[];var l=[];var h=[];var u=[];var f=[];var c=[];var v=[];var d=a.dimensions;for(var p=0;p<o.length;p++){var g=o[p];var m=true;switch(g.cmd){case"=":var y=t.getItemLayout(g.idx);var _=e.getItemLayout(g.idx1);if(isNaN(y[0])||isNaN(y[1])){y=_.slice()}s.push(y);l.push(_);h.push(r[g.idx]);u.push(i[g.idx1]);v.push(e.getRawIndex(g.idx1));break;case"+":var x=g.idx;s.push(n.dataToPoint([e.get(d[0],x,true),e.get(d[1],x,true)]));l.push(e.getItemLayout(x).slice());h.push(_d(n,e,x));u.push(i[x]);v.push(e.getRawIndex(x));break;case"-":var x=g.idx;var w=t.getRawIndex(x);if(w!==x){s.push(t.getItemLayout(x));l.push(a.dataToPoint([t.get(d[0],x,true),t.get(d[1],x,true)]));h.push(r[x]);u.push(_d(a,t,x));v.push(w)}else{m=false}}if(m){f.push(g);c.push(c.length)}}c.sort(function(t,e){return v[t]-v[e]});var b=[];var S=[];var M=[];var T=[];var C=[];for(var p=0;p<c.length;p++){var x=c[p];b[p]=s[x];S[p]=l[x];M[p]=h[x];T[p]=u[x];C[p]=f[x]}return{current:b,next:S,stackedOnCurrent:M,stackedOnNext:T,status:C}};var bd=yt;var Sd=_t;var Md=st;var Td=nt;var Cd=[];var kd=[];var Id=[];function Ad(t){return isNaN(t[0])||isNaN(t[1])}function Ld(t,e,r,i,n,a,o,s,l,h,u){var f=0;var c=r;for(var v=0;v<i;v++){var d=e[c];if(c>=n||c<0){break}if(Ad(d)){if(u){c+=a;continue}break}if(c===r){t[a>0?"moveTo":"lineTo"](d[0],d[1]);Td(kd,d)}else{if(l>0){var p=c+a;var g=e[p];if(u){while(g&&Ad(e[p])){p+=a;g=e[p]}}var m=.5;var y=e[f];var g=e[p];if(!g||Ad(g)){Td(Id,d)}else{if(Ad(g)&&!u){g=d}lt(Cd,g,y);var _;var x;if(h==="x"||h==="y"){var w=h==="x"?0:1;_=Math.abs(d[w]-y[w]);x=Math.abs(d[w]-g[w])}else{_=dt(d,y);x=dt(d,g)}m=x/(x+_);Md(Id,d,Cd,-l*(1-m))}bd(kd,kd,s);Sd(kd,kd,o);bd(Id,Id,s);Sd(Id,Id,o);t.bezierCurveTo(kd[0],kd[1],Id[0],Id[1],d[0],d[1]);Md(kd,d,Cd,l*m)}else{t.lineTo(d[0],d[1])}}f=c;c+=a}return v}function Pd(t,e){var r=[Infinity,Infinity];var i=[-Infinity,-Infinity];if(e){for(var n=0;n<t.length;n++){var a=t[n];if(a[0]<r[0]){r[0]=a[0]}if(a[1]<r[1]){r[1]=a[1]}if(a[0]>i[0]){i[0]=a[0]}if(a[1]>i[1]){i[1]=a[1]}}}return{min:e?r:i,max:e?i:r}}var Dd=ao.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:Ao(ao.prototype.brush),buildPath:function(t,e){var r=e.points;var i=0;var n=r.length;var a=Pd(r,e.smoothConstraint);if(e.connectNulls){for(;n>0;n--){if(!Ad(r[n-1])){break}}for(;i<n;i++){if(!Ad(r[i])){break}}}while(i<n){i+=Ld(t,r,i,n,n,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}});var Od=ao.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:Ao(ao.prototype.brush),buildPath:function(t,e){var r=e.points;var i=e.stackedOnPoints;var n=0;var a=r.length;var o=e.smoothMonotone;var s=Pd(r,e.smoothConstraint);var l=Pd(i,e.smoothConstraint);if(e.connectNulls){for(;a>0;a--){if(!Ad(r[a-1])){break}}for(;n<a;n++){if(!Ad(r[n])){break}}}while(n<a){var h=Ld(t,r,n,a,a,1,s.min,s.max,e.smooth,o,e.connectNulls);Ld(t,i,n+h-1,h,a,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls);n+=h+1;t.closePath()}}});function zd(t,e){if(t.length!==e.length){return}for(var r=0;r<t.length;r++){var i=t[r];var n=e[r];if(i[0]!==n[0]||i[1]!==n[1]){return}}return true}function Bd(t){return typeof t==="number"?t:t?.3:0}function Ed(t){var e=t.getGlobalExtent();if(t.onBand){var r=t.getBandWidth()/2-1;var i=e[1]>e[0]?1:-1;e[0]+=i*r;e[1]-=i*r}return e}function Rd(t){return t>=0?1:-1}function Nd(t,e){var r=t.getBaseAxis();var i=t.getOtherAxis(r);var n=0;if(!r.onZero){var a=i.scale.getExtent();if(a[0]>0){n=a[0]}else if(a[1]<0){n=a[1]}}var o=i.dim;var s=o==="x"||o==="radius"?1:0;return e.mapArray([o],function(i,a){var l;var h=e.stackedOn;while(h&&Rd(h.get(o,a))===Rd(i)){l=h;break}var u=[];u[s]=e.get(r.dim,a);u[1-s]=l?l.get(o,a,true):n;return t.dataToPoint(u)},true)}function Fd(t,e,r){var i=Ed(t.getAxis("x"));var n=Ed(t.getAxis("y"));var a=t.getBaseAxis().isHorizontal();var o=Math.min(i[0],i[1]);var s=Math.min(n[0],n[1]);var l=Math.max(i[0],i[1])-o;var h=Math.max(n[0],n[1])-s;var u=r.get("lineStyle.normal.width")||2;var f=r.get("clipOverflow")?u/2:Math.max(l,h);if(a){s-=f;h+=f*2}else{o-=f;l+=f*2}var c=new No({shape:{x:o,y:s,width:l,height:h}});if(e){c.shape[a?"width":"height"]=0;Os(c,{shape:{width:l,height:h}},r)}return c}function Wd(t,e,r){var i=t.getAngleAxis();var n=t.getRadiusAxis();var a=n.getExtent();var o=i.getExtent();var s=Math.PI/180;var l=new Lo({shape:{cx:t.cx,cy:t.cy,r0:a[0],r:a[1],startAngle:-o[0]*s,endAngle:-o[1]*s,clockwise:i.inverse}});if(e){l.shape.endAngle=-o[0]*s;Os(l,{shape:{endAngle:-o[1]*s}},r)}return l}function Hd(t,e,r){return t.type==="polar"?Wd(t,e,r):Fd(t,e,r)}function Gd(t,e,r){var i=e.getBaseAxis();var n=i.dim==="x"||i.dim==="radius"?0:1;var a=[];for(var o=0;o<t.length-1;o++){var s=t[o+1];var l=t[o];a.push(l);var h=[];switch(r){case"end":h[n]=s[n];h[1-n]=l[1-n];a.push(h);break;case"middle":var u=(l[n]+s[n])/2;var f=[];h[n]=f[n]=u;h[1-n]=l[1-n];f[1-n]=s[1-n];a.push(h);a.push(f);break;default:h[n]=l[n];h[1-n]=s[1-n];a.push(h)}}t[o]&&a.push(t[o]);return a}function Vd(t,e){var r=t.getVisual("visualMeta");if(!r||!r.length||!t.count()){return}var i;for(var n=r.length-1;n>=0;n--){if(r[n].dimension<2){i=r[n];break}}if(!i||e.type!=="cartesian2d"){return}var a=i.dimension;var o=t.dimensions[a];var s=e.getAxis(o);var l=L(i.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}});var h=l.length;var u=i.outerColors.slice();if(h&&l[0].coord>l[h-1].coord){l.reverse();u.reverse()}var f=10;var c=l[0].coord-f;var v=l[h-1].coord+f;var d=v-c;if(d<.001){return"transparent"}A(l,function(t){t.offset=(t.coord-c)/d});l.push({offset:h?l[h-1].offset:.5,color:u[1]||"transparent"});l.unshift({offset:h?l[0].offset:.5,color:u[0]||"transparent"});var p=new Zo(0,0,0,0,l,true);p[o]=c;p[o+"2"]=v;return p}Ph.extend({type:"line",init:function(){var t=new Fe;var e=new pd;this.group.add(e.group);this._symbolDraw=e;this._lineGroup=t},render:function(t,e,r){var i=t.coordinateSystem;var n=this.group;var a=t.getData();var o=t.getModel("lineStyle.normal");var s=t.getModel("areaStyle.normal");var l=a.mapArray(a.getItemLayout,true);var h=i.type==="polar";var u=this._coordSys;var f=this._symbolDraw;var c=this._polyline;var v=this._polygon;var d=this._lineGroup;var p=t.get("animation");var g=!s.isEmpty();var m=Nd(i,a);var y=t.get("showSymbol");var _=y&&!h&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(a,i);var x=this._data;x&&x.eachItemGraphicEl(function(t,e){if(t.__temp){n.remove(t);x.setItemGraphicEl(e,null)}});if(!y){f.remove()}n.add(d);var b=!h&&t.get("step");if(!(c&&u.type===i.type&&b===this._step)){y&&f.updateData(a,_);if(b){l=Gd(l,i,b);m=Gd(m,i,b)}c=this._newPolyline(l,i,p);if(g){v=this._newPolygon(l,m,i,p)}d.setClipPath(Hd(i,true,t))}else{if(g&&!v){v=this._newPolygon(l,m,i,p)}else if(v&&!g){d.remove(v);v=this._polygon=null}d.setClipPath(Hd(i,false,t));y&&f.updateData(a,_);a.eachItemGraphicEl(function(t){t.stopAnimation(true)});if(!zd(this._stackedOnPoints,m)||!zd(this._points,l)){if(p){this._updateAnimation(a,m,i,r,b)}else{if(b){l=Gd(l,i,b);m=Gd(m,i,b)}c.setShape({points:l});v&&v.setShape({points:l,stackedOnPoints:m})}}}var S=Vd(a,i)||a.getVisual("color");c.useStyle(w(o.getLineStyle(),{fill:"none",stroke:S,lineJoin:"bevel"}));var M=t.get("smooth");M=Bd(t.get("smooth"));c.setShape({smooth:M,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")});if(v){var T=a.stackedOn;var C=0;v.useStyle(w(s.getAreaStyle(),{fill:S,opacity:.7,lineJoin:"bevel"}));if(T){var k=T.hostModel;C=Bd(k.get("smooth"))}v.setShape({smooth:M,stackedOnSmooth:C,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=a;this._coordSys=i;this._stackedOnPoints=m;this._points=l;this._step=b},dispose:function(){},highlight:function(t,e,r,i){var n=t.getData();var a=ll(n,i);if(!(a instanceof Array)&&a!=null&&a>=0){var o=n.getItemGraphicEl(a);if(!o){var s=n.getItemLayout(a);if(!s){return}o=new ld(n,a);o.position=s;o.setZ(t.get("zlevel"),t.get("z"));o.ignore=isNaN(s[0])||isNaN(s[1]);o.__temp=true;n.setItemGraphicEl(a,o);o.stopSymbolAnimation(true);this.group.add(o)}o.highlight()}else{Ph.prototype.highlight.call(this,t,e,r,i)}},downplay:function(t,e,r,i){var n=t.getData();var a=ll(n,i);if(a!=null&&a>=0){var o=n.getItemGraphicEl(a);if(o){if(o.__temp){n.setItemGraphicEl(a,null);this.group.remove(o)}else{o.downplay()}}}else{Ph.prototype.downplay.call(this,t,e,r,i)}},_newPolyline:function(t){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new Dd({shape:{points:t},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(t,e){var r=this._polygon;if(r){this._lineGroup.remove(r)}r=new Od({shape:{points:t,stackedOnPoints:e},silent:true});this._lineGroup.add(r);this._polygon=r;return r},_getSymbolIgnoreFunc:function(t,e){var r=e.getAxesByScale("ordinal")[0];if(r&&r.isLabelIgnored){return O(r.isLabelIgnored,r)}},_updateAnimation:function(t,e,r,i,n){var a=this._polyline;var o=this._polygon;var s=t.hostModel;var l=wd(this._data,t,this._stackedOnPoints,e,this._coordSys,r);var h=l.current;var u=l.stackedOnCurrent;var f=l.next;var c=l.stackedOnNext;if(n){h=Gd(l.current,r,n);u=Gd(l.stackedOnCurrent,r,n);f=Gd(l.next,r,n);c=Gd(l.stackedOnNext,r,n)}a.shape.__points=l.current;a.shape.points=h;Ds(a,{shape:{points:f}},s);if(o){o.setShape({points:h,stackedOnPoints:u});Ds(o,{shape:{points:f,stackedOnPoints:c}},s)}var v=[];var d=l.status;for(var p=0;p<d.length;p++){var g=d[p].cmd;if(g==="="){var m=t.getItemGraphicEl(d[p].idx1);if(m){v.push({el:m,ptIdx:p})}}}if(a.animators&&a.animators.length){a.animators[0].during(function(){for(var t=0;t<v.length;t++){var e=v[t].el;e.attr("position",a.shape.__points[v[t].ptIdx])}})}},remove:function(t){var e=this.group;var r=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);r&&r.eachItemGraphicEl(function(t,i){if(t.__temp){e.remove(t);r.setItemGraphicEl(i,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var qd=function(t,e,r,i,n){i.eachRawSeriesByType(t,function(t){var n=t.getData();var a=t.get("symbol")||e;var o=t.get("symbolSize");n.setVisual({legendSymbol:r||a,symbol:a,symbolSize:o});if(!i.isSeriesFiltered(t)){if(typeof o==="function"){n.each(function(e){var r=t.getRawValue(e);var i=t.getDataParams(e);n.setItemVisual(e,"symbolSize",o(r,i))})}n.each(function(t){var e=n.getItemModel(t);var r=e.getShallow("symbol",true);var i=e.getShallow("symbolSize",true);if(r!=null){n.setItemVisual(t,"symbol",r)}if(i!=null){n.setItemVisual(t,"symbolSize",i)}})}})};var Xd=function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData();var r=t.coordinateSystem;if(!r){return}var i=[];var n=r.dimensions;for(var a=0;a<n.length;a++){i.push(t.coordDimToDataDim(r.dimensions[a])[0])}if(i.length===1){e.each(i[0],function(t,i){e.setItemLayout(i,isNaN(t)?[NaN,NaN]:r.dataToPoint(t))})}else if(i.length===2){e.each(i,function(t,i,n){e.setItemLayout(n,isNaN(t)||isNaN(i)?[NaN,NaN]:r.dataToPoint([t,i]))},true)}})};var Zd={average:function(t){var e=0;var r=0;for(var i=0;i<t.length;i++){if(!isNaN(t[i])){e+=t[i];r++}}return r===0?NaN:e/r},sum:function(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]||0}return e},max:function(t){var e=-Infinity;for(var r=0;r<t.length;r++){t[r]>e&&(e=t[r])}return e},min:function(t){var e=Infinity;for(var r=0;r<t.length;r++){t[r]<e&&(e=t[r])}return e},nearest:function(t){return t[0]}};var Yd=function(t,e){return Math.round(t.length/2)};var Ud=function(t,e,r){e.eachSeriesByType(t,function(t){var e=t.getData();var r=t.get("sampling");var i=t.coordinateSystem;if(i.type==="cartesian2d"&&r){var n=i.getBaseAxis();var a=i.getOtherAxis(n);var o=n.getExtent();var s=o[1]-o[0];var l=Math.round(e.count()/s);if(l>1){var h;if(typeof r==="string"){h=Zd[r]}else if(typeof r==="function"){h=r}if(h){e=e.downSample(a.dim,1/l,h,Yd);t.setData(e)}}}},this)};Ju(z(qd,"line","circle","line"));Ku(z(Xd,"line"));Yu($h.PROCESSOR.STATISTIC,z(Ud,"line"));t.version=Hh;t.dependencies=Gh;t.PRIORITY=$h;t.init=Nu;t.connect=Fu;t.disConnect=Wu;t.disconnect=Hu;t.dispose=Gu;t.getInstanceByDom=Vu;t.getInstanceById=qu;t.registerTheme=Xu;t.registerPreprocessor=Zu;t.registerProcessor=Yu;t.registerPostUpdate=Uu;t.registerAction=ju;t.registerCoordinateSystem=$u;t.getCoordinateSystemDimensions=Qu;t.registerLayout=Ku;t.registerVisual=Ju;t.registerLoading=tf;t.extendComponentModel=ef;t.extendComponentView=rf;t.extendSeriesModel=nf;t.extendChartView=af;t.setCanvasCreator=of;t.registerMap=sf;t.getMap=lf;t.dataTool=hf});